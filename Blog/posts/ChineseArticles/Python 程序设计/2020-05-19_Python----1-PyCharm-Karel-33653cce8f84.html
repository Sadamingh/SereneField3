<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>Python程序设计1 PyCharm和Karel</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">Python程序设计1 PyCharm和Karel</h1>
</header>
<section data-field="subtitle" class="p-summary">
系列：Python程序设计
</section>
<section data-field="body" class="e-content">
<section name="f4cd" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="8120" id="8120" class="graf graf--h3 graf--leading graf--title">Python程序设计1 PyCharm和Karel</h3><figure name="cc83" id="cc83" class="graf graf--figure graf-after--h3"><img class="graf-image" data-image-id="1*nMQTiDVkQq7j6ZlqQEKLbQ.jpeg" data-width="2689" data-height="1513" data-is-featured="true" src="https://cdn-images-1.medium.com/max/800/1*nMQTiDVkQq7j6ZlqQEKLbQ.jpeg"></figure><p name="f938" id="f938" class="graf graf--p graf-after--figure">这是Python语言的基础课程。在学习这门课程之前，我们不需要有任何的编程基础，它根据的原型是Stanford的CS106A。我知道它应该算作计算机科学中的一部分，但是，因为我们在数据科学中有着更多的应用，所以我们在这里将Python程序设计归档到数据科学的tag下。</p><p name="27ae" id="27ae" class="graf graf--p graf-after--p">一、安装PyCharm</p><p name="4468" id="4468" class="graf graf--p graf-after--p">为了让我们的计算机能够理解Python语言，我们需要为他安装Python解释器，版本号为v3.8。在OSX系统下，我们已经自带了Python语言，但是它并不是最新的Python3版本。在我们的介绍中，我们将会使用的Python版本为Python3.8。因此我们需要一个新的解释器：<a href="https://www.python.org/ftp/python/3.8.1/python-3.8.1-macosx10.9.pkg" data-href="https://www.python.org/ftp/python/3.8.1/python-3.8.1-macosx10.9.pkg" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">点击这里</a>进行下载。</p><p name="ddda" id="ddda" class="graf graf--p graf-after--p">此外，为了更容易地编写程序，我们还需要使用一个IDE来写代码。我们在本系列中使用的IDE是PyCharm v2019.3.4：<a href="https://download.jetbrains.com/python/pycharm-community-2019.3.4.dmg" data-href="https://download.jetbrains.com/python/pycharm-community-2019.3.4.dmg" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">点击这里</a>进行下载（OSX版本）。</p><p name="2b19" id="2b19" class="graf graf--p graf-after--p">对于IDE的配置和安装，我们需要按照Stanford给出的网址去配置，网址中包括一个实例文件用来测试是否成功配置：网址请<a href="http://web.stanford.edu/class/cs106a/handouts/installingpycharm.html" data-href="http://web.stanford.edu/class/cs106a/handouts/installingpycharm.html" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">点击这里</a>。注意如果我们曾经安装过python3的其他版本，比如python3.7，在terminal输入命令的时候我们需要输入python3.8而不是python3。</p><p name="e39f" id="e39f" class="graf graf--p graf-after--p">二、什么是Karel</p><p name="d636" id="d636" class="graf graf--p graf-after--p">1970年代，斯坦福大学的一位名叫里奇·帕蒂斯（Rich Pattis）的研究生决定，如果学生能够以某种方式在一个简单的环境中学习基本概念，而又没有大多数编程语言所具有的复杂性，那将更容易教授编程的基础知识。Rich设计了一个入门编程环境，在该环境中，学生可以教一个机器人解决简单的问题。该机器人以捷克剧作家<a href="https://en.wikipedia.org/wiki/Karel_%C4%8Capek" data-href="https://en.wikipedia.org/wiki/Karel_%C4%8Capek" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Karel Čapek的</a>名字命名，他在1923年饰演RUR（<a href="https://en.wikipedia.org/wiki/R.U.R." data-href="https://en.wikipedia.org/wiki/R.U.R." class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">罗森</a>（<a href="https://en.wikipedia.org/wiki/R.U.R." data-href="https://en.wikipedia.org/wiki/R.U.R." class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Rossum）的Universal Robots</a>）后将<a href="https://en.wikipedia.org/wiki/R.U.R." data-href="https://en.wikipedia.org/wiki/R.U.R." class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">机器人</a>这个词赋予了英语。</p><p name="367c" id="367c" class="graf graf--p graf-after--p">Karel是生活在非常简单的世界中的非常简单的机器人。通过给Karel提供一组命令，您可以指导它在其世界范围内执行某些任务。指定这些命令的过程称为<strong class="markup--strong markup--p-strong">编程</strong>。最初，Karel仅了解很少的预定义命令，但是编程过程的重要组成部分是教授Karel扩展其功能的新命令。</p><p name="4cff" id="4cff" class="graf graf--p graf-after--p">Karel程序具有与<a href="https://en.wikipedia.org/wiki/Python_%28programming_language%29" data-href="https://en.wikipedia.org/wiki/Python_(programming_language)" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Python</a>（一种主要的<a href="https://en.wikipedia.org/wiki/Programming_language" data-href="https://en.wikipedia.org/wiki/Programming_language" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">编程语言）</a>相同的结构和相同的基本元素。关键的区别在于Karel的编程语言非常小，因此这些细节很容易掌握。即使如此，您仍会发现解决问题可能会充满挑战。从Karel开始，您可以从一开始就专注于解决问题。解决问题是编程的本质。而且，由于Karel鼓励想象力和创造力，因此您可以在此过程中获得很多乐趣。</p><p name="19e2" id="19e2" class="graf graf--p graf-after--p">关于Karel的一切，我们可以从Stanford的<a href="https://compedu.stanford.edu/karel-reader/docs/python/en/intro.html" data-href="https://compedu.stanford.edu/karel-reader/docs/python/en/intro.html" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">这个项目</a>中找到，这是一个交互式的项目，我们需要阅读这个项目中的全部内容。这个项目中已经叙述清楚的内容在这里将不会继续赘述。</p><p name="fd5d" id="fd5d" class="graf graf--p graf-after--p">三、配置Karel</p><p name="3197" id="3197" class="graf graf--p graf-after--p">首先我们点击这个<a href="https://web.stanford.edu/class/cs106a/starterCode/Assignment1.zip" data-href="https://web.stanford.edu/class/cs106a/starterCode/Assignment1.zip" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">链接</a>（它是在课程官网上获得的，但是这个链接并不是公开的，需要绕过一个问卷才能得到），我们会得到一个名字为Assignment1.zip的文件。我们在电脑中解压这个文件。</p><p name="4fe6" id="4fe6" class="graf graf--p graf-after--p">下一步我们打开PyCharm，点击Assignment1文件夹并且点击Open去打开它（记得一定要确认interpreter的python版本为3.8，如果你不记得如何配置，请回到第一部分并仔细阅读），你将会得到下面的画面（如果你不能得到这样的画面，请单击左边的Project打开左边的文件目录条）。</p><figure name="a85a" id="a85a" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*IHOmpsQ7kp70K0OiBj00uA.png" data-width="1536" data-height="642" src="https://cdn-images-1.medium.com/max/800/1*IHOmpsQ7kp70K0OiBj00uA.png"></figure><p name="d3d5" id="d3d5" class="graf graf--p graf-after--figure">从左边的侧边条中，我们可以看到很多文件和文件夹，我们暂时不需要去理解全部文件的含义。我们可以双击打开任何一个文件，比如，我们可以双击CollectNewspaperKarel.py文件来显示它的内容。例如下图：</p><figure name="9d8a" id="9d8a" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*D9xBKo3BHqHZvrxpNk49EQ.png" data-width="1520" data-height="542" src="https://cdn-images-1.medium.com/max/800/1*D9xBKo3BHqHZvrxpNk49EQ.png"></figure><p name="52e5" id="52e5" class="graf graf--p graf-after--figure">我们看到主函数中只有一个pass语句，这表示我们的Karel只能够保持在初始状态（并没有任何控制语句被执行）。我们在代码区域单击右键在弹出的菜单中选择run（它是一个绿色的三角形）：</p><figure name="f9d3" id="f9d3" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*sTPnn2nT1csra5xbab05HQ.png" data-width="1574" data-height="896" src="https://cdn-images-1.medium.com/max/800/1*sTPnn2nT1csra5xbab05HQ.png"></figure><p name="be19" id="be19" class="graf graf--p graf-after--figure">之后，我们会得到一个弹窗，如下图所示。现在你还无法进行任何操作，这是因为我们还没有对它进行配置。</p><figure name="41b9" id="41b9" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*j-tLBUmJwMm3Je8cHHz-aA.png" data-width="1588" data-height="618" src="https://cdn-images-1.medium.com/max/800/1*j-tLBUmJwMm3Je8cHHz-aA.png"></figure><p name="ac94" id="ac94" class="graf graf--p graf-after--figure">我们假设我们已经知道如何完成这个任务（当然你暂时不可能知道，除非有我），我们更改main函数中的内容为如下内容：</p><pre name="c7fe" id="c7fe" class="graf graf--pre graf-after--p">def main():<br>    move()<br>    turn_karel_right()<br>    move()<br>    turn_left()<br>    move()<br>    pick_beeper()</pre><p name="a64d" id="a64d" class="graf graf--p graf-after--pre">我们再来运行程序，这次我们点击Run Program，我们可以看到Karel往右侧移动了一个格子，但是程序很快就崩溃了。我们在下面得到错误：</p><pre name="e6b4" id="e6b4" class="graf graf--pre graf-after--p">NameError: name ‘turn_karel_right’ is not defined</pre><p name="f450" id="f450" class="graf graf--p graf-after--pre">这表示，对于turn_karel_right()这个函数，我们是缺少相应的定义的，这给程序的运行造成了困难。如果我们想要实现这个函数名字所指的功能，我们就需要自己亲手写一个这个函数出来（因为向右转一次等于向左转三次）：</p><pre name="6c07" id="6c07" class="graf graf--pre graf-after--p">def turn_karel_right():<br>    turn_left()<br>    turn_left()<br>    turn_left()</pre><p name="a2df" id="a2df" class="graf graf--p graf-after--pre">之后我们再运行程序……Oops，程序再一次崩溃了，这是因为我们最后停下的位置Karel并不能捡起一个Beeper。这一次的错误为：</p><pre name="5f94" id="5f94" class="graf graf--pre graf-after--p">Invalid action: Karel attempted to pick up a beeper, but there were none on the current corner.</pre><p name="d81b" id="d81b" class="graf graf--p graf-after--pre">我们将这种错误称为逻辑错误，因为我们的指令本身没有出错，只是配合我们指令运行的内容（Karel所在的世界在那一点上是否有Beeper）导致了我们错误的产生。</p><p name="4696" id="4696" class="graf graf--p graf-after--p">我们当然可以解决这个问题，我们让Karel多走一步，就可以拿到了。这意味着我们需要再添加一个move()代码。代码如下所示：</p><pre name="bef7" id="bef7" class="graf graf--pre graf-after--p">def main():<br>    move()<br>    turn_karel_right()<br>    move()<br>    turn_left()<br>    move()<br>    move()<br>    pick_beeper()</pre><p name="131e" id="131e" class="graf graf--p graf-after--pre">我们也可以改变Karnel所在的世界。我们run程序之后点击load world，之后我们进入Assignment1目录，再进入world目录，在其中选择合适的地图即可。到这里，我们已经完成了全部的对keral的基本了解。</p><p name="31df" id="31df" class="graf graf--p graf-after--p">三、更多Karel</p><p name="2b3d" id="2b3d" class="graf graf--p graf-after--p">这一部分是一些练习。原题目要求了更高的适应性，所以下面的答案不能解决原题目中的问题（我后来才发现的，但是不想改了），请各位自行进行修改。</p><ol class="postList"><li name="d15e" id="d15e" class="graf graf--li graf-after--p">在CollectNewspaperKarel.py中实现：</li></ol><ul class="postList"><li name="f368" id="f368" class="graf graf--li graf-after--li">走到Newspaper</li><li name="180f" id="180f" class="graf graf--li graf-after--li">捡起</li><li name="ac8a" id="ac8a" class="graf graf--li graf-after--li">回到起点</li></ul><p name="1b04" id="1b04" class="graf graf--p graf-after--li">代码如下：</p><pre name="5175" id="5175" class="graf graf--pre graf-after--p">def turn_right():<br>    turn_left()<br>    turn_left()<br>    turn_left()<br><br><br>def main():<br>    move()<br>    turn_right()<br>    move()<br>    turn_left()<br>    move()<br>    move()<br>    pick_beeper()<br>    turn_left()<br>    turn_left()<br>    move()<br>    move()<br>    turn_right()<br>    move()<br>    turn_left()<br>    move()</pre><p name="64ab" id="64ab" class="graf graf--p graf-after--pre">2. 在TripleKarel.py中实现：</p><ul class="postList"><li name="7ae9" id="7ae9" class="graf graf--li graf-after--p">在三个大楼的外圈（不需要内侧和角）放上beeper，如图</li></ul><figure name="8c88" id="8c88" class="graf graf--figure graf-after--li"><img class="graf-image" data-image-id="1*R9EWwUlAPM23TRg0EZ2ZgA.png" data-width="1080" data-height="534" src="https://cdn-images-1.medium.com/max/800/1*R9EWwUlAPM23TRg0EZ2ZgA.png"></figure><p name="fcf0" id="fcf0" class="graf graf--p graf-after--figure">代码如下：</p><pre name="83d9" id="83d9" class="graf graf--pre graf-after--p">def turn_right():<br>    turn_left()<br>    turn_left()<br>    turn_left()<br><br><br>def beeper_move(t):<br>    for i in range(t):<br>        move()<br>        put_beeper()<br><br><br>def corner():<br>    move()<br>    turn_left()<br>    move()<br>    put_beeper()<br><br><br>def main():<br>    put_beeper()<br>    beeper_move(3)<br>    corner()<br>    beeper_move(2)<br>    corner()<br>    beeper_move(4)<br>    turn_right()<br>    beeper_move(2)<br>    corner()<br>    beeper_move(2)<br>    corner()<br>    beeper_move(3)<br>    turn_right()<br>    beeper_move(1)<br>    corner()<br>    beeper_move(2)<br>    corner()<br>    beeper_move(1)<br>    move()</pre><p name="5d98" id="5d98" class="graf graf--p graf-after--pre">3. 在StoneMasonKarel.py中实现：</p><ul class="postList"><li name="da5d" id="da5d" class="graf graf--li graf-after--p">地图是在1989年Loma Prieta地震中被损毁的一个建筑物的门柱。我们的Karel需要修复这些柱子。它要把Stone补充到缺失的地方，如图所示：</li></ul><figure name="3114" id="3114" class="graf graf--figure graf-after--li"><img class="graf-image" data-image-id="1*0-OUux13lbxv4GlQPWGUaw.png" data-width="1516" data-height="620" src="https://cdn-images-1.medium.com/max/800/1*0-OUux13lbxv4GlQPWGUaw.png"></figure><p name="06cd" id="06cd" class="graf graf--p graf-after--figure">代码如下：</p><pre name="bfda" id="bfda" class="graf graf--pre graf-after--p">def turn_right():<br>    turn_left()<br>    turn_left()<br>    turn_left()<br><br><br>def turn_back():<br>    turn_left()<br>    turn_left()<br><br><br>def checker():<br>    turn_left()<br>    for i in range(5):<br>        if no_beepers_present():<br>            put_beeper()<br>            if not front_is_blocked():<br>                move()<br>        else:<br>            if not front_is_blocked():<br>                move()<br>    turn_back()<br>    for i in range(5):<br>        if not front_is_blocked():<br>            move()<br>        else:<br>            turn_left()<br><br><br>def more_move(t):<br>    for i in range(t):<br>        move()<br><br><br>def main():<br>    checker()<br>    more_move(4)<br>    checker()<br>    more_move(4)<br>    checker()<br>    more_move(4)<br>    checker()</pre><p name="7d7d" id="7d7d" class="graf graf--p graf-after--pre">4. 在CheckerboardKarel.py中实现：</p><ul class="postList"><li name="6bb7" id="6bb7" class="graf graf--li graf-after--p">Karel需要在World上放置如下状态的Beeper（Karel最后在哪不重要）：</li></ul><figure name="2e6e" id="2e6e" class="graf graf--figure graf-after--li"><img class="graf-image" data-image-id="1*9A7Ah6WOz3326QbnquPDqA.png" data-width="1516" data-height="588" src="https://cdn-images-1.medium.com/max/800/1*9A7Ah6WOz3326QbnquPDqA.png"></figure><pre name="3d85" id="3d85" class="graf graf--pre graf-after--figure">def turn_right():<br>    turn_left()<br>    turn_left()<br>    turn_left()<br><br><br>def little_pattern(t):<br>    put_beeper()<br>    move()<br>    if not front_is_blocked():<br>        move()<br>    else:<br>        if t == 1:<br>            turn_left()<br>        else:<br>            turn_right()<br><br><br>def line_pattern(t):<br>    for i in range(4):<br>        little_pattern(t)<br><br><br>def double_lines_pattern():<br>    line_pattern(1)<br>    move()<br>    turn_left()<br>    line_pattern(2)<br><br><br>def main():<br>    for i in range(3):<br>        double_lines_pattern()<br>        move()<br>        turn_right()<br>    double_lines_pattern()</pre><p name="f69e" id="f69e" class="graf graf--p graf-after--pre">5. 在MidpointKarel.py中实现：</p><ul class="postList"><li name="ba85" id="ba85" class="graf graf--li graf-after--p">不论Street 1有多长，永远在中点放置一个Beeper</li></ul><pre name="9eac" id="9eac" class="graf graf--pre graf-after--li graf--trailing">def turn_back():<br>    turn_left()<br>    turn_left()<br><br><br>def counter():<br><br>    count = 0<br><br>    while(True):<br>        if not front_is_blocked():<br>            count = count + 1<br>            move()<br>        else:<br>            break<br><br>    return count<br><br><br>def main():<br><br>    cnt = counter()<br><br>    turn_back()<br><br>    for i in range(int(cnt/2)):<br>        move()<br><br>    put_beeper()</pre></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@adamedelweiss" class="p-author h-card">Adam Edelweiss</a> on <a href="https://medium.com/p/33653cce8f84"><time class="dt-published" datetime="2020-05-19T18:40:55.419Z">May 19, 2020</time></a>.</p><p><a href="https://medium.com/@adamedelweiss/python%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A11-pycharm%E5%92%8Ckarel-33653cce8f84" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on December 15, 2021.</p></footer></article></body></html>