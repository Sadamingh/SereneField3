<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>Software Development Process 6 | Introduction to Android, Android Development, and a Case Study</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">Software Development Process 6 | Introduction to Android, Android Development, and a Case Study</h1>
</header>
<section data-field="subtitle" class="p-summary">
Series: Software Development Process
</section>
<section data-field="body" class="e-content">
<section name="5881" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="d765" id="d765" class="graf graf--h3 graf--leading graf--title">Software Development Process 6 | <strong class="markup--strong markup--h3-strong">Introduction to Android, Android Development, and a Case Study</strong></h3><figure name="c860" id="c860" class="graf graf--figure graf-after--h3"><img class="graf-image" data-image-id="0*_8RMbClG1m5z_9Wj.png" data-width="700" data-height="328" data-is-featured="true" src="https://cdn-images-1.medium.com/max/800/0*_8RMbClG1m5z_9Wj.png"></figure><ol class="postList"><li name="ce61" id="ce61" class="graf graf--li graf-after--figure"><strong class="markup--strong markup--li-strong">Introduction to Android</strong></li></ol><p name="0bbc" id="0bbc" class="graf graf--p graf-after--li"><strong class="markup--strong markup--p-strong">(1) What is Android?</strong></p><p name="5018" id="5018" class="graf graf--p graf-after--p">Android is an operating system designed for mobile devices where mobile devices are devices that are characterized by the fact of having touch screens and sensors. An important characteristic of the Android operating system is that it is based on the <strong class="markup--strong markup--p-strong">Linux kernel</strong>. And in order to be able to run an application, it is powered by a Java-based virtual machine, which is called the <strong class="markup--strong markup--p-strong">Dalvik VM</strong>.</p><p name="1986" id="1986" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">(2) Basic Architecture of Android</strong></p><ul class="postList"><li name="d54c" id="d54c" class="graf graf--li graf-after--p"><strong class="markup--strong markup--li-strong">APPs</strong> (top layer): Android apps are applications that are written in Java, and that get compiled into byte code, packaged, and installed on the Android system.</li><li name="00ae" id="00ae" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">Application Framework</strong> (layer 2): The application framework is that layer that provides the services that are needed by Android apps to run such as the Window manager, the telephony manager, the location manager, and the resource managers and there are many more.</li><li name="e676" id="e676" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">Android Native Libraries</strong> (layer 3–1): The Android native libraries provide APIs for various functionalities. For example, the DB APIs (e.g. SQLite), the WebKit APIs, the SSL APIs, OpenGL, and so on.</li><li name="a7fa" id="a7fa" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">Android Runtime</strong> (layer 3–2): In addition to the libraries, the same layer also contains the Android runtime which consists of the Dalvik virtual machine which we just discussed, and also the core Java libraries. Basically, the core Java libraries are the Android version of the standard Java libraries, also called <strong class="markup--strong markup--li-strong">JDKs</strong>.</li><li name="855a" id="855a" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">Linux Kernel</strong> (basic layer): this is the core of the Android operating system and it is a standard Linux kernel, as we said, with some customizations made by Google that can be used for interacting with the hardware.</li></ul><p name="e487" id="e487" class="graf graf--p graf-after--li"><strong class="markup--strong markup--p-strong">(3) Android App Components</strong></p><p name="824c" id="824c" class="graf graf--p graf-after--p">An Android application is slightly different from the traditional application, as it is a collection of several components of different types. We have,</p><ul class="postList"><li name="c234" id="c234" class="graf graf--li graf-after--p"><strong class="markup--strong markup--li-strong">Activities</strong></li><li name="7e1c" id="7e1c" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">Services</strong></li><li name="11ce" id="11ce" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">Content Providers</strong></li><li name="d91a" id="d91a" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">Broadcast receivers</strong></li></ul><p name="c89a" id="c89a" class="graf graf--p graf-after--li">And all these four components are connected by <strong class="markup--strong markup--p-strong">intents</strong> and tied together by what we call an Android <strong class="markup--strong markup--p-strong">Manifest</strong> which is an XML file that declares the components and some properties of your application.</p><p name="9606" id="9606" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">(4) The Definition of Activities</strong></p><p name="18d2" id="18d2" class="graf graf--p graf-after--p">An activity is a single screen with a user interface (UI). For example, a phone dialer is an activity. Here are some other things to know about activities,</p><ul class="postList"><li name="4ca1" id="4ca1" class="graf graf--li graf-after--p">Independent Units: activities are independent units</li><li name="5683" id="5683" class="graf graf--li graf-after--li">Coherence: activities can work together to form a cohesive wholes</li><li name="8c5e" id="8c5e" class="graf graf--li graf-after--li">Invocable: activities can be invoked by other applications (i.e. invoke the camera)</li><li name="aafc" id="aafc" class="graf graf--li graf-after--li">Extendable: we can create an activity by simply extending the activity class, which is part of the Android system</li></ul><p name="cb25" id="cb25" class="graf graf--p graf-after--li"><strong class="markup--strong markup--p-strong">(5) The Definition of Service</strong></p><p name="8176" id="8176" class="graf graf--p graf-after--p">A service is an application component that performs a usually long-running operation in the <strong class="markup--strong markup--p-strong">background</strong> while not interacting with the user. It is a way for the app to tell the system about something that it wants to continue doing in the background, even when the user leaves the application. For example,</p><ul class="postList"><li name="d5ec" id="d5ec" class="graf graf--li graf-after--p">a service for playing music</li><li name="9a73" id="9a73" class="graf graf--li graf-after--li">a download service</li></ul><p name="c7d4" id="c7d4" class="graf graf--p graf-after--li">Because services run in the background and they don’t interact with the user, unlike an activity, services do not provide a UI. Similar to activities, the way to create a service is simply to extend the service class. Here are some main usages of the services,</p><ul class="postList"><li name="3e70" id="3e70" class="graf graf--li graf-after--p">a way for APPs to run in the background</li><li name="f1de" id="f1de" class="graf graf--li graf-after--li">a way for applications to expose some of this functionality. By doing so, applications can bind to the service and use the service.</li></ul><p name="fd6a" id="fd6a" class="graf graf--p graf-after--li"><strong class="markup--strong markup--p-strong">(6) The Definition of Content Provider</strong></p><p name="7634" id="7634" class="graf graf--p graf-after--p">The content provider provides a structured interface to a set of data such as a set of pictures or media files. For example, these include,</p><ul class="postList"><li name="f648" id="f648" class="graf graf--li graf-after--p"><code class="markup--code markup--li-code">Insert()</code></li><li name="8461" id="8461" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">Update()</code></li><li name="fb71" id="fb71" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">Delete()</code></li><li name="8cea" id="8cea" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">Query()</code></li><li name="22ab" id="22ab" class="graf graf--li graf-after--li">etc.</li></ul><p name="5863" id="5863" class="graf graf--p graf-after--li">As we saw earlier, Android contains an implementation of the SQLite Database manager. So, very often, apps rely on an SQLite database to store the data and a content provider to give it access to such data. In some cases, a provider can be used for accessing data within an application. In which case, the data will be application data, such as a list of items to be bought for a shopping list management application.</p><p name="3313" id="3313" class="graf graf--p graf-after--p">More generally, a provider can be used by an application to also share data with <strong class="markup--strong markup--p-strong">other applications</strong>. So in this case, all these applications will be able to access the same data through a common, well-structured interface, which is the one provided by the content provider.</p><p name="4738" id="4738" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">(7) The Definition of Broadcast Receiver</strong></p><p name="eca6" id="eca6" class="graf graf--p graf-after--p">The broadcast receiver is a receiver that can be registered to receive system or <strong class="markup--strong markup--p-strong">application events</strong>. What the broadcast receiver can do is register with the Android system a specific event of interest and the Android system will notify the broadcast receiver every time an event of that kind will occur.</p><p name="d14a" id="d14a" class="graf graf--p graf-after--p">For example, consider a music player. A music player could use a broadcast receiver to register for the event of incoming phone calls because it wants to suspend playing music every time there is an incoming phone call. Similarly, it could also register for the end of the phone call because it might want to resume playing music every time a phone call is ended.</p><p name="2152" id="2152" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">(8) The Definition of Intents</strong></p><p name="6a0c" id="6a0c" class="graf graf--p graf-after--p">The four components above that we just saw can be connected by using intents. An intent is an abstract description of an operation to be performed and it consists of two main parts,</p><ul class="postList"><li name="f5e1" id="f5e1" class="graf graf--li graf-after--p">An action: the action is the action to be performed, which is indicated as a string. For example, a phone call.</li><li name="439c" id="439c" class="graf graf--li graf-after--li">A set of data: the data is the data on which the action will operate. For example, a phone number.</li></ul><p name="248e" id="248e" class="graf graf--p graf-after--li">They provide the developers with a way to perform late binding between different applications to connect applications that were not initially meant to be connected.</p><p name="80c4" id="80c4" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">(9) An Example of Intents</strong></p><p name="1b31" id="1b31" class="graf graf--p graf-after--p">Let’s imagine we are making a phone call. We first open the contact app, find the guy we want to connect with, and then click the calling button with a phone icon to make that call. This is an intent in which the action is <code class="markup--code markup--p-code">call</code>, and the data is the <code class="markup--code markup--p-code">phone number</code> for the person that you want to call. So what the final result is that we start an activity, and then another activity happens through the intent.</p><p name="d8ff" id="d8ff" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">(10) Types of Bindings</strong></p><p name="800b" id="800b" class="graf graf--p graf-after--p">When we use intents, it actually performs an action in one activity and another activity is started as a consequence. There are different ways in which this can happen,</p><ul class="postList"><li name="d2b4" id="d2b4" class="graf graf--li graf-after--p"><strong class="markup--strong markup--li-strong">Direct Binding for Activities</strong>: the activity or the app generating the intent will directly start an activity from another application</li><li name="beff" id="beff" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">Direct Binding for Services</strong>: the app generating the intent could directly start the service</li><li name="6f4a" id="6f4a" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">Broadcast</strong>: the activity generating the intent and it could broadcast the event to all interested broadcaster receivers</li></ul><p name="8bc4" id="8bc4" class="graf graf--p graf-after--li"><strong class="markup--strong markup--p-strong">(11) Android Manifest</strong></p><p name="9e17" id="9e17" class="graf graf--p graf-after--p">The Manifest is what keeps an Android application together. It is actually an <code class="markup--code markup--p-code">XML</code> file that declares all of the <strong class="markup--strong markup--p-strong">steady components</strong> of your app, including,</p><ul class="postList"><li name="6934" id="6934" class="graf graf--li graf-after--p">Activities</li><li name="1e6b" id="1e6b" class="graf graf--li graf-after--li">Services</li><li name="4f97" id="4f97" class="graf graf--li graf-after--li">Content providers</li></ul><p name="e602" id="e602" class="graf graf--p graf-after--li">Broadcast receivers could be defined either statically in the Manifest or dynamically in run time, so they don’t necessarily have to be in the Manifest.</p><p name="d1ae" id="d1ae" class="graf graf--p graf-after--p">There are also some other features for the manifest,</p><ul class="postList"><li name="6d91" id="6d91" class="graf graf--li graf-after--p">the manifest declares are all the <strong class="markup--strong markup--li-strong">permissions</strong> required for an app to work</li><li name="ad84" id="ad84" class="graf graf--li graf-after--li">the manifest specifies the <strong class="markup--strong markup--li-strong">entry point</strong> for the application</li><li name="27d8" id="27d8" class="graf graf--li graf-after--li">the manifest declares the <strong class="markup--strong markup--li-strong">version</strong> of the app</li><li name="752a" id="752a" class="graf graf--li graf-after--li">the manifest declares the lowest <strong class="markup--strong markup--li-strong">Android SDK version</strong> for which is app is valid</li></ul><p name="0380" id="0380" class="graf graf--p graf-after--li"><strong class="markup--strong markup--p-strong">(12) Android Activity Lifecycle</strong></p><p name="d0e5" id="d0e5" class="graf graf--p graf-after--p">Because Android apps run in a multitasking environment, the runtime system routinely suspends, stops, and even kills applications and activities.</p><p name="b2fb" id="b2fb" class="graf graf--p graf-after--p">If you want an example, just think of the case of a phone call that arrives while you’re writing an email message. In such cases, what happens is that the phone application replaces your email client and gets in the forefront.</p><p name="dd0c" id="dd0c" class="graf graf--p graf-after--p">You can refer to the following diagram about the Android activity lifecycle.</p><figure name="4c3e" id="4c3e" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*p5PJB-U8OmzD3DhpIZLNgQ.png" data-width="1112" data-height="732" src="https://cdn-images-1.medium.com/max/800/1*p5PJB-U8OmzD3DhpIZLNgQ.png"></figure><p name="709b" id="709b" class="graf graf--p graf-after--figure">Let’s start from the top when activity A is launched, then the system will call different methods (e.g. <code class="markup--code markup--p-code">onCreate()</code>, <code class="markup--code markup--p-code">onStart()</code>, and <code class="markup--code markup--p-code">onResume()</code>) on the activity, and will put the activity in the foreground. What that means is that the activity will stay on the screen, visible, the user will be able to interact with the activity, and the activity will be in the <strong class="markup--strong markup--p-strong">running state</strong>.</p><p name="3c7e" id="3c7e" class="graf graf--p graf-after--p">At this point, two things might happen if another activity B is launched,</p><ul class="postList"><li name="4b43" id="4b43" class="graf graf--li graf-after--p"><strong class="markup--strong markup--li-strong">Case 1</strong>: A may lose its focus but still be visible. B is a transparent activity, so it has focus but we can still see the original activity behind it. In this case, the system will call <code class="markup--code markup--li-code">onPause </code>on Activity A and the activity will be in the <strong class="markup--strong markup--li-strong">paused state</strong>. What can happen next is that activity A might be killed or destroyed.</li><li name="a6b3" id="a6b3" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">Case 2</strong>: B is being launched is completely obscuring my original activity A, which is a kind of more standard case. In this case, the system will call <code class="markup--code markup--li-code">onStop</code> on A and the activity will be in the <strong class="markup--strong markup--li-strong">stop state</strong>. Similar to the pause state, activity A still retains all of the state information but it is more likely that it will be killed or destroyed by the system.</li></ul><p name="e747" id="e747" class="graf graf--p graf-after--li">So in the paused state or the stop state, barely three things can happen to our original activity,</p><ul class="postList"><li name="96b1" id="96b1" class="graf graf--li graf-after--p">If the user happens to go back to the activity, the system will recreate it basically, so it will restart it from scratch.</li><li name="d3c1" id="d3c1" class="graf graf--li graf-after--li">When your activity is paused or stopped, the activity is finishing or is being completely destroyed by the system with <code class="markup--code markup--li-code">onDestory</code> method.</li><li name="1348" id="1348" class="graf graf--li graf-after--li">If the activity is not killed, is not destroyed, and the user then simply returns to the activity. In this case, the system will call <code class="markup--code markup--li-code">onRestart()</code> on the activity and the activity will go back to the running state.</li></ul><p name="aecd" id="aecd" class="graf graf--p graf-after--li"><strong class="markup--strong markup--p-strong">2. Android Development</strong></p><p name="615f" id="615f" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">(1) Download and Install Android Studio</strong></p><p name="9295" id="9295" class="graf graf--p graf-after--p">Before we start, we have to download and install the Android Studio for Android development. What we have to do is to go to the <a href="https://developer.android.com/studio#downloads" data-href="https://developer.android.com/studio#downloads" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">download page</a> of the official website and then download the latest version.</p><p name="b945" id="b945" class="graf graf--p graf-after--p">Note that the users in China can only successfully download SDK by assigning a proxy. To do so, you have to choose HTTP Proxy &gt; Manual proxy configuration, and then select SOCKS. You also need to fill in the hostname and the port number.</p><p name="d658" id="d658" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">(2) Starting a New Android Studio Project</strong></p><p name="d2c0" id="d2c0" class="graf graf--p graf-after--p">Select New Project &gt; Phone and Tablet &gt; Empty Activity, then click on Next to continue.</p><figure name="f62a" id="f62a" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*YE9WBpcPfgVdsfr_A8oLZQ.png" data-width="890" data-height="652" src="https://cdn-images-1.medium.com/max/800/1*YE9WBpcPfgVdsfr_A8oLZQ.png"></figure><p name="1692" id="1692" class="graf graf--p graf-after--figure">Set the file name as,</p><pre name="ee06" id="ee06" class="graf graf--pre graf-after--p">Converter</pre><p name="604b" id="604b" class="graf graf--p graf-after--pre">And then specify a specific location for this file. Select the language as Java instead of Kotlin. We will run our example project based on the <code class="markup--code markup--p-code">API 26: Android 8.0 (Oreo)</code>. Finally, click on Finish to create this project.</p><p name="0b44" id="0b44" class="graf graf--p graf-after--p">Debuggers:</p><ul class="postList"><li name="1a1e" id="1a1e" class="graf graf--li graf-after--p"><code class="markup--code markup--li-code">Cause: dl.google.com:443 failed to respond</code>: This means that you can not access the <code class="markup--code markup--li-code">gradle</code> resource from Google. You have to open the file <code class="markup--code markup--li-code">~/.gradle/gradle.properties</code> ,</li></ul><pre name="0911" id="0911" class="graf graf--pre graf-after--li">$ vi ~/.gradle/gradle.properties</pre><p name="80e0" id="80e0" class="graf graf--p graf-after--pre">and then comment on two HTTPS proxy addresses.</p><ul class="postList"><li name="6b5d" id="6b5d" class="graf graf--li graf-after--p"><code class="markup--code markup--li-code">License for package Android SDK Build-Tools xxxxx not accepted.</code> : This is probably because the Android SDK was not successfully installed. You have to go to the SDK manager and find out what’s wrong.</li></ul><p name="0bc6" id="0bc6" class="graf graf--p graf-after--li"><strong class="markup--strong markup--p-strong">(3) Build a Hello World Demo</strong></p><p name="2b1f" id="2b1f" class="graf graf--p graf-after--p">Then we can Select <code class="markup--code markup--p-code">app/res/layout/activity_main.xml</code> . This is the XML file for the activity user interface.</p><figure name="e781" id="e781" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*IidYzQrrBmHyNFh-HfS6GQ.png" data-width="1919" data-height="1079" src="https://cdn-images-1.medium.com/max/800/1*IidYzQrrBmHyNFh-HfS6GQ.png"></figure><p name="f3c5" id="f3c5" class="graf graf--p graf-after--figure">If you select <code class="markup--code markup--p-code">Code</code>, then you will find out the XML layout is actually some XML code that we can modify. However, working in the <code class="markup--code markup--p-code">Design</code> view will be easier for the developers so we don’t have to refine the raw code.</p><figure name="bb8a" id="bb8a" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*2lvpLvwMbqoPWaTmfZCaTw.png" data-width="1919" data-height="1079" src="https://cdn-images-1.medium.com/max/800/1*2lvpLvwMbqoPWaTmfZCaTw.png"></figure><p name="3632" id="3632" class="graf graf--p graf-after--figure">In order to run this Hello World demo, the first thing that we are going to do is to choose a target device. In this case, we are going to select <code class="markup--code markup--p-code">Pixel 2</code> phone.</p><figure name="38bf" id="38bf" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*ZjhymE1Gmc8CZRXNKFC1sw.png" data-width="1919" data-height="1079" src="https://cdn-images-1.medium.com/max/800/1*ZjhymE1Gmc8CZRXNKFC1sw.png"></figure><p name="fe96" id="fe96" class="graf graf--p graf-after--figure">Then we have to choose a device by the ADV Manager,</p><figure name="ffff" id="ffff" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*3iPUFgjj4RgAU9ccAyJZEA.png" data-width="1919" data-height="1079" src="https://cdn-images-1.medium.com/max/800/1*3iPUFgjj4RgAU9ccAyJZEA.png"></figure><p name="6660" id="6660" class="graf graf--p graf-after--figure">Here we will select Pixel 2, click on Next.</p><figure name="a29c" id="a29c" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*Z4tBX_hXYkXnCS4v4sZweQ.png" data-width="1919" data-height="1079" src="https://cdn-images-1.medium.com/max/800/1*Z4tBX_hXYkXnCS4v4sZweQ.png"></figure><p name="dba3" id="dba3" class="graf graf--p graf-after--figure">And then download the device of Oreo x86 Android 8.0 if you haven’t got it. After you finish, click on Next to continue. Finally, click on Finish to save this device.</p><figure name="4718" id="4718" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*gikrkS_R1JGi3mgu5szrVg.png" data-width="1919" data-height="1079" src="https://cdn-images-1.medium.com/max/800/1*gikrkS_R1JGi3mgu5szrVg.png"></figure><p name="63de" id="63de" class="graf graf--p graf-after--figure">Then we can click on the Run ‘app’ button to run this empty script with Hello World.</p><figure name="93fe" id="93fe" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*P0rJajF_sUEItnnsPW6M7Q.png" data-width="1918" data-height="1079" src="https://cdn-images-1.medium.com/max/800/1*P0rJajF_sUEItnnsPW6M7Q.png"></figure><p name="8476" id="8476" class="graf graf--p graf-after--figure"><strong class="markup--strong markup--p-strong">(4) Build a Converter Layout</strong></p><p name="1597" id="1597" class="graf graf--p graf-after--p">Now that we have this Hello World activity, what we will do is to create the converter as we wish.</p><ul class="postList"><li name="e5a9" id="e5a9" class="graf graf--li graf-after--p">Delete the HelloWorld String: click on it and delete</li><li name="70cb" id="70cb" class="graf graf--li graf-after--li">Pick a vertical layout for the app by selecting Layouts &gt; LinearLayout (vertical), then drag and release it on the view</li><li name="27cb" id="27cb" class="graf graf--li graf-after--li">Add a title by Text &gt; Plain Text, drag, and release it onto the view. Change the text to <code class="markup--code markup--li-code">Converter Miles-Km</code> and Align center with the bold font of 30sp size.</li></ul><figure name="65e6" id="65e6" class="graf graf--figure graf-after--li"><img class="graf-image" data-image-id="1*o_U8alswjZixUwQSl2vvUw.png" data-width="1918" data-height="1079" src="https://cdn-images-1.medium.com/max/800/1*o_U8alswjZixUwQSl2vvUw.png"></figure><ul class="postList"><li name="6622" id="6622" class="graf graf--li graf-after--figure">Add another horizontal layout below the app title, and then reduce its height a little bit</li></ul><figure name="c55a" id="c55a" class="graf graf--figure graf-after--li"><img class="graf-image" data-image-id="1*T2nr--ZQPr2HPFmttdtr8Q.png" data-width="1918" data-height="1079" src="https://cdn-images-1.medium.com/max/800/1*T2nr--ZQPr2HPFmttdtr8Q.png"></figure><ul class="postList"><li name="f528" id="f528" class="graf graf--li graf-after--figure">Create a new Plain Text in this layout as a label, rename it as <code class="markup--code markup--li-code">Covert from</code></li><li name="a585" id="a585" class="graf graf--li graf-after--li">Then add a new Buttons &gt; RadioGroup at this place, reduce its size a little bit to show the full string of <code class="markup--code markup--li-code">Convert from</code></li></ul><figure name="d576" id="d576" class="graf graf--figure graf-after--li"><img class="graf-image" data-image-id="1*8E5m_3AMAEvRQUv-zzXOwg.png" data-width="1918" data-height="1079" src="https://cdn-images-1.medium.com/max/800/1*8E5m_3AMAEvRQUv-zzXOwg.png"></figure><ul class="postList"><li name="ca79" id="ca79" class="graf graf--li graf-after--figure">Then add two Buttons &gt; RadioButtons at this place. Then select the RadioGroup we have created, find All Attributes in the Attributes tab. Choose horizontal for the orientation.</li></ul><figure name="0cc4" id="0cc4" class="graf graf--figure graf-after--li"><img class="graf-image" data-image-id="1*eLmJAP3qGj4gRm3woDgtaA.png" data-width="1918" data-height="1079" src="https://cdn-images-1.medium.com/max/800/1*eLmJAP3qGj4gRm3woDgtaA.png"></figure><ul class="postList"><li name="2acc" id="2acc" class="graf graf--li graf-after--figure">Then we rename these two buttons to <code class="markup--code markup--li-code">Km</code> and <code class="markup--code markup--li-code">Miles</code> , the font size of them should be 16sp. Change the id of these two buttons to <code class="markup--code markup--li-code">rbFromKm</code> and <code class="markup--code markup--li-code">rbFromMiles</code> , respectively. Also, set the check value of the <code class="markup--code markup--li-code">rbFromKm</code> button to checked, so it will be checked by default.</li></ul><figure name="b16d" id="b16d" class="graf graf--figure graf-after--li"><img class="graf-image" data-image-id="1*UWA6Lc-iuGCl02WA8J2EkQ.png" data-width="1918" data-height="1079" src="https://cdn-images-1.medium.com/max/800/1*UWA6Lc-iuGCl02WA8J2EkQ.png"></figure><ul class="postList"><li name="4362" id="4362" class="graf graf--li graf-after--figure">Create another horizontal layout. Add a Plain Text in it with text <code class="markup--code markup--li-code">Value</code>, and also put a Number (Decimal) right after it. Rewrite the id of the Number (Decimal) to <code class="markup--code markup--li-code">value</code> .</li></ul><figure name="f63e" id="f63e" class="graf graf--figure graf-after--li"><img class="graf-image" data-image-id="1*CYy2HBr_IVsCzmEEYP7OyQ.png" data-width="1918" data-height="1079" src="https://cdn-images-1.medium.com/max/800/1*CYy2HBr_IVsCzmEEYP7OyQ.png"></figure><ul class="postList"><li name="80ef" id="80ef" class="graf graf--li graf-after--figure">Similarly, add another horizontal layout. Add a Plain Text in it with text <code class="markup--code markup--li-code">Result</code>, and also put a Number (Decimal) right after it. Rewrite the id of the Number (Decimal) to <code class="markup--code markup--li-code">result</code> .</li></ul><figure name="ab78" id="ab78" class="graf graf--figure graf-after--li"><img class="graf-image" data-image-id="1*re5XVJJ_ZoydqHTSweSDWA.png" data-width="1918" data-height="1079" src="https://cdn-images-1.medium.com/max/800/1*re5XVJJ_ZoydqHTSweSDWA.png"></figure><ul class="postList"><li name="34f7" id="34f7" class="graf graf--li graf-after--figure">Then create a horizontal layout after it. Add two buttons with text <code class="markup--code markup--li-code">CONVERT</code> and <code class="markup--code markup--li-code">RESET</code> . Set the id of them as <code class="markup--code markup--li-code">buttonConvert</code> and <code class="markup--code markup--li-code">buttonReset</code> .</li></ul><figure name="1587" id="1587" class="graf graf--figure graf-after--li"><img class="graf-image" data-image-id="1*T7nFj6yrird747ELS3DLdg.png" data-width="1918" data-height="1079" src="https://cdn-images-1.medium.com/max/800/1*T7nFj6yrird747ELS3DLdg.png"></figure><ul class="postList"><li name="3d01" id="3d01" class="graf graf--li graf-after--figure">Finally, we can run this again to check the layout of our configurations.</li></ul><figure name="a82a" id="a82a" class="graf graf--figure graf-after--li"><img class="graf-image" data-image-id="1*_7CFATyRFLT0hVev-3qEjw.png" data-width="1918" data-height="1079" src="https://cdn-images-1.medium.com/max/800/1*_7CFATyRFLT0hVev-3qEjw.png"></figure><p name="7588" id="7588" class="graf graf--p graf-after--figure"><strong class="markup--strong markup--p-strong">(5) Program for the Converter Logic</strong></p><p name="06ab" id="06ab" class="graf graf--p graf-after--p">To make our activity work, we have to write some logic behind its layout, and we can add the logic by modifying the <code class="markup--code markup--p-code">MainActivity.java</code> file.</p><ul class="postList"><li name="c091" id="c091" class="graf graf--li graf-after--p">First of all, we need to create four private attributes <code class="markup--code markup--li-code">rbFromKm</code>, <code class="markup--code markup--li-code">rbFromMiles</code> , <code class="markup--code markup--li-code">textValue</code>, and <code class="markup--code markup--li-code">textResult</code></li></ul><pre name="97e9" id="97e9" class="graf graf--pre graf-after--li">private RadioButton rbFromKm;<br>private RadioButton rbFromMiles;<br>private EditText textValue;<br>private EditText textResult;</pre><ul class="postList"><li name="8d75" id="8d75" class="graf graf--li graf-after--pre">Then in the function <code class="markup--code markup--li-code">onCreate</code> , we have to link these values to the IDs,</li></ul><pre name="227c" id="227c" class="graf graf--pre graf-after--li">rbFromKm = (RadioButton) findViewById(R.id.<em class="markup--em markup--pre-em">rbFromKm</em>);<br>rbFromMiles = (RadioButton) findViewById(R.id.<em class="markup--em markup--pre-em">rbFromMiles</em>);<br>textValue = (EditText) findViewById(R.id.<em class="markup--em markup--pre-em">value</em>);<br>textResult = (EditText) findViewById(R.id.<em class="markup--em markup--pre-em">result</em>);</pre><ul class="postList"><li name="b873" id="b873" class="graf graf--li graf-after--pre">Then we have to build the necessary logic of the converter. We have to build two functions <code class="markup--code markup--li-code">milesToKM</code> and <code class="markup--code markup--li-code">kmToMiles</code> ,</li></ul><pre name="d79c" id="d79c" class="graf graf--pre graf-after--li">private String milesToKM(String Miles) {<br>    Double m_value = Double.<em class="markup--em markup--pre-em">parseDouble</em>(Miles);<br>    Double km_value = m_value * 1.609;<br>    return String.<em class="markup--em markup--pre-em">valueOf</em>(km_value);<br>}<br><br>private String kmToMiles(String km) {<br>    Double km_value = Double.<em class="markup--em markup--pre-em">parseDouble</em>(km);<br>    Double m_value = km_value / 1.609;<br>    return String.<em class="markup--em markup--pre-em">valueOf</em>(m_value);<br>}</pre><ul class="postList"><li name="0559" id="0559" class="graf graf--li graf-after--pre">Build another function called <code class="markup--code markup--li-code">handleClick</code> and use this function for the convert logic and reset logic.</li></ul><pre name="080a" id="080a" class="graf graf--pre graf-after--li">public void handleClick(View view) {<br>    switch(view.getId()) {<br>        case R.id.<em class="markup--em markup--pre-em">buttonConvert</em>:<br>            String result;<br>            String value = textValue.getText().toString();<br>            if (rbFromMiles.isChecked()) {<br>                result = milesToKM(value);<br>            } else {<br>                result = kmToMiles(value);<br>            }<br>            textResult.setText(result);<br>            break;<br>        case R.id.<em class="markup--em markup--pre-em">buttonReset</em>:<br>            rbFromKm.setChecked(true);<br>            rbFromMiles.setChecked(false);<br>            textValue.setText(&quot;&quot;);<br>            textResult.setText(&quot;&quot;);<br>    }<br>}</pre><ul class="postList"><li name="7c95" id="7c95" class="graf graf--li graf-after--pre">Go back to the <code class="markup--code markup--li-code">activity_main.xml</code> layout. Select the two buttons (<code class="markup--code markup--li-code">buttonConvert</code> and <code class="markup--code markup--li-code">buttonReset</code>) and then choose Attributes &gt; Common Attributes &gt; onClick &gt; handleClick so that the button will be linked to our operation function <code class="markup--code markup--li-code">handleClick</code> in the <code class="markup--code markup--li-code">MainActivity.java</code>.</li></ul><figure name="aaac" id="aaac" class="graf graf--figure graf-after--li"><img class="graf-image" data-image-id="1*nFTGH4vfPyZdCxv7ZkZFAA.png" data-width="1917" data-height="1077" src="https://cdn-images-1.medium.com/max/800/1*nFTGH4vfPyZdCxv7ZkZFAA.png"></figure><ul class="postList"><li name="d68f" id="d68f" class="graf graf--li graf-after--figure">Now let’s try out our activity, and you will see that this app works.</li></ul><p name="b3d5" id="b3d5" class="graf graf--p graf-after--li"><strong class="markup--strong markup--p-strong">(6) Debuggers</strong></p><p name="426f" id="426f" class="graf graf--p graf-after--p">However, even though our activity works just fine for the converter logic, there is one exception we would like to deal with. Now try if you enter nothing in the EditText <code class="markup--code markup--p-code">value</code> and then press convert, our activity will crash because it can not handle converting the NULL value.</p><figure name="7b73" id="7b73" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*8mWCKsT1nAyk5CuYrD_vEg.png" data-width="1917" data-height="1077" src="https://cdn-images-1.medium.com/max/800/1*8mWCKsT1nAyk5CuYrD_vEg.png"></figure><p name="086d" id="086d" class="graf graf--p graf-after--figure">So what we will do is to modify the <code class="markup--code markup--p-code">MainActivity.java</code> program and make it work. So basically, we have to write a condition statement and see if the length of the value equals 0,</p><pre name="d577" id="d577" class="graf graf--pre graf-after--p">if (value.length() == 0) {<br>    Context context = getApplicationContext();<br>    CharSequence text = &quot;Error: empty value.&quot;;<br>    int duration = Toast.<em class="markup--em markup--pre-em">LENGTH_LONG</em>;<br>    Toast toast = Toast.<em class="markup--em markup--pre-em">makeText</em>(context, text, duration);<br>    toast.show();<br>} else {<br>    if (rbFromMiles.isChecked()) {<br>        result = milesToKM(value);<br>    } else {<br>        result = kmToMiles(value);<br>    }<br>    textResult.setText(result);<br>}</pre><p name="64ff" id="64ff" class="graf graf--p graf-after--pre">I would like to talk about this code a little bit more. To show an error text message, what we will commonly do is to call <code class="markup--code markup--p-code">Toast.makeText</code> function, and we have to decide the context, the string we want to show, and the duration of this message.</p><p name="d6f9" id="d6f9" class="graf graf--p graf-after--p">So finally, let’s check our code out, and we can see that it meets the our expectation.</p><figure name="98c6" id="98c6" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*D7CChMSTZoLsGVvJn9-FRQ.png" data-width="1917" data-height="1077" src="https://cdn-images-1.medium.com/max/800/1*D7CChMSTZoLsGVvJn9-FRQ.png"></figure><p name="4fdc" id="4fdc" class="graf graf--p graf-after--figure"><strong class="markup--strong markup--p-strong">3. Case Study: Simple Android App</strong></p><p name="8a3f" id="8a3f" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">(1) Inputs and Outputs</strong></p><ul class="postList"><li name="bb12" id="bb12" class="graf graf--li graf-after--p">Project name: <code class="markup--code markup--li-code">SDPEncryptor</code></li><li name="a0a8" id="a0a8" class="graf graf--li graf-after--li">Message to be encoded: <code class="markup--code markup--li-code">Dispatch</code> (id = <code class="markup--code markup--li-code">dispatchID</code>) initially blank</li><li name="cd45" id="cd45" class="graf graf--li graf-after--li">First parameter: <code class="markup--code markup--li-code">Argument 0</code> (id = <code class="markup--code markup--li-code">arg0ID</code>) initially 1</li><li name="3a77" id="3a77" class="graf graf--li graf-after--li">Second parameter: <code class="markup--code markup--li-code">Argument 1</code> (id = <code class="markup--code markup--li-code">arg1ID</code>) initially 1</li><li name="ed5d" id="ed5d" class="graf graf--li graf-after--li">Encipher button: <code class="markup--code markup--li-code">ENCIPHER</code> (id = <code class="markup--code markup--li-code">encipherButtonID</code>)</li><li name="1284" id="1284" class="graf graf--li graf-after--li">Result: <code class="markup--code markup--li-code">Encoded Dispatch</code> (id = <code class="markup--code markup--li-code">encodedDispatchID</code>)</li></ul><p name="b62b" id="b62b" class="graf graf--p graf-after--li"><strong class="markup--strong markup--p-strong">(2) Build the Environment</strong></p><ul class="postList"><li name="f06b" id="f06b" class="graf graf--li graf-after--p">Go to the root directory for the last assignment</li></ul><pre name="9dfa" id="9dfa" class="graf graf--pre graf-after--li">$ cd .../6300Fall21&lt;GT username&gt;</pre><ul class="postList"><li name="7552" id="7552" class="graf graf--li graf-after--pre">Pull the latest version of your code</li></ul><pre name="c6e2" id="c6e2" class="graf graf--pre graf-after--li">$ git pull</pre><ul class="postList"><li name="931e" id="931e" class="graf graf--li graf-after--pre">Build a new folder called <code class="markup--code markup--li-code">Assignment4</code> and direct to it</li></ul><pre name="ceb5" id="ceb5" class="graf graf--pre graf-after--li">$ mkdir <code class="markup--code markup--pre-code">Assignment4<br>$ cd Assignment4</code></pre><ul class="postList"><li name="87d3" id="87d3" class="graf graf--li graf-after--pre">Create an empty Android app project in this folder named <code class="markup--code markup--li-code">SDPEncryptor</code> , note the package name: <code class="markup--code markup--li-code">edu.gatech.seclass.sdpencryptor</code> and note the minimum SDK: <code class="markup--code markup--li-code">API 29: Android 10.0 (Q)</code></li><li name="a54e" id="a54e" class="graf graf--li graf-after--li">In the <code class="markup--code markup--li-code">build.gradle</code> file, include the following dependencies, and then choose Sync Now.</li></ul><pre name="5e0f" id="5e0f" class="graf graf--pre graf-after--li">testImplementation &#39;junit:junit:4.12&#39;<br>androidTestImplementation &#39;androidx.test.ext:junit:1.1.1&#39;<br>androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.2.0&#39;<br>androidTestImplementation &#39;androidx.test:rules:1.1.1&#39;</pre><p name="a364" id="a364" class="graf graf--p graf-after--pre">If some dependencies are missing, make sure to add them. There may be newer versions of some of the dependencies available, but you should use the ones we recommend anyway.</p><p name="59d8" id="59d8" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">(3) Suggested UI</strong></p><p name="e505" id="e505" class="graf graf--p graf-after--p">We suggest that you try to generate a user interface (UI) similar to the one shown above, but you don’t have to.</p><figure name="3da8" id="3da8" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*LQqWimThZQIZuu_e98V2GA.png" data-width="1275" data-height="870" src="https://cdn-images-1.medium.com/max/800/1*LQqWimThZQIZuu_e98V2GA.png"></figure><p name="fcd8" id="fcd8" class="graf graf--p graf-after--figure"><strong class="markup--strong markup--p-strong">(4) Phases for Implementation</strong></p><ul class="postList"><li name="6fbf" id="6fbf" class="graf graf--li graf-after--p">Create the UI</li><li name="a304" id="a304" class="graf graf--li graf-after--li">Edit the identifiers</li><li name="4c42" id="4c42" class="graf graf--li graf-after--li">Set the private attributes</li><li name="655f" id="655f" class="graf graf--li graf-after--li">Link the private attributes</li><li name="be59" id="be59" class="graf graf--li graf-after--li">Write the <code class="markup--code markup--li-code">onClick</code> function</li><li name="f168" id="f168" class="graf graf--li graf-after--li">Write the encoding logic function</li><li name="67fe" id="67fe" class="graf graf--li graf-after--li">Handle the constraints of the arguments with <code class="markup--code markup--li-code">setError</code> with <a href="https://stackoverflow.com/questions/18225365/show-error-on-the-tip-of-the-edit-text-android" data-href="https://stackoverflow.com/questions/18225365/show-error-on-the-tip-of-the-edit-text-android" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">reference</a>, make sure to handle the coprime case carefully</li><li name="8aa3" id="8aa3" class="graf graf--li graf-after--li">Try and pass the manaual test case</li><li name="2e78" id="2e78" class="graf graf--li graf-after--li">Download the <a href="https://drive.google.com/file/d/1MalWpNC95Lq9P2vV8XpBoMez-5xkkSqh/view?usp=sharing" data-href="https://drive.google.com/file/d/1MalWpNC95Lq9P2vV8XpBoMez-5xkkSqh/view?usp=sharing" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">testing script</a>, put and unpack its contents in the directory <code class="markup--code markup--li-code">.../Assignment4</code> move the file <code class="markup--code markup--li-code">SmallTestExamples</code> and <code class="markup--code markup--li-code">SanityCheck</code> into the corresponding folders</li><li name="5c0e" id="5c0e" class="graf graf--li graf-after--li">Run the test by right-click on <code class="markup--code markup--li-code">edu.gatech.seclass.sdpencryptor</code> , and then choose <code class="markup--code markup--li-code">Run &#39;Tests in &#39;edu.gatech...&#39;</code> . If you meet an error of <code class="markup--code markup--li-code">android:exported needs to be explicitly specified for &lt;activity&gt;</code> , you need to modify the <code class="markup--code markup--li-code">targetSDK</code> value from <code class="markup--code markup--li-code">31</code> to <code class="markup--code markup--li-code">29</code> in the <code class="markup--code markup--li-code">build.gradle (Module ...)</code> file.</li></ul><figure name="6e9c" id="6e9c" class="graf graf--figure graf-after--li"><img class="graf-image" data-image-id="1*Qf776mAsi0PgSVF9BR5UBA.png" data-width="1582" data-height="738" src="https://cdn-images-1.medium.com/max/800/1*Qf776mAsi0PgSVF9BR5UBA.png"></figure><ul class="postList"><li name="f6bd" id="f6bd" class="graf graf--li graf-after--figure">Check the testing result and see if you can pass all of them.</li></ul><figure name="1519" id="1519" class="graf graf--figure graf-after--li"><img class="graf-image" data-image-id="1*5601WdQcIHLglg1GbwkeXQ.png" data-width="1522" data-height="446" src="https://cdn-images-1.medium.com/max/800/1*5601WdQcIHLglg1GbwkeXQ.png"></figure><ul class="postList"><li name="8dd9" id="8dd9" class="graf graf--li graf-after--figure">In the root directory, add the following content in <code class="markup--code markup--li-code">.gitignore</code> file</li></ul><pre name="dacd" id="dacd" class="graf graf--pre graf-after--li">*.iml<br>.gradle<br>local.properties<br>.idea/workspace.xml<br>.idea/libraries<br>.idea<br>.DS_Store<br>build<br>captures<br>.externalNativeBuild</pre><ul class="postList"><li name="d567" id="d567" class="graf graf--li graf-after--pre">Add a <code class="markup--code markup--li-code">manual.md</code> file that shows how to use the app in <code class="markup--code markup--li-code">Assignment4</code> directory.</li><li name="7ca7" id="7ca7" class="graf graf--li graf-after--li">Push it to GitHub,</li></ul><pre name="4ad9" id="4ad9" class="graf graf--pre graf-after--li">$ git add SDPEncryptor manual.md <br>$ git commit -a <br>$ git push</pre><ul class="postList"><li name="bd5e" id="bd5e" class="graf graf--li graf-after--pre">Submit the <code class="markup--code markup--li-code">submission.txt</code> file to GS.</li></ul><p name="2bf3" id="2bf3" class="graf graf--p graf-after--li"><strong class="markup--strong markup--p-strong">(5) Lint Exception Handler</strong></p><p name="42ff" id="42ff" class="graf graf--p graf-after--p">If your build fails with an error <code class="markup--code markup--p-code">Task :app:lint FAILED</code> or similar, you should be able to fix the issue by “inferring constraints” for your layout. Android studio will do it for you automatically, just go to your <code class="markup--code markup--p-code">activity_main.xml</code> file, hover over the error reported, and the IDE should give you the option to fix it. Alternatively, you can also disable the lint task for your project by adding the following to <code class="markup--code markup--p-code">build.gradle</code>:</p><pre name="a92e" id="a92e" class="graf graf--pre graf-after--p graf--trailing">android {<br>    <em class="markup--em markup--pre-em">//...     <br>    </em>lintOptions {<br>        abortOnError false<br>    }<br>}</pre></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@adamedelweiss" class="p-author h-card">Adam Edelweiss</a> on <a href="https://medium.com/p/273ff2c8f626"><time class="dt-published" datetime="2021-09-15T13:15:10.108Z">September 15, 2021</time></a>.</p><p><a href="https://medium.com/@adamedelweiss/software-development-process-6-introduction-to-android-android-development-and-a-case-study-273ff2c8f626" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on December 15, 2021.</p></footer></article></body></html>