<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>Time Series Analysis 1 | Introduction to Time Series, Moving Average Smoothing, Additive‚Ä¶</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">Time Series Analysis 1 | Introduction to Time Series, Moving Average Smoothing, Additive‚Ä¶</h1>
</header>
<section data-field="subtitle" class="p-summary">
Series: Time Series Analysis
</section>
<section data-field="body" class="e-content">
<section name="5b38" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="0cfb" id="0cfb" class="graf graf--h3 graf--leading graf--title">Time Series Analysis 1 | <strong class="markup--strong markup--h3-strong">Introduction to Time Series, Moving Average Smoothing, Additive Decomposition, and Multiplicative </strong>Decomposition</h3><figure name="724e" id="724e" class="graf graf--figure graf-after--h3"><img class="graf-image" data-image-id="1*OUGReZrEv8NbN6yIuYXgbg.png" data-width="1338" data-height="748" data-is-featured="true" src="https://cdn-images-1.medium.com/max/800/1*OUGReZrEv8NbN6yIuYXgbg.png"></figure><ol class="postList"><li name="dc4b" id="dc4b" class="graf graf--li graf-after--figure"><strong class="markup--strong markup--li-strong">Introduction to Time Series</strong></li></ol><p name="db13" id="db13" class="graf graf--p graf-after--li"><strong class="markup--strong markup--p-strong">(1) The Definition of Time Series</strong></p><p name="e7a3" id="e7a3" class="graf graf--p graf-after--p">A time series is a set of observations <em class="markup--em markup--p-em">x_t</em> of a <strong class="markup--strong markup--p-strong">time-dependent</strong> variable <em class="markup--em markup--p-em">X_t</em> at a specific time <em class="markup--em markup--p-em">t</em>. We can have discrete timepoints which are more commonly used, but we can also have continuously recorded time points that will not be covered in this series.</p><p name="b1ab" id="b1ab" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">(2) Examples of Time Series</strong></p><p name="c615" id="c615" class="graf graf--p graf-after--p">Next up, let‚Äôs see some of the time-series data examples,</p><ul class="postList"><li name="a046" id="a046" class="graf graf--li graf-after--p">Sales Data: iPhone Quarter Sales</li></ul><figure name="01c5" id="01c5" class="graf graf--figure graf-after--li"><img class="graf-image" data-image-id="1*GFyi6rRpNNkrWLB891NwMQ.png" data-width="1402" data-height="480" src="https://cdn-images-1.medium.com/max/800/1*GFyi6rRpNNkrWLB891NwMQ.png"></figure><ul class="postList"><li name="9e77" id="9e77" class="graf graf--li graf-after--figure">Population Data: US Population from 1790 to 2000</li></ul><figure name="9cee" id="9cee" class="graf graf--figure graf-after--li"><img class="graf-image" data-image-id="1*QnSOZ59K3-VJ4NBIH6c32g.png" data-width="1730" data-height="640" src="https://cdn-images-1.medium.com/max/800/1*QnSOZ59K3-VJ4NBIH6c32g.png"></figure><ul class="postList"><li name="d3c4" id="d3c4" class="graf graf--li graf-after--figure">COVID Data: infected number, death number, etc.</li></ul><figure name="4a20" id="4a20" class="graf graf--figure graf-after--li"><img class="graf-image" data-image-id="1*zSNYNQEF1FpjUHDxttpA0Q.png" data-width="1396" data-height="464" src="https://cdn-images-1.medium.com/max/800/1*zSNYNQEF1FpjUHDxttpA0Q.png"></figure><p name="61fd" id="61fd" class="graf graf--p graf-after--figure"><strong class="markup--strong markup--p-strong">(3) Objectives of Time Series Analysis</strong></p><p name="20d7" id="20d7" class="graf graf--p graf-after--p">Before we talk about the time series models, let‚Äôs first discuss the objectives of the time series analysis,</p><p name="c92f" id="c92f" class="graf graf--p graf-after--p">a. If we focus on the history of the data, we can do plots to <strong class="markup--strong markup--p-strong">examine</strong> the main features of the time series, and check particularly if there is,</p><ul class="postList"><li name="f2ae" id="f2ae" class="graf graf--li graf-after--p">a general trend</li><li name="4818" id="4818" class="graf graf--li graf-after--li">a seasonal component</li><li name="133f" id="133f" class="graf graf--li graf-after--li">any noises</li></ul><p name="4426" id="4426" class="graf graf--p graf-after--li">b. If we focus on the future, we can find a suitable probability <strong class="markup--strong markup--p-strong">model</strong> to represent the data so that it can provide,</p><ul class="postList"><li name="ab33" id="ab33" class="graf graf--li graf-after--p">Interpretation of the given data: for example, what is the general trend for the unemployment rate, and what is just the seasonal component, and what might be accidental noise</li><li name="e013" id="e013" class="graf graf--li graf-after--li">Forecasting: typically, there are two solutions for predicting the future using past data. These are <strong class="markup--strong markup--li-strong">statistical modeling</strong> that will be covered in this series and <strong class="markup--strong markup--li-strong">deep learning</strong> (i.e. DNN).</li></ul><p name="667a" id="667a" class="graf graf--p graf-after--li">One example for the application of forecasting is weather temperature forecasting,</p><figure name="9d46" id="9d46" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*mQtJ0rznJBK-u6TGOsfLiw.png" data-width="1490" data-height="464" src="https://cdn-images-1.medium.com/max/800/1*mQtJ0rznJBK-u6TGOsfLiw.png"></figure><p name="3081" id="3081" class="graf graf--p graf-after--figure">For the temperature forecasting, we can answer probably the following problems,</p><ul class="postList"><li name="815e" id="815e" class="graf graf--li graf-after--p">Trend: is there a general trend of global warming</li><li name="85c4" id="85c4" class="graf graf--li graf-after--li">Seasonality: is there a repeating cycle of seasonality</li><li name="9821" id="9821" class="graf graf--li graf-after--li">Remaining Noise: are the noises correlated?</li></ul><p name="7e11" id="7e11" class="graf graf--p graf-after--li">In conclusion, the statistical modeling approach is to model each of the components and then add them together. There are some</p><ul class="postList"><li name="926e" id="926e" class="graf graf--li graf-after--p"><strong class="markup--strong markup--li-strong">ARIMA Model Family</strong> and <strong class="markup--strong markup--li-strong">Holt-Winters Exponential Smoothing</strong>: these are commonly used approaches because they give a higher weight to recent history. The benefit is that this approach is statistically and theoretically readable and understandable, but the downside is that these approaches are very hard to choose the proper parameters and estimate.</li><li name="c715" id="c715" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">Piecewise Linear Model</strong>: we can also choose some discrete points in the graph</li><li name="d817" id="d817" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">FB Prophet</strong>: a general case for forecasting everything developed by Facebook but it is not as flexible as the ARIMA family. The benefits are that (1) it has only a simple one-step setup; (2) it has the less computational burden</li><li name="0eca" id="0eca" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">Neural Network (DL or RNN)</strong>: the RNN relies on lots of data, so it doesn&#39;t work well for univariate data but it works pretty well for the multivariate data on which the traditional statistical approaches don‚Äôt work well. For univariate data, there is actually a debate on if the RNN works better or if the traditional statistical approaches work better.</li></ul><p name="abe3" id="abe3" class="graf graf--p graf-after--li"><strong class="markup--strong markup--p-strong">(4) The Definition of Time Series Model</strong></p><p name="f811" id="f811" class="graf graf--p graf-after--p">In this series, we try to find a probability/mathematically model to fit the historic data and then use it to provide forecasting. A time series model for the observed data {<em class="markup--em markup--p-em">x_t</em>} is a specification of the joint distributions (or possibly only the means and covariances) of a sequence of random variables {<em class="markup--em markup--p-em">X_t</em>} or {<em class="markup--em markup--p-em">X_1</em>, <em class="markup--em markup--p-em">X_2</em>,¬†‚Ä¶, <em class="markup--em markup--p-em">X_t</em>}, of which {<em class="markup--em markup--p-em">X_t</em>} is postulated to be a realization.</p><p name="d06d" id="d06d" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">(5) Example of Time Series Models</strong></p><p name="eb52" id="eb52" class="graf graf--p graf-after--p">Let‚Äôs now see some examples for the time series models,</p><ul class="postList"><li name="854c" id="854c" class="graf graf--li graf-after--p"><strong class="markup--strong markup--li-strong">IID Noises</strong>: there is no trend or seasonality</li></ul><figure name="7793" id="7793" class="graf graf--figure graf-after--li"><img class="graf-image" data-image-id="1*h2LTaNLwbNQyIpPqqvO7fQ.png" data-width="2264" data-height="112" src="https://cdn-images-1.medium.com/max/800/1*h2LTaNLwbNQyIpPqqvO7fQ.png"></figure><ul class="postList"><li name="2540" id="2540" class="graf graf--li graf-after--figure">Broader Verison Noises: <strong class="markup--strong markup--li-strong">White Noises</strong></li></ul><p name="df9a" id="df9a" class="graf graf--p graf-after--li">A time series is a white noise if the variables are independent and identically distributed with a mean of zero. All variables have the same variance (œÉ¬≤) and each value has a zero correlation with all other values in the series.</p><figure name="f41f" id="f41f" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*ssjE3MgDqwhYxS9083G5TA.png" data-width="1242" data-height="68" src="https://cdn-images-1.medium.com/max/800/1*ssjE3MgDqwhYxS9083G5TA.png"></figure><p name="7bdd" id="7bdd" class="graf graf--p graf-after--figure">In order to prove a noise variable follows the distribution of white noise, we have to prove the following conditions.</p><p name="e092" id="e092" class="graf graf--p graf-after--p">a. <code class="markup--code markup--p-code">ùîº(X_t) = 0, ‚àÄt</code></p><p name="da30" id="da30" class="graf graf--p graf-after--p">b. <code class="markup--code markup--p-code">Var(X_t) = œÉ¬≤, ‚àÄt</code></p><p name="138a" id="138a" class="graf graf--p graf-after--p">c. <code class="markup--code markup--p-code">Cov(X_t, X_t+h) = 0, ‚àÄt, ‚àÄh‚â†0</code></p><figure name="c26d" id="c26d" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*opHtpP7kSyh-Pb8UucjbGA.png" data-width="1816" data-height="442" src="https://cdn-images-1.medium.com/max/800/1*opHtpP7kSyh-Pb8UucjbGA.png"></figure><ul class="postList"><li name="25d7" id="25d7" class="graf graf--li graf-after--figure"><strong class="markup--strong markup--li-strong">Regression Model</strong>: Trend model + White noise</li></ul><p name="f985" id="f985" class="graf graf--p graf-after--li">a. Trend: <code class="markup--code markup--p-code">m_t = a0 + a1t + a2t¬≤</code></p><p name="6e1a" id="6e1a" class="graf graf--p graf-after--p">b. White noise: <code class="markup--code markup--p-code">Y_t ~ WN(0, œÉ¬≤)</code></p><p name="8ff5" id="8ff5" class="graf graf--p graf-after--p">c. Regression model: <code class="markup--code markup--p-code">X_t = m_t + Y_t</code></p><ul class="postList"><li name="040d" id="040d" class="graf graf--li graf-after--p"><strong class="markup--strong markup--li-strong">Fourier Components</strong>: Signal model (with seasonality) + Noise (don‚Äôt have to be white noise). An example is as follows,</li></ul><p name="1582" id="1582" class="graf graf--p graf-after--li">a. Signal: <code class="markup--code markup--p-code">s_t = cos(t/10)</code></p><p name="9f77" id="9f77" class="graf graf--p graf-after--p">b. IID Random Noise: <code class="markup--code markup--p-code">Z_t ~ N(0, 0.25)</code> (here we use a Gaussian noise)</p><p name="50ca" id="50ca" class="graf graf--p graf-after--p">c. Model: <code class="markup--code markup--p-code">X_t = s_t + Z_t</code></p><p name="aa03" id="aa03" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">(6) Common Types of Time Series Models</strong></p><p name="ec69" id="ec69" class="graf graf--p graf-after--p">Finally, at the end of this part, let‚Äôs see some most commonly used models, which are also more complicated,</p><ul class="postList"><li name="987b" id="987b" class="graf graf--li graf-after--p">ARIMA</li><li name="398b" id="398b" class="graf graf--li graf-after--li">Prophet</li><li name="2013" id="2013" class="graf graf--li graf-after--li">LSTM</li></ul><p name="b0d5" id="b0d5" class="graf graf--p graf-after--li">All of them will be using the univariate use case, and we will discuss them in the coming articles of this series.</p><p name="6841" id="6841" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">(7) Prediction Performance of Time Series Models</strong></p><p name="a14a" id="a14a" class="graf graf--p graf-after--p">No matter what model you are using, you will hope that the future data go with the same pattern as your model. But in practice, things do not go that well. For example, the stock market data do not follow the time series model as we wish. So there are some metrics for the prediction performance, and we are going to cover them in the future sections.</p><p name="ed76" id="ed76" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">2. Basic EDA</strong></p><p name="84b3" id="84b3" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">(1) The Definition of Time-Series Plot</strong></p><p name="9853" id="9853" class="graf graf--p graf-after--p">The time-series plots are scatter diagrams or line diagrams of observations <em class="markup--em markup--p-em">x_t</em> against time variable <em class="markup--em markup--p-em">t</em>. These plots describe the general behavior of observations over time. A key difference that distinguishes the time-series plot and the regular scatter plot is that the date and time need to be <code class="markup--code markup--p-code">datatime</code> type.</p><p name="fea4" id="fea4" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">(2) The Definition of Moving Average Smoothing Approach</strong></p><p name="1672" id="1672" class="graf graf--p graf-after--p">When there are too many noises, sometimes the moving average smoothing approach can help to identify the trend. We should first choose a window size <em class="markup--em markup--p-em">k</em>, then estimate the moving average <em class="markup--em markup--p-em">W_t</em> at time t to be the average value of the <em class="markup--em markup--p-em">k</em> observations around time <em class="markup--em markup--p-em">t</em>.</p><p name="8388" id="8388" class="graf graf--p graf-after--p">In the book <em class="markup--em markup--p-em">Introduction to Time Series and Forecasting</em>, it uses the two-sided moving average, and here we focus on the <code class="markup--code markup--p-code">pandas</code> function</p><pre name="1a1b" id="1a1b" class="graf graf--pre graf-after--p">DataFrame.rolling(window = &lt;WindowSize&gt;).mean();</pre><p name="5620" id="5620" class="graf graf--p graf-after--pre">Basically, there is also another parameter <code class="markup--code markup--p-code">center</code> we can assign. The default value of it is <code class="markup--code markup--p-code">False</code> and we can assign it as <code class="markup--code markup--p-code">True</code></p><pre name="6dd5" id="6dd5" class="graf graf--pre graf-after--p">DataFrame.rolling(window = &lt;WindowSize&gt;, center=True).mean();</pre><p name="d08d" id="d08d" class="graf graf--p graf-after--pre">Here is a possible result of moving average approach on the weather temperature when we have a window size of 30, 120, and 360.</p><figure name="039c" id="039c" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*R5XFMwfBamZG2qSwEz3nhA.png" data-width="1904" data-height="1188" src="https://cdn-images-1.medium.com/max/800/1*R5XFMwfBamZG2qSwEz3nhA.png"></figure><p name="d4db" id="d4db" class="graf graf--p graf-after--figure">The basic calculation of the default moving average is that,</p><figure name="5498" id="5498" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*cY8yQx4_dWtKNmxMObX2VQ.png" data-width="1658" data-height="136" src="https://cdn-images-1.medium.com/max/800/1*cY8yQx4_dWtKNmxMObX2VQ.png"></figure><p name="ca46" id="ca46" class="graf graf--p graf-after--figure">The calculation of the center moving average is that,</p><figure name="56b1" id="56b1" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*_yeJZnZ8OXmk_Qu2TNszMA.png" data-width="1658" data-height="240" src="https://cdn-images-1.medium.com/max/800/1*_yeJZnZ8OXmk_Qu2TNszMA.png"></figure><p name="e78b" id="e78b" class="graf graf--p graf-after--figure">We can use MA smoothing to estimate trends, and it also provides a <strong class="markup--strong markup--p-strong">naive</strong> forecasting model.</p><p name="f448" id="f448" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">(3) Choosing the Window Size Parameter <em class="markup--em markup--p-em">k</em></strong></p><p name="f275" id="f275" class="graf graf--p graf-after--p">When there‚Äôs mp seasonality we can try different k. When seasonality exists, if you want the trend to just present the general change without seasonality, then choose the size <em class="markup--em markup--p-em">k</em> equals the lag of seasonality.</p><p name="4046" id="4046" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">(4) The Definition of Classical Decomposition</strong></p><p name="d6ae" id="d6ae" class="graf graf--p graf-after--p">We have mentioned that there are three major components people try to identify when studying the time series data,</p><ul class="postList"><li name="785a" id="785a" class="graf graf--li graf-after--p">Trend: <code class="markup--code markup--li-code">T_t</code></li><li name="b5a7" id="b5a7" class="graf graf--li graf-after--li">Seasonality: <code class="markup--code markup--li-code">S_t</code></li><li name="7dee" id="7dee" class="graf graf--li graf-after--li">Remaining noises: <code class="markup--code markup--li-code">R_t</code></li></ul><p name="06c5" id="06c5" class="graf graf--p graf-after--li">The classical decomposition method originated in the 1920s. It is a relatively simple procedure and forms the starting point for most other methods of time series decomposition. There are two forms of classical decomposition, <strong class="markup--strong markup--p-strong">additive decomposition</strong>, and <strong class="markup--strong markup--p-strong">multiplicative decomposition</strong>.</p><p name="e2a2" id="e2a2" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">(5) Additive Model Vs. Multiplicative Model</strong></p><ul class="postList"><li name="dcf6" id="dcf6" class="graf graf--li graf-after--p"><strong class="markup--strong markup--li-strong">Additive model</strong>: Additive model is useful when the magnitude of seasonal fluctuations or the variation around the trend does not change with time. As the name implies, the form of additive decomposition should be,</li></ul><figure name="a324" id="a324" class="graf graf--figure graf-after--li"><img class="graf-image" data-image-id="1*1qYbN3Xemors1eR87WBdOA.png" data-width="1300" data-height="70" src="https://cdn-images-1.medium.com/max/800/1*1qYbN3Xemors1eR87WBdOA.png"></figure><ul class="postList"><li name="d138" id="d138" class="graf graf--li graf-after--figure"><strong class="markup--strong markup--li-strong">Multiplicative Model</strong>: Multiplicative model is useful when the variation in seasonal pattern (or around the trend) appears to be proportional to time. This is a very common situation with economic data.</li></ul><figure name="e204" id="e204" class="graf graf--figure graf-after--li"><img class="graf-image" data-image-id="1*twIiqpJbjYe07j6CSIpOyg.png" data-width="1300" data-height="70" src="https://cdn-images-1.medium.com/max/800/1*twIiqpJbjYe07j6CSIpOyg.png"></figure><p name="0c44" id="0c44" class="graf graf--p graf-after--figure"><strong class="markup--strong markup--p-strong">(6) Additive Decomposition Implementation</strong></p><p name="9878" id="9878" class="graf graf--p graf-after--p">To perform an additive decomposition, there is something we have to decide,</p><ul class="postList"><li name="0e66" id="0e66" class="graf graf--li graf-after--p"><strong class="markup--strong markup--li-strong">Generating de-trend data</strong>: Estimate the trend using MA smoothing (i.e. applying the MA filter on the data), and the window size <em class="markup--em markup--li-em">k</em> should be seasonal lag. For example, we can have the following window size as 365 for the weather temperature data. The series after MA smoothing should be the estimated trend series <code class="markup--code markup--li-code">T_t-cap</code>. And the de-trended time series data should be,</li></ul><pre name="f963" id="f963" class="graf graf--pre graf-after--li">X_t&#39; = X_t - T_t-cap</pre><ul class="postList"><li name="bb9a" id="bb9a" class="graf graf--li graf-after--pre"><strong class="markup--strong markup--li-strong">Estimating seasonality</strong>: Next, we should estimate seasonality under the assumption that the same seasonality repeats for the same cycle. The result of this averaging approach is the estimated seasonal series <code class="markup--code markup--li-code">S_t-cap</code>. So for each season <em class="markup--em markup--li-em">i</em>, we have estimated value <code class="markup--code markup--li-code">S_i-cap</code> as</li></ul><figure name="b4ec" id="b4ec" class="graf graf--figure graf-after--li"><img class="graf-image" data-image-id="1*RhX1p351E-HE5LrYlPNxOw.png" data-width="1704" data-height="122" src="https://cdn-images-1.medium.com/max/800/1*RhX1p351E-HE5LrYlPNxOw.png"></figure><p name="49fa" id="49fa" class="graf graf--p graf-after--figure">where N is the number of season cycles we have for the data</p><ul class="postList"><li name="3bdc" id="3bdc" class="graf graf--li graf-after--p"><strong class="markup--strong markup--li-strong">Computing Noise</strong>: Finally, because we only have three components in our additive model, we can generate the estimated noise series <code class="markup--code markup--li-code">R_t-cap</code> in this model,</li></ul><pre name="75c1" id="75c1" class="graf graf--pre graf-after--li">R_t-cap = X_t&#39; - <code class="markup--code markup--pre-code">S_t-cap = </code>X_t - T_t-cap - <code class="markup--code markup--pre-code">S_t-cap</code></pre><p name="9266" id="9266" class="graf graf--p graf-after--pre"><strong class="markup--strong markup--p-strong">(7) Multiplicative Decomposition Implementation</strong></p><p name="a644" id="a644" class="graf graf--p graf-after--p">The implementation of multiplicative decomposition is quite similar to additive decomposition. Again, we should consider the following steps,</p><ul class="postList"><li name="b755" id="b755" class="graf graf--li graf-after--p"><strong class="markup--strong markup--li-strong">Generating de-trend data</strong>: Estimate the trend using MA smoothing with window size <em class="markup--em markup--li-em">k</em>. But the de-trended time series data should be,</li></ul><pre name="84e2" id="84e2" class="graf graf--pre graf-after--li">X_t&#39; = X_t / T_t-cap</pre><ul class="postList"><li name="6b72" id="6b72" class="graf graf--li graf-after--pre"><strong class="markup--strong markup--li-strong">Estimating seasonality</strong>: for each season <em class="markup--em markup--li-em">i</em>, we have estimated value <code class="markup--code markup--li-code">S_i-cap</code> as,</li></ul><figure name="bf68" id="bf68" class="graf graf--figure graf-after--li"><img class="graf-image" data-image-id="1*o9TZW_S3Wv9gHcDvxp0SkA.png" data-width="1704" data-height="152" src="https://cdn-images-1.medium.com/max/800/1*o9TZW_S3Wv9gHcDvxp0SkA.png"></figure><ul class="postList"><li name="b722" id="b722" class="graf graf--li graf-after--figure"><strong class="markup--strong markup--li-strong">Computing Noise</strong>: Finally, because we only have three components in our multiplicative model, we can generate the estimated noise series <code class="markup--code markup--li-code">R_t-cap</code> in this model,</li></ul><pre name="3219" id="3219" class="graf graf--pre graf-after--li">R_t-cap = X_t&#39; / <code class="markup--code markup--pre-code">S_t-cap = </code>X_t / (T_t-cap * <code class="markup--code markup--pre-code">S_t-cap)</code></pre><p name="46ad" id="46ad" class="graf graf--p graf-after--pre"><strong class="markup--strong markup--p-strong">(7) Problems for Addictive/Multiplicative Decomposition</strong></p><ul class="postList"><li name="04c0" id="04c0" class="graf graf--li graf-after--p"><strong class="markup--strong markup--li-strong">Over-Smooth and Potentially Unrobust</strong>: The trend estimate <code class="markup--code markup--li-code">T_t-cap</code> tends to over-smooth at the rapidly rising or falling points. So when we have some unusual values in a small number of periods, the models are not robust.</li><li name="cc0f" id="cc0f" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">Seasonality Existence Assumption</strong>: The classical decomposition assumes that the seasonal component exists in the model even if there‚Äôs not</li><li name="f496" id="f496" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">Repeated Seasonality Assumption</strong>: The model assumes that the seasonal component repeats for each cycle, which can be violated</li></ul><p name="c807" id="c807" class="graf graf--p graf-after--li">(8) Models to Fix These Problems</p><p name="262f" id="262f" class="graf graf--p graf-after--p">Based on the previous problems, we have generated several models to fix them.</p><ul class="postList"><li name="881e" id="881e" class="graf graf--li graf-after--p">STL: modeling the seasonal and trend decomposition with <a href="https://blogs.sas.com/content/iml/2016/10/17/what-is-loess-regression.html" data-href="https://blogs.sas.com/content/iml/2016/10/17/what-is-loess-regression.html" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">LOESS regress</a> curve</li><li name="61dd" id="61dd" class="graf graf--li graf-after--li graf--trailing">etc.</li></ul></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@adamedelweiss" class="p-author h-card">Adam Edelweiss</a> on <a href="https://medium.com/p/1510b3966768"><time class="dt-published" datetime="2021-10-26T04:20:54.578Z">October 26, 2021</time></a>.</p><p><a href="https://medium.com/@adamedelweiss/time-series-analysis-1-introduction-to-time-series-moving-average-smoothing-additive-1510b3966768" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on December 15, 2021.</p></footer></article></body></html>