<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>Relational Database Review &amp; Lab 5 | A Quick Review of the Major Topics</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">Relational Database Review &amp; Lab 5 | A Quick Review of the Major Topics</h1>
</header>
<section data-field="subtitle" class="p-summary">
Series: Relational Database
</section>
<section data-field="body" class="e-content">
<section name="c592" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="d194" id="d194" class="graf graf--h3 graf--leading graf--title">Relational Database Review &amp; Lab 5 | A Quick Review of the Major Topics</h3><figure name="8d28" id="8d28" class="graf graf--figure graf-after--h3"><img class="graf-image" data-image-id="1*3IaCF_vbefdstmWFpZxCRw.png" data-width="1600" data-height="1200" data-is-featured="true" src="https://cdn-images-1.medium.com/max/800/1*3IaCF_vbefdstmWFpZxCRw.png"></figure><p name="ebc8" id="ebc8" class="graf graf--p graf-after--figure"><strong class="markup--strong markup--p-strong">0. A Quick Review #1 for the Relational Database</strong></p><p name="aa04" id="aa04" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">(1) Open the Server</strong></p><pre name="41f7" id="41f7" class="graf graf--pre graf-after--p">$ postgres -D /usr/local/var/postgres</pre><p name="4832" id="4832" class="graf graf--p graf-after--pre"><strong class="markup--strong markup--p-strong">(2) NULL</strong></p><p name="ad64" id="ad64" class="graf graf--p graf-after--p">NULL means a missing, unknown, undefined, or not applicable value in SQL. Think about the result of the following queries,</p><pre name="c6c5" id="c6c5" class="graf graf--pre graf-after--p">SELECT NULL = NULL;                   # NULL<br>SELECT NULL IS NULL;                  # TRUE<br>SELECT NULL IS NOT NULL;              # FALSE<br>SELECT GREATEST(NULL, 2);             # 2<br>SELECT LEAST(NULL, 2);                # 2<br>SELECT LEAST(NULL IS NULL, 2);        # Error<br>SELECT NULL AND TRUE;                 # NULL<br>SELECT NULL AND FALSE;                # FALSE<br>SELECT NULL OR TRUE;                  # TRUE<br>SELECT NULL OR FALSE;                 # NULL<br>SELECT NULL::BOOLEAN;                 # NULL</pre><p name="75d0" id="75d0" class="graf graf--p graf-after--pre"><strong class="markup--strong markup--p-strong">(3) Keys</strong></p><ul class="postList"><li name="9784" id="9784" class="graf graf--li graf-after--p"><strong class="markup--strong markup--li-strong">Superkey:</strong> a set of one or more attributes taken collectively to uniquely identify a record</li><li name="a0a0" id="a0a0" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">Candidate key</strong>: a super key which cannot have any columns removed from it without losing the unique identification property.</li><li name="1331" id="1331" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">Unique key</strong>: a specific key in the set of candidate key allowing NULL</li><li name="aeca" id="aeca" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">Primary key</strong>: a specific key in the set of candidate key not allowing NULL</li><li name="1ae2" id="1ae2" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">Foreign key:</strong> a field (or collection of fields) in one table that refers to the PRIMARY KEY in another table.</li></ul><figure name="9549" id="9549" class="graf graf--figure graf-after--li"><img class="graf-image" data-image-id="1*BosGFh-O4XJLhynIsrZ__g.png" data-width="2036" data-height="1142" src="https://cdn-images-1.medium.com/max/800/1*BosGFh-O4XJLhynIsrZ__g.png"><figcaption class="imageCaption"><a href="https://www.guru99.com/difference-between-primary-key-and-unique-key.html" data-href="https://www.guru99.com/difference-between-primary-key-and-unique-key.html" class="markup--anchor markup--figure-anchor" rel="nofollow noopener" target="_blank">https://www.guru99.com/difference-between-primary-key-and-unique-key.html</a></figcaption></figure><pre name="0ced" id="0ced" class="graf graf--pre graf-after--figure">PRIMARY KEY<br>UNIQUE <br>FOREIGN KEY (&lt;colname1&gt;) REFERENCES &lt;tablename&gt;(&lt;colname2&gt;)<br>ON DELETE CASCADE<br>ON UPDATE CASCADE</pre><p name="31d3" id="31d3" class="graf graf--p graf-after--pre"><strong class="markup--strong markup--p-strong">(4) Table Modify</strong></p><ul class="postList"><li name="e041" id="e041" class="graf graf--li graf-after--p">Delete Table</li></ul><pre name="d6a2" id="d6a2" class="graf graf--pre graf-after--li">DROP TABLE IF EXISTS &lt;tablename&gt; CASCADE;</pre><ul class="postList"><li name="e853" id="e853" class="graf graf--li graf-after--pre">Rename Table</li></ul><pre name="b4c6" id="b4c6" class="graf graf--pre graf-after--li">ALTER TABLE &lt;tablename&gt;<br>RENAME TO &lt;new_attname&gt;;</pre><ul class="postList"><li name="f051" id="f051" class="graf graf--li graf-after--pre">Load Data</li></ul><pre name="53be" id="53be" class="graf graf--pre graf-after--li">COPY &lt;tablename&gt;<br>FROM &#39;&lt;path/filename.csv&gt;&#39;<br>DELIMITER &#39;,&#39;<br>CSV HEADER;</pre><ul class="postList"><li name="46b1" id="46b1" class="graf graf--li graf-after--pre">Add Data</li></ul><pre name="79b0" id="79b0" class="graf graf--pre graf-after--li">INSERT INTO &lt;tablename&gt; <br>VALUES &lt;value1, value2, value3, ...&gt;;</pre><ul class="postList"><li name="bd7f" id="bd7f" class="graf graf--li graf-after--pre">Update Data</li></ul><pre name="a7f7" id="a7f7" class="graf graf--pre graf-after--li">UPDATE &lt;tablename&gt;<br>SET &lt;att1name&gt; = &lt;val_1&gt;<br>    &lt;att2name&gt; = &lt;val_2&gt;<br>    ...<br>WHERE &lt;constrains&gt;;</pre><ul class="postList"><li name="ef43" id="ef43" class="graf graf--li graf-after--pre">Delete Data</li></ul><pre name="0d23" id="0d23" class="graf graf--pre graf-after--li">DELETE FROM &lt;tablename&gt;<br>WHERE &lt;constraints&gt;;</pre><ul class="postList"><li name="b7ef" id="b7ef" class="graf graf--li graf-after--pre">Add column</li></ul><pre name="425f" id="425f" class="graf graf--pre graf-after--li">ALTER TABLE &lt;tablename&gt;<br>ADD COLUMN &lt;attname&gt; &lt;datatype&gt; &lt;constraint&gt;;</pre><ul class="postList"><li name="f012" id="f012" class="graf graf--li graf-after--pre">Delete Column</li></ul><pre name="188b" id="188b" class="graf graf--pre graf-after--li">ALTER TABLE &lt;tablename&gt;<br>DROP COLUMN &lt;attname&gt;;</pre><ul class="postList"><li name="7dec" id="7dec" class="graf graf--li graf-after--pre">Rename Column</li></ul><pre name="d606" id="d606" class="graf graf--pre graf-after--li">ALTER TABLE &lt;tablename&gt;<br>RENAME COLUMN &lt;attname&gt;<br>TO &lt;new_attname&gt;;</pre><ul class="postList"><li name="3fe2" id="3fe2" class="graf graf--li graf-after--pre">Change the Constraint to NOT NULL</li></ul><pre name="dd53" id="dd53" class="graf graf--pre graf-after--li">ALTER TABLE &lt;tablename&gt;<br>ALTER COLUMN &lt;attname&gt;<br>SET NOT NULL;</pre><ul class="postList"><li name="236b" id="236b" class="graf graf--li graf-after--pre">Delete the Constraint NOT NULL</li></ul><pre name="cfc3" id="cfc3" class="graf graf--pre graf-after--li">ALTER TABLE &lt;tablename&gt;<br>ALTER COLUMN &lt;attname&gt;<br>DROP NOT NULL;</pre><p name="a18e" id="a18e" class="graf graf--p graf-after--pre"><strong class="markup--strong markup--p-strong">(5) Type Conversion</strong></p><p name="2245" id="2245" class="graf graf--p graf-after--p">Types for PostgreSQL are,</p><pre name="999c" id="999c" class="graf graf--pre graf-after--p">BOOLEAN<br>CHARACTER(n)<br>VARCHAR(n)<br>TEXT<br>INTEGER<br>REAL<br>SERIAL<br>DATE<br>TIME(p)<br>TIMESTAMP(p)<br>INTERVAL<br>JSON</pre><p name="8e8f" id="8e8f" class="graf graf--p graf-after--pre">To convert a data type, we can use either,</p><pre name="a326" id="a326" class="graf graf--pre graf-after--p">CAST(&lt;expression&gt; AS &lt;TargetType&gt;)</pre><p name="49ed" id="49ed" class="graf graf--p graf-after--pre">or,</p><pre name="e437" id="e437" class="graf graf--pre graf-after--p">&lt;expression&gt;::&lt;TargetType&gt;</pre><ul class="postList"><li name="6dd3" id="6dd3" class="graf graf--li graf-after--pre">Convert Text to Datestamp</li></ul><pre name="f2f6" id="f2f6" class="graf graf--pre graf-after--li">TO_TIMESTAMP(&#39;05 Dec 2020 54:33:12&#39;, &#39;DD Mon YYYY MI:SS:HH12&#39;)</pre><ul class="postList"><li name="149d" id="149d" class="graf graf--li graf-after--pre">Convert Text to Date</li></ul><pre name="91f1" id="91f1" class="graf graf--pre graf-after--li">TO_DATE(&#39;05 Dec 2020 54:33:12&#39;, &#39;DD Mon YYYY&#39;)</pre><ul class="postList"><li name="6fd6" id="6fd6" class="graf graf--li graf-after--pre">Convert Number to Text</li></ul><pre name="7959" id="7959" class="graf graf--pre graf-after--li">TO_CHAR(-1125.8, &#39;99G999D99S&#39;)</pre><p name="47b0" id="47b0" class="graf graf--p graf-after--pre">The format is,</p><pre name="68a9" id="68a9" class="graf graf--pre graf-after--p">S -&gt; Sign<br>D -&gt; Dot<br>G -&gt; Separator ,<br>9 -&gt; A Digit</pre><ul class="postList"><li name="ad08" id="ad08" class="graf graf--li graf-after--pre">Convert Text to Number</li></ul><pre name="b18e" id="b18e" class="graf graf--pre graf-after--li">TO_NUMBER(&#39;12,454.8-&#39;, &#39;99G999D99S&#39;)</pre><p name="eaeb" id="eaeb" class="graf graf--p graf-after--pre"><strong class="markup--strong markup--p-strong">(6) String and Math Functions</strong></p><pre name="3990" id="3990" class="graf graf--pre graf-after--p"># <strong class="markup--strong markup--pre-strong">String Functions</strong><br>UPPER<br>LOWER<br>LENGTH<br>LEFT<br>RIGHT<br>REPLACE<br>SUBSTR<br>TRIM(&lt;string&gt;)<br>TRIM(leading &lt;characters&gt; FROM &lt;string&gt;)<br>TRIM(trailing &lt;characters&gt; FROM &lt;string&gt;)<br>&lt;string&gt; LIKE &lt;pattern&gt;                       # _ = 1char, *=0+char<br>&lt;string&gt; SIMILAR TO &lt;regex&gt;</pre><pre name="5b25" id="5b25" class="graf graf--pre graf-after--pre"># <strong class="markup--strong markup--pre-strong">Math Functions</strong><br>MAX<br>MIN<br>AVG<br>SUM<br>COUNT<br>ABS<br>ROUND<br>CEIL<br>FLOOR<br>POWER<br>LOG<br>GREATEST<br>LEAST</pre><p name="8e81" id="8e81" class="graf graf--p graf-after--pre"><strong class="markup--strong markup--p-strong">(8) Set Operations</strong></p><pre name="899a" id="899a" class="graf graf--pre graf-after--p">UNION<br>UNION ALL<br>INTERSECT<br>EXCEPT</pre><p name="4c53" id="4c53" class="graf graf--p graf-after--pre"><strong class="markup--strong markup--p-strong">(9) Date Time Functions</strong></p><pre name="5bbd" id="5bbd" class="graf graf--pre graf-after--p">CURRENT_DATE<br>CURRENT_TIME                      # with timezone<br>CURRENT_TIMESTAMP                 # with timezone<br>EXTRACT(YEAR FROM &lt;timestamp&gt;)<br>EXTRACT(MONTH FROM &lt;timestamp&gt;)<br>EXTRACT(DAY FROM &lt;timestamp&gt;)<br>EXTRACT(HOUR FROM &lt;timestamp&gt;)<br>EXTRACT(MINUTE FROM &lt;timestamp&gt;)<br>EXTRACT(SECOND FROM &lt;timestamp&gt;)<br>INTERVAL &#39;1 DAY&#39;<br>CURRENT_DATE + INTERVAL &#39;1 DAY&#39;<br>TO_CHAR(CURRENT_TIMESTAMP, &#39;HH24:MI:SS&#39;)<br>TO_CHAR(CURRENT_TIMESTAMP, &#39;HH12:MI:SS&#39;)<br>TO_CHAR(CURRENT_TIMESTAMP, &#39;YYYY-MM-DD&#39;)<br>TO_CHAR(CURRENT_TIMESTAMP, &#39;YYYY-MM-DD HH12:MI:SS&#39;)<br>TO_CHAR(CURRENT_TIMESTAMP, &#39;YY-MON-Mon-Day&#39;)</pre><ol class="postList"><li name="5ab8" id="5ab8" class="graf graf--li graf-after--pre"><strong class="markup--strong markup--li-strong">Find the Largest Salary</strong></li></ol><p name="5950" id="5950" class="graf graf--p graf-after--li">Suppose we are given an Employee table of employee names and salaries, get the largest salary.</p><figure name="22f5" id="22f5" class="graf graf--figure graf--iframe graf-after--p"><script src="https://gist.github.com/Sadamingh/1375a6d0c5d62e71c572d582a46a99b1.js"></script></figure><p name="308d" id="308d" class="graf graf--p graf-after--figure"><strong class="markup--strong markup--p-strong">2. Find the Second-Largest Salary</strong></p><p name="d01e" id="d01e" class="graf graf--p graf-after--p">Suppose we are given an Employee table of employee names and salaries, get the second-largest salary.</p><figure name="6066" id="6066" class="graf graf--figure graf--iframe graf-after--p"><script src="https://gist.github.com/Sadamingh/7d2a6873711557f3f89c28108aff9397.js"></script></figure><p name="60ad" id="60ad" class="graf graf--p graf-after--figure"><strong class="markup--strong markup--p-strong">3. Find the Nth-Largest Salary</strong></p><p name="1943" id="1943" class="graf graf--p graf-after--p">Suppose we are given an Employee table of employee names and salaries, get the Nth largest salary.</p><figure name="cfd8" id="cfd8" class="graf graf--figure graf--iframe graf-after--p"><script src="https://gist.github.com/Sadamingh/3d948eed5897928d92ed79e8e49d829e.js"></script></figure><p name="210e" id="210e" class="graf graf--p graf-after--figure"><strong class="markup--strong markup--p-strong">4.</strong><a href="https://leetcode.com/problems/rank-scores/" data-href="https://leetcode.com/problems/rank-scores/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank"><strong class="markup--strong markup--p-strong"> Rank the Score</strong></a><strong class="markup--strong markup--p-strong"> (no “holes” between ranks)</strong></p><p name="e5f2" id="e5f2" class="graf graf--p graf-after--p">Suppose we are given a Scores table of ids and scores, and we would like to add a Rank column to rank the scores without holes between the ranks.</p><figure name="e397" id="e397" class="graf graf--figure graf--iframe graf-after--p"><script src="https://gist.github.com/Sadamingh/d8c0adf93ad5790ec2d99fcdf5103606.js"></script></figure><p name="4db7" id="4db7" class="graf graf--p graf-after--figure"><strong class="markup--strong markup--p-strong">5. </strong><a href="https://leetcode.com/problems/consecutive-numbers/" data-href="https://leetcode.com/problems/consecutive-numbers/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank"><strong class="markup--strong markup--p-strong">Select Consecutively Numbers</strong></a></p><p name="a465" id="a465" class="graf graf--p graf-after--p">Suppose we are given a Logs table with Id and Num, select the values in Num that appear at least three times consecutively.</p><figure name="4332" id="4332" class="graf graf--figure graf--iframe graf-after--p graf--trailing"><script src="https://gist.github.com/Sadamingh/74881d45e68f975b55f2fd49068a970c.js"></script></figure></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@adamedelweiss" class="p-author h-card">Adam Edelweiss</a> on <a href="https://medium.com/p/bbb0303d817"><time class="dt-published" datetime="2020-11-04T17:11:57.058Z">November 4, 2020</time></a>.</p><p><a href="https://medium.com/@adamedelweiss/relational-database-review-lab-5-a-quick-revirew-to-the-major-topics-bbb0303d817" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on December 15, 2021.</p></footer></article></body></html>