<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>Data Acquisition 11 | A Review of the Main Topics</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">Data Acquisition 11 | A Review of the Main Topics</h1>
</header>
<section data-field="subtitle" class="p-summary">
Series: Data Acquisition
</section>
<section data-field="body" class="e-content">
<section name="fd65" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="2ba0" id="2ba0" class="graf graf--h3 graf--leading graf--title">Data Acquisition 11 | A Review of the Main Topics</h3><figure name="594b" id="594b" class="graf graf--figure graf-after--h3"><img class="graf-image" data-image-id="1*RiEQ5_20dP9hBd9D6EzNtQ.png" data-width="1468" data-height="734" data-is-featured="true" src="https://cdn-images-1.medium.com/max/800/1*RiEQ5_20dP9hBd9D6EzNtQ.png"></figure><ol class="postList"><li name="0c4d" id="0c4d" class="graf graf--li graf-after--figure"><strong class="markup--strong markup--li-strong">Basic Computer Network Concepts</strong></li></ol><figure name="d0c6" id="d0c6" class="graf graf--figure graf-after--li"><img class="graf-image" data-image-id="1*W94zAHgxkY7jNQeO8J6Bag.png" data-width="1728" data-height="908" src="https://cdn-images-1.medium.com/max/800/1*W94zAHgxkY7jNQeO8J6Bag.png"></figure><p name="df8d" id="df8d" class="graf graf--p graf-after--figure"><strong class="markup--strong markup--p-strong">2. HTTP Methods and Responses Cheatsheet by </strong><a href="https://johnderinger.wordpress.com/2013/01/09/rest-cheat-sheet/" data-href="https://johnderinger.wordpress.com/2013/01/09/rest-cheat-sheet/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank"><strong class="markup--strong markup--p-strong">John Deringer</strong></a></p><figure name="5e77" id="5e77" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*j76jRsIuEt4yVQM-EbD0RQ.png" data-width="1536" data-height="750" src="https://cdn-images-1.medium.com/max/800/1*j76jRsIuEt4yVQM-EbD0RQ.png"></figure><p name="d0bb" id="d0bb" class="graf graf--p graf-after--figure"><strong class="markup--strong markup--p-strong">3. Common Ports Cheatsheet by </strong><a href="https://packetlife.net/media/library/23/common-ports.pdf" data-href="https://packetlife.net/media/library/23/common-ports.pdf" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank"><strong class="markup--strong markup--p-strong">Jeremy Stretch</strong></a></p><figure name="64ae" id="64ae" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*xlF9pAzNu7eTqsT9IpqFPg.png" data-width="1054" data-height="1364" src="https://cdn-images-1.medium.com/max/800/1*xlF9pAzNu7eTqsT9IpqFPg.png"></figure><p name="94ea" id="94ea" class="graf graf--p graf-after--figure"><strong class="markup--strong markup--p-strong">4. Command Lines of Computer Network</strong></p><pre name="ac63" id="ac63" class="graf graf--pre graf-after--p">// check the DNS solution<br>$ nslookup <a href="http://www.dgate.org" data-href="http://www.dgate.org" class="markup--anchor markup--pre-anchor" rel="noopener" target="_blank">www.dgate.org</a></pre><pre name="d7fb" id="d7fb" class="graf graf--pre graf-after--pre">// get the laptop&#39;s host name<br>$ hostname</pre><pre name="028e" id="028e" class="graf graf--pre graf-after--pre">// connect via telnet and then send a request<br>$ telnet www.dgate.org 80<br>GET / HTTP/1.1<br>Host: <a href="http://www.dgate.org" data-href="http://www.dgate.org" class="markup--anchor markup--pre-anchor" rel="noopener" target="_blank">www.dgate.org</a></pre><pre name="f793" id="f793" class="graf graf--pre graf-after--pre"><br>// listen to a port 11223<br>$ nc -l 11223</pre><pre name="a5ab" id="a5ab" class="graf graf--pre graf-after--pre">// get and save an webpage<br>$ curl <a href="https://www.cnn.com" data-href="https://www.cnn.com" class="markup--anchor markup--pre-anchor" rel="noopener" target="_blank">https://www.cnn.com</a> &gt; cnn.html<br>$ wget -O cnn.html <a href="https://www.cnn.com" data-href="https://www.cnn.com" class="markup--anchor markup--pre-anchor" rel="noopener" target="_blank">https://www.cnn.com</a>  // note that wget not support socket5</pre><pre name="d356" id="d356" class="graf graf--pre graf-after--pre">// recursively wget a server<br><code class="markup--code markup--pre-code">$ wget -r -np -R &quot;index.html*&quot; {{URL}}</code></pre><pre name="7710" id="7710" class="graf graf--pre graf-after--pre">// find IP address assigned by NAT (internal IP)<br>$ ipconfig getifaddr en0</pre><pre name="2832" id="2832" class="graf graf--pre graf-after--pre">// find external IP address<br>$ curl ifconfig.me                         // not work in China<br>$ curl mip.chinaz.com | grep IP地址：       // work in China</pre><pre name="f9e1" id="f9e1" class="graf graf--pre graf-after--pre">// SSH connection (especially for AWS)<br>$ ssh -i foo.pem <a href="mailto:ubuntu@xyz.com" data-href="mailto:ubuntu@xyz.com" class="markup--anchor markup--pre-anchor" rel="nofollow" target="_blank">ubuntu@xyz.com</a></pre><pre name="879b" id="879b" class="graf graf--pre graf-after--pre">// SSH copy (especially for AWS)<br>$ <code class="markup--code markup--pre-code">scp /path/to/file username@a:/path/to/destination</code></pre><p name="0bce" id="0bce" class="graf graf--p graf-after--pre"><strong class="markup--strong markup--p-strong">5. Amazon Web Service</strong></p><figure name="4423" id="4423" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*4VPPwB2vwsPaf6MzSEmY9Q.png" data-width="1664" data-height="424" src="https://cdn-images-1.medium.com/max/800/1*4VPPwB2vwsPaf6MzSEmY9Q.png"></figure><p name="b14e" id="b14e" class="graf graf--p graf-after--figure"><strong class="markup--strong markup--p-strong">6. Get API results</strong></p><p name="0a9f" id="0a9f" class="graf graf--p graf-after--p">Firstly, let’s put our APIs in a python script named ,</p><pre name="6ee3" id="6ee3" class="graf graf--pre graf-after--p"># youtube<br>youtube_key = </pre><pre name="5373" id="5373" class="graf graf--pre graf-after--pre"># twitter<br>consumer_key = <br>consumer_secret = <br>access_token = <br>access_token_secret = </pre><pre name="8bd3" id="8bd3" class="graf graf--pre graf-after--pre"># Quandl<br>quandl_key = </pre><p name="767f" id="767f" class="graf graf--p graf-after--pre">I put this file in the parent directory so I have to add the parent directory to the path in order to import this script</p><pre name="ec00" id="ec00" class="graf graf--pre graf-after--p">import os, sys<br>lib_path = os.path.abspath(os.path.join(&#39;..&#39;))<br>sys.path.append(lib_path)</pre><pre name="56d3" id="56d3" class="graf graf--pre graf-after--pre">import apikeys<br>import requests</pre><p name="3294" id="3294" class="graf graf--p graf-after--pre">We are going to use the API from twitter, Youtube, and Quandl. Before we start, we have to install some of the packages,</p><pre name="ce54" id="ce54" class="graf graf--pre graf-after--p">! pip install bs4==0.0.1<br>! pip install --ignore-installed --upgrade google-api-python-client<br>! pip install tweepy==3.9.0</pre><ul class="postList"><li name="f2e6" id="f2e6" class="graf graf--li graf-after--pre">Build Youtube API query</li></ul><pre name="bc32" id="bc32" class="graf graf--pre graf-after--li">DEVELOPER_KEY = youtube_key<br>YOUTUBE_API_SERVICE_NAME = &quot;youtube&quot;<br>YOUTUBE_API_VERSION = &quot;v3&quot;<br>youtube = build(YOUTUBE_API_SERVICE_NAME, YOUTUBE_API_VERSION, developerKey=DEVELOPER_KEY)</pre><p name="1b77" id="1b77" class="graf graf--p graf-after--pre">Return a search result,</p><pre name="4e56" id="4e56" class="graf graf--pre graf-after--p">QUERY = &#39;cats&#39;          # what we want to search (replace)<br>search_response = youtube.search().list(<br>    q=QUERY,            # search terms<br>    part=&quot;id,snippet&quot;,  # what we want back<br>    maxResults=20,      # how many results we want back<br>    type=&quot;video&quot;        # only tell me about videos<br>).execute()</pre><p name="965c" id="965c" class="graf graf--p graf-after--pre">Return a comments result,</p><pre name="a8bd" id="a8bd" class="graf graf--pre graf-after--p">videoid = &#39;gU_gYzwTbYQ&#39;         # the video we want to see (replace)<br>comments = youtube.commentThreads().list(<br>    part=&quot;snippet&quot;,             # comments are in the &quot;snippet&quot;<br>    videoId=videoid,            # the video we want to see<br>    textFormat=&quot;plainText&quot;,     # only return plain text<br>    maxResults=5                # how many results we want back<br>).execute()</pre><ul class="postList"><li name="a77d" id="a77d" class="graf graf--li graf-after--pre">Build twitter API query</li></ul><pre name="8da4" id="8da4" class="graf graf--pre graf-after--li">auth = tweepy.OAuthHandler(consumer_key, consumer_secret)<br>auth.set_access_token(access_token, access_token_secret)</pre><pre name="dd1c" id="dd1c" class="graf graf--pre graf-after--pre">api = tweepy.API(auth)</pre><p name="bb95" id="bb95" class="graf graf--p graf-after--pre">Return home timeline of our current account,</p><pre name="ebab" id="ebab" class="graf graf--pre graf-after--p">api.home_timeline()</pre><p name="2ef9" id="2ef9" class="graf graf--p graf-after--pre">Return user info,</p><pre name="afdd" id="afdd" class="graf graf--pre graf-after--p">user_name = &#39;JoeBiden&#39;         # username we want to get<br>api.get_user(user_name)</pre><p name="b131" id="b131" class="graf graf--p graf-after--pre">Return user time line</p><pre name="1de4" id="1de4" class="graf graf--pre graf-after--p">user_name = &#39;JoeBiden&#39;         # username we want to get<br>api.user_timeline(user_name)</pre><p name="c969" id="c969" class="graf graf--p graf-after--pre">Return tweets for more than 1 page (i.e. 100 records)</p><pre name="5183" id="5183" class="graf graf--pre graf-after--p">user_name = &#39;JoeBiden&#39;         # username we want to get<br>n = 100                        # number of records we want to get<br>tweepy.Cursor(api.user_timeline, id=user_name).items(n)</pre><ul class="postList"><li name="af06" id="af06" class="graf graf--li graf-after--pre">Build Quandl API query and grab the CSV data</li></ul><pre name="ab0a" id="ab0a" class="graf graf--pre graf-after--li">ticker = &#39;AAPL&#39;                # stock we want to search<br>APIKEY = quandl_key            # our API key</pre><pre name="b777" id="b777" class="graf graf--pre graf-after--pre">url = HistoryURL % (ticker,APIKEY)</pre><pre name="a025" id="a025" class="graf graf--pre graf-after--pre">r = requests.get(url)<br>csvdata = r.text</pre><p name="3a99" id="3a99" class="graf graf--p graf-after--pre">Save this file to a CSV file,</p><pre name="bf46" id="bf46" class="graf graf--pre graf-after--p">with open(f&#39;{ticker}.csv&#39;, &#39;w&#39;) as f:<br>    f.write(csvdata)</pre><p name="cac4" id="cac4" class="graf graf--p graf-after--pre">To conduct operations on this CSV file through command line, we can use the csvcut command and the csvgrep command. To use this, we have to install it first,</p><pre name="0d1a" id="0d1a" class="graf graf--pre graf-after--p">! pip install csvkit</pre><p name="8331" id="8331" class="graf graf--p graf-after--pre">For example, if we want to select column 12 for the first five lines (including CSV headers),</p><pre name="3054" id="3054" class="graf graf--pre graf-after--p">! csvcut -c 12 AAPL.csv | head -6</pre><p name="2bd7" id="2bd7" class="graf graf--p graf-after--pre">For example, if we want to select column 12 for the first five lines (without CSV headers),</p><pre name="ec5d" id="ec5d" class="graf graf--pre graf-after--p">! csvcut -c 12 AAPL.csv | tail +2 | head -5</pre><p name="8f1a" id="8f1a" class="graf graf--p graf-after--pre">if we want to select column 12 and 9 column for the first five lines,</p><pre name="7879" id="7879" class="graf graf--pre graf-after--p">! csvcut -c 12,9 AAPL.csv | head -5</pre><p name="f438" id="f438" class="graf graf--p graf-after--pre">if we want to select column 11–13 column for the first five lines,</p><pre name="d16c" id="d16c" class="graf graf--pre graf-after--p">! csvcut -c 11-13 AAPL.csv | head -5</pre><p name="9107" id="9107" class="graf graf--p graf-after--pre"><strong class="markup--strong markup--p-strong">7. Flask</strong></p><ul class="postList"><li name="08fc" id="08fc" class="graf graf--li graf-after--p">Import packages</li></ul><pre name="4b62" id="4b62" class="graf graf--pre graf-after--li">from flask import Flask, render_template, redirect, url_for</pre><ul class="postList"><li name="9424" id="9424" class="graf graf--li graf-after--pre">Build an app</li></ul><pre name="e668" id="e668" class="graf graf--pre graf-after--li">app = Flask(__name__)</pre><ul class="postList"><li name="8727" id="8727" class="graf graf--li graf-after--pre">A common root page</li></ul><pre name="bdd9" id="bdd9" class="graf graf--pre graf-after--li">@app.route(&quot;/&quot;)<br>def root():<br>    return redirect(url_for(&#39;index&#39;))</pre><ul class="postList"><li name="1bf6" id="1bf6" class="graf graf--li graf-after--pre">A common index page</li></ul><pre name="442a" id="442a" class="graf graf--pre graf-after--li">@app.route(&quot;/index&quot;)<br>def index():<br>    return render_template(&#39;index.html&#39;)</pre><p name="b9f5" id="b9f5" class="graf graf--p graf-after--pre">Note that all the jinja templates should be put in the following folder in the current directory,</p><pre name="1fa9" id="1fa9" class="graf graf--pre graf-after--p">templates/</pre><ul class="postList"><li name="114c" id="114c" class="graf graf--li graf-after--pre">Launch the instance</li></ul><pre name="a111" id="a111" class="graf graf--pre graf-after--li">app.run(&#39;0.0.0.0&#39;)</pre><p name="b24d" id="b24d" class="graf graf--p graf-after--pre"><strong class="markup--strong markup--p-strong">8. Socket Communication</strong></p><ul class="postList"><li name="b4ac" id="b4ac" class="graf graf--li graf-after--p">Starter code for creating a server on port 8000.</li></ul><pre name="1c42" id="1c42" class="graf graf--pre graf-after--li">import socket<br>import netifaces as ni<br><br># Create a serve socket<br>serversocket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)<br>ip = ni.ifaddresses(&#39;en0&#39;)[ni.AF_INET][0][&#39;addr&#39;] # might be en1<br># (on linux it might be `eth0` not `en0`)<br>serversocket.bind((ip, 8000)) # wait at port 8000<br># Start listening for connections from client<br>serversocket.listen(5) # 5 is number of clients that can queue up before failure</pre><pre name="88a0" id="88a0" class="graf graf--pre graf-after--pre"># Wait for connection<br>(clientsocket, address) = serversocket.accept()<br>clientsocket.send(f&quot;Successfully connected to {ip}\n&quot;.encode())</pre><pre name="e7a6" id="e7a6" class="graf graf--pre graf-after--pre"><strong class="markup--strong markup--pre-strong"># Write something here</strong></pre><pre name="be6c" id="be6c" class="graf graf--pre graf-after--pre"># Close the socket<br>clientsocket.close()</pre><p name="d1e8" id="d1e8" class="graf graf--p graf-after--pre">See an example of silly chatter from,</p><div name="1918" id="1918" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://medium.com/adamedelwiess/data-acquisition-6-an-introduction-to-the-computer-network-12f0bc5c7586" data-href="https://medium.com/adamedelwiess/data-acquisition-6-an-introduction-to-the-computer-network-12f0bc5c7586" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://medium.com/adamedelwiess/data-acquisition-6-an-introduction-to-the-computer-network-12f0bc5c7586"><strong class="markup--strong markup--mixtapeEmbed-strong">Data Acquisition 6 | An Introduction to the Computer Network</strong><br><em class="markup--em markup--mixtapeEmbed-em">Series: Data Acquisition</em>medium.com</a><a href="https://medium.com/adamedelwiess/data-acquisition-6-an-introduction-to-the-computer-network-12f0bc5c7586" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="549c5aab7dac27b26c85e11abdd5f70b" data-thumbnail-img-id="1*-ItYlRptA-ctuXgODMTDEA.png" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/1*-ItYlRptA-ctuXgODMTDEA.png);"></a></div><p name="09b6" id="09b6" class="graf graf--p graf-after--mixtapeEmbed"><strong class="markup--strong markup--p-strong">9. Selenium</strong></p><p name="4ed5" id="4ed5" class="graf graf--p graf-after--p">Launch a Selenium chrome driver,</p><pre name="ed02" id="ed02" class="graf graf--pre graf-after--p">from selenium import webdriver<br>driver = webdriver.Chrome(&#39;/usr/local/bin/chromedriver&#39;)</pre><p name="5126" id="5126" class="graf graf--p graf-after--pre">Open a webpage (i.e. google.com),</p><pre name="1ceb" id="1ceb" class="graf graf--pre graf-after--p">driver.get(&#39;http://www.google.com&#39;)</pre><p name="cc5f" id="cc5f" class="graf graf--p graf-after--pre">Get an element (‘q’ means something),</p><pre name="1fa0" id="1fa0" class="graf graf--pre graf-after--p">driver.find_element_by_name(&#39;q&#39;)           # via name<br>driver.find_element_by_id(&#39;q&#39;)             # via id<br>driver.find_element_by_class_name(&#39;q&#39;)     # via class<br># via css format: i.e. &lt;input type=&quot;password&quot; /&gt;<br>driver.find_element_by_css_selector(&#39;input[type=&#39;password&#39;]&#39;) <br># via xpath: i.e. &lt;input name=&quot;username&quot; type=&quot;text&quot; /&gt;<br>driver.find_elements_by_xpath(&#39;//input[@name=&#39;username&#39;]&#39;)</pre><p name="ddc9" id="ddc9" class="graf graf--p graf-after--pre">Write in a text box and submit,</p><pre name="7354" id="7354" class="graf graf--pre graf-after--p">query = &#39;something&#39;           # things we want to post<br>box.send_keys(query)<br>box.submit()</pre><p name="b9f2" id="b9f2" class="graf graf--p graf-after--pre">Click a button,</p><pre name="48c8" id="48c8" class="graf graf--pre graf-after--p">btn.click()</pre><p name="5285" id="5285" class="graf graf--p graf-after--pre">Scrolling down the page,</p><pre name="fb88" id="fb88" class="graf graf--pre graf-after--p">driver.execute_script(&quot;window.scrollTo(0, 10000);&quot;)</pre><p name="4da9" id="4da9" class="graf graf--p graf-after--pre">Quit the driver,</p><pre name="f2ea" id="f2ea" class="graf graf--pre graf-after--p graf--trailing">driver.quit()</pre></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@adamedelweiss" class="p-author h-card">Adam Edelweiss</a> on <a href="https://medium.com/p/20a9b2d20baf"><time class="dt-published" datetime="2020-12-07T16:35:24.584Z">December 7, 2020</time></a>.</p><p><a href="https://medium.com/@adamedelweiss/data-acquisition-11-a-review-of-the-main-topics-20a9b2d20baf" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on December 15, 2021.</p></footer></article></body></html>