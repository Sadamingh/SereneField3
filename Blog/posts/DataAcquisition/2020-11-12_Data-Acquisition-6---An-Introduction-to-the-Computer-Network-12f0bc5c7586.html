<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>Data Acquisition 6 | An Introduction to the Computer Network</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">Data Acquisition 6 | An Introduction to the Computer Network</h1>
</header>
<section data-field="subtitle" class="p-summary">
Series: Data Acquisition
</section>
<section data-field="body" class="e-content">
<section name="bef5" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="1fd9" id="1fd9" class="graf graf--h3 graf--leading graf--title">Data Acquisition 6 | An Introduction to the Computer Network</h3><figure name="9f5b" id="9f5b" class="graf graf--figure graf-after--h3"><img class="graf-image" data-image-id="1*-ItYlRptA-ctuXgODMTDEA.png" data-width="1736" data-height="854" data-is-featured="true" src="https://cdn-images-1.medium.com/max/800/1*-ItYlRptA-ctuXgODMTDEA.png"><figcaption class="imageCaption"><a href="https://dribbble.com/shots/3900928-Open-Innovation" data-href="https://dribbble.com/shots/3900928-Open-Innovation" class="markup--anchor markup--figure-anchor" rel="nofollow noopener" target="_blank">https://dribbble.com/shots/3900928-Open-Innovation</a></figcaption></figure><ol class="postList"><li name="20b3" id="20b3" class="graf graf--li graf-after--figure"><strong class="markup--strong markup--li-strong">Pipe vs. Socket</strong></li></ol><p name="76c4" id="76c4" class="graf graf--p graf-after--li"><strong class="markup--strong markup--p-strong">(1) Pipe in Bash</strong></p><p name="fe6f" id="fe6f" class="graf graf--p graf-after--p">Pipes are fast and reliable because they are implemented in memory on a single host where both communicating processes run. Recall we have already built a command-line pipe in the command line part. Now, let’s build another instance.</p><p name="b5f3" id="b5f3" class="graf graf--p graf-after--p">First of all, let’s write a file to the /tmp path,</p><pre name="bb5b" id="bb5b" class="graf graf--pre graf-after--p">$ echo &#39;hello world&#39; &gt; /tmp/text.txt<br>$ echo &#39;world&#39; &gt;&gt; /tmp/text.txt</pre><p name="84c4" id="84c4" class="graf graf--p graf-after--pre">Then, we can use a pipe to get the lines in this file with the word hello,</p><pre name="9f3f" id="9f3f" class="graf graf--pre graf-after--p">$ cat /tmp/text.txt | grep hello</pre><p name="a0c7" id="a0c7" class="graf graf--p graf-after--pre">The output will be,</p><pre name="9acc" id="9acc" class="graf graf--pre graf-after--p">hello world</pre><p name="f34b" id="f34b" class="graf graf--p graf-after--pre">This is the same as putting the /tmp/text.txt file directly in the stdin,</p><pre name="c275" id="c275" class="graf graf--pre graf-after--p">grep hello /tmp/text.txt</pre><p name="ad99" id="ad99" class="graf graf--p graf-after--pre">The pipe is actually a way that communicates different processes in a host.</p><p name="8499" id="8499" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">(2) Socket in Bash</strong></p><p name="5721" id="5721" class="graf graf--p graf-after--p">Sockets are slower and less reliable but are much more flexible since they allow communication between processes on different hosts. Now, let’s build a socket in order to communicate between two hosts.</p><p name="a638" id="a638" class="graf graf--p graf-after--p">Before we set up the socket, we have to first install Netcat on this host,</p><pre name="9f80" id="9f80" class="graf graf--pre graf-after--p">(macos) $ brew install nc</pre><p name="6b94" id="6b94" class="graf graf--p graf-after--pre">then we type in the command,</p><pre name="bfd4" id="bfd4" class="graf graf--pre graf-after--p">$ nc -l 11211</pre><p name="f8f5" id="f8f5" class="graf graf--p graf-after--pre">this command will set a process that listens to port 11211.</p><p name="7ec6" id="7ec6" class="graf graf--p graf-after--p">Then we open another terminal and write,</p><pre name="0f15" id="0f15" class="graf graf--pre graf-after--p">$ nc localhost 11211</pre><p name="d284" id="d284" class="graf graf--p graf-after--pre">By this command, we will create a socket that can be used to communicate the different processes.</p><p name="51d1" id="51d1" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">2. Protocols</strong></p><p name="6854" id="6854" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">(1) SSL</strong></p><p name="0f74" id="0f74" class="graf graf--p graf-after--p">SSL (Secure Sockets Layer) or TLS (Transport Layer Security) provides security to network traffic when used properly.</p><p name="b98f" id="b98f" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">(2) TCP</strong></p><p name="17ac" id="17ac" class="graf graf--p graf-after--p">TCP, the Transmission Control Protocol, is the reliable protocol that underlies a great deal of Internet traffic. Netcat makes TCP connections by default. TCP may be combined with SSL.</p><figure name="c8ba" id="c8ba" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*tvRg8AbujYdLQmkVg8LKxg.png" data-width="2020" data-height="600" src="https://cdn-images-1.medium.com/max/800/1*tvRg8AbujYdLQmkVg8LKxg.png"></figure><p name="83b0" id="83b0" class="graf graf--p graf-after--figure"><strong class="markup--strong markup--p-strong">(3) UDP</strong></p><p name="53b2" id="53b2" class="graf graf--p graf-after--p">UDP, the User Datagram Protocol, is an unreliable protocol often used by applications that can’t afford the overhead of TCP.</p><figure name="ec5d" id="ec5d" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*v8GVzK3h18Xl20Jt4WS4nA.png" data-width="1026" data-height="426" src="https://cdn-images-1.medium.com/max/800/1*v8GVzK3h18Xl20Jt4WS4nA.png"></figure><p name="9e6f" id="9e6f" class="graf graf--p graf-after--figure"><strong class="markup--strong markup--p-strong">(4) IPv4</strong></p><p name="8a97" id="8a97" class="graf graf--p graf-after--p">IPv4, the Internet Protocol version 4, is the most popular version of the Internet Protocol in use.</p><p name="2384" id="2384" class="graf graf--p graf-after--p">Let’s, first of all, install the netifaces package of python,</p><pre name="4934" id="4934" class="graf graf--pre graf-after--p">$ pip install netifaces</pre><p name="fc87" id="fc87" class="graf graf--p graf-after--pre">Then, in order to see our local IP address (default by DHCP, which means to give an IP address by the router automatically),</p><pre name="4265" id="4265" class="graf graf--pre graf-after--p">import netifaces as ni<br>ni.ifaddresses(&#39;en0&#39;)[ni.AF_INET][0][&#39;addr&#39;]</pre><p name="c9c4" id="c9c4" class="graf graf--p graf-after--pre">Also, we can also check our DNS server IP address by,</p><pre name="ff52" id="ff52" class="graf graf--pre graf-after--p">$ nslookup www.google.com</pre><p name="c1df" id="c1df" class="graf graf--p graf-after--pre">this will tell us the IP address of the DNS server and the google.com, for me, the output is,</p><pre name="942a" id="942a" class="graf graf--pre graf-after--p">Server:  8.8.8.8<br>Address: 8.8.8.8#53</pre><pre name="0bdf" id="0bdf" class="graf graf--pre graf-after--pre">Non-authoritative answer:<br>Name: <a href="http://www.google.com" data-href="http://www.google.com" class="markup--anchor markup--pre-anchor" rel="noopener" target="_blank">www.google.com</a><br>Address: 67.228.235.93</pre><p name="c425" id="c425" class="graf graf--p graf-after--pre">We can also get the IP address of google by python package socket,</p><pre name="732d" id="732d" class="graf graf--pre graf-after--p">import socket<br>socket.gethostbyname(&quot;www.google.com&quot;)</pre><p name="cd4f" id="cd4f" class="graf graf--p graf-after--pre">To see the localhost name of our personal computer, we can run,</p><pre name="cbb4" id="cbb4" class="graf graf--pre graf-after--p">socket.gethostname()</pre><p name="7662" id="7662" class="graf graf--p graf-after--pre">Another way to check our local IP address is by,</p><pre name="1b7a" id="1b7a" class="graf graf--pre graf-after--p">$ ifconfig en0</pre><p name="2042" id="2042" class="graf graf--p graf-after--pre"><strong class="markup--strong markup--p-strong">(5) Use Ncat to Communicate by SSL</strong></p><p name="25f2" id="25f2" class="graf graf--p graf-after--p">In the first terminal, let’s write,</p><pre name="c649" id="c649" class="graf graf--pre graf-after--p">$ ncat -v --listen --ssl localhost 11211</pre><p name="3ef5" id="3ef5" class="graf graf--p graf-after--pre">In the second terminal, suppose we use</p><pre name="b860" id="b860" class="graf graf--pre graf-after--p">$ nc localhost 11211</pre><p name="bb59" id="bb59" class="graf graf--p graf-after--pre">then we can connect to the server but we can not communicate. If we type in anything, it will give us an error because we are not using SSL for connection,</p><pre name="c57a" id="c57a" class="graf graf--pre graf-after--p">Ncat: Failed SSL connection</pre><p name="accd" id="accd" class="graf graf--p graf-after--pre">In order to connect by the SSL protocol, we have to use,</p><pre name="7b86" id="7b86" class="graf graf--pre graf-after--p">$ ncat -C --ssl localhost 11211</pre><p name="d80a" id="d80a" class="graf graf--p graf-after--pre">in the second terminal.</p><p name="c11b" id="c11b" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">(6) Use Ncat to Execute Command</strong></p><p name="dc82" id="dc82" class="graf graf--p graf-after--p">In the first terminal, let’s write,</p><pre name="fcff" id="fcff" class="graf graf--pre graf-after--p">$ ncat -l --sh-exec &quot;echo Successfully Connected&quot; 11211</pre><p name="e75c" id="e75c" class="graf graf--p graf-after--pre">In the second terminal, let’s write,</p><pre name="ce50" id="ce50" class="graf graf--pre graf-after--p">$ ncat localhost 11211</pre><p name="3023" id="3023" class="graf graf--p graf-after--pre"><strong class="markup--strong markup--p-strong">(7) Use Ncat to Transfer File</strong></p><p name="b4fc" id="b4fc" class="graf graf--p graf-after--p">Host #1:</p><pre name="6c79" id="6c79" class="graf graf--pre graf-after--p">$ ncat -l 11211 &gt; outputfile</pre><p name="73c5" id="73c5" class="graf graf--p graf-after--pre">Host #2:</p><pre name="b707" id="b707" class="graf graf--pre graf-after--p">$ echo Hello &gt; inputfile<br>$ ncat --send-only localhost 11211 &lt; inputfile</pre><p name="8b69" id="8b69" class="graf graf--p graf-after--pre">Check the result: in host #1,</p><pre name="b495" id="b495" class="graf graf--pre graf-after--p">$ cat outputfile</pre><p name="94b3" id="94b3" class="graf graf--p graf-after--pre"><strong class="markup--strong markup--p-strong">(8) Different Internet Concepts in a Nutshell</strong></p><figure name="8f9e" id="8f9e" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*tTdD-OcdDsIP4domM8812A.png" data-width="1520" data-height="644" src="https://cdn-images-1.medium.com/max/800/1*tTdD-OcdDsIP4domM8812A.png"></figure><p name="2602" id="2602" class="graf graf--p graf-after--figure"><strong class="markup--strong markup--p-strong">(9) Build a Silly Chatter with Socket</strong></p><p name="351c" id="351c" class="graf graf--p graf-after--p">Now, we are going to use python to build a silly chatter. This is really silly because this server can not understand what you mean. No matter what you reply to this server, it will reply ‘What?’ to you. Our python code for the server is,</p><figure name="2103" id="2103" class="graf graf--figure graf--iframe graf-after--p"><script src="https://gist.github.com/Sadamingh/e5005150067785b38f8f9d18f787b159.js"></script></figure><p name="f85c" id="f85c" class="graf graf--p graf-after--figure">To set the server up, in the first terminal, we run,</p><pre name="c970" id="c970" class="graf graf--pre graf-after--p">$ python server.py</pre><p name="5489" id="5489" class="graf graf--p graf-after--pre">Then it will give us the IP address for connection,</p><pre name="d5e4" id="d5e4" class="graf graf--pre graf-after--p">server listening at &lt;ip address&gt;:8000</pre><p name="b58c" id="b58c" class="graf graf--p graf-after--pre">To connect to the server, in the second terminal window, we can use either telnet or netcat,</p><pre name="4ee8" id="4ee8" class="graf graf--pre graf-after--p">$ telnet &lt;ip address&gt; 8000</pre><p name="438f" id="438f" class="graf graf--p graf-after--pre">or,</p><pre name="df61" id="df61" class="graf graf--pre graf-after--p">$ nc &lt;ip address&gt; 8000</pre><p name="bed4" id="bed4" class="graf graf--p graf-after--pre">At any time, we can quit the connection and close the server by pressing q,</p><pre name="8d71" id="8d71" class="graf graf--pre graf-after--p">q</pre><p name="8417" id="8417" class="graf graf--p graf-after--pre"><strong class="markup--strong markup--p-strong">3. Ports</strong></p><p name="dfeb" id="dfeb" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">(1) Common Ports to Remember</strong></p><ul class="postList"><li name="2694" id="2694" class="graf graf--li graf-after--p">80: HTTP (web)</li><li name="2cce" id="2cce" class="graf graf--li graf-after--li">443: HTTPS (web)</li><li name="1358" id="1358" class="graf graf--li graf-after--li">110: POP (mail)</li><li name="a8c0" id="a8c0" class="graf graf--li graf-after--li">25: SMTP (mail)</li><li name="75b8" id="75b8" class="graf graf--li graf-after--li">22: SSH (remote shell connections)</li></ul><p name="3b6c" id="3b6c" class="graf graf--p graf-after--li">Looking for more ports? See a reference <a href="https://packetlife.net/media/library/23/common-ports.pdf" data-href="https://packetlife.net/media/library/23/common-ports.pdf" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">here</a>!</p><p name="233a" id="233a" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">(2) Use telnet to Send HTTP Requests</strong></p><p name="c077" id="c077" class="graf graf--p graf-after--p">Before we use telnet, we have to install it,</p><pre name="1887" id="1887" class="graf graf--pre graf-after--p">$ brew install telnet</pre><p name="6493" id="6493" class="graf graf--p graf-after--pre">then, we can run the telnet to connect to the 80 port of the <code class="markup--code markup--p-code">openpayments.com</code>, (because it is using the HTTP protocol)</p><pre name="fa00" id="fa00" class="graf graf--pre graf-after--p">$ <code class="markup--code markup--pre-code u-paddingRight0 u-marginRight0">telnet www.openpayments.us 80<br>GET / HTTP/1.1<br>Host: <a href="http://www.openpayments.us" data-href="http://www.openpayments.us" class="markup--anchor markup--pre-anchor" rel="noopener" target="_blank">www.openpayments.us</a><br><br></code></pre><p name="5846" id="5846" class="graf graf--p graf-after--pre">then the whole page of the page <code class="markup--code markup--p-code">openpayments.com</code> will be sent to us.</p><p name="0522" id="0522" class="graf graf--p graf-after--p">Suppose we want to connect to the <code class="markup--code markup--p-code">stackoverflow.com</code></p><pre name="519e" id="519e" class="graf graf--pre graf-after--p">$ <code class="markup--code markup--pre-code">telnet stackoverflow.com 80<br>GET / HTTP/1.1<br>Host: stackoverflow.com<br><br></code></pre><p name="b294" id="b294" class="graf graf--p graf-after--pre">If wee use this one, it will send us an error of 300 Moved Permanently,</p><pre name="3a41" id="3a41" class="graf graf--pre graf-after--p">HTTP/1.1 301 Moved Permanently</pre><p name="f992" id="f992" class="graf graf--p graf-after--pre">This is because the <code class="markup--code markup--p-code">stackoverflow.com</code> no longer uses the HTTP protocol and we are going to be redirected. But how about we try this one?</p><pre name="b4f5" id="b4f5" class="graf graf--pre graf-after--p">$ <code class="markup--code markup--pre-code">telnet stackoverflow.com 80<br>GET / HTTPS/1.1<br>Host: stackoverflow.com<br><br></code></pre><p name="ed86" id="ed86" class="graf graf--p graf-after--pre">Actually, this will also send us an error, which is the 400 Bad Request. This is because the telnet can not use the HTTPS protocol,</p><pre name="b1ef" id="b1ef" class="graf graf--pre graf-after--p">HTTP/1.1 400 Bad Request</pre><p name="cf0d" id="cf0d" class="graf graf--p graf-after--pre"><strong class="markup--strong markup--p-strong">(3) Use Openssl to Send HTTPS Requests</strong></p><p name="8744" id="8744" class="graf graf--p graf-after--p">If we want to connect with HTTPS protocol, we have to use the openssl command. For example, suppose we want to connect to the <code class="markup--code markup--p-code">stackoverflow.com</code></p><pre name="6b4f" id="6b4f" class="graf graf--pre graf-after--p">$ openssl s_client -connect stackoverflow.com:443</pre><p name="24ae" id="24ae" class="graf graf--p graf-after--pre">Note that the port for HTTPS connection is 443. Then we are going to see something like this,</p><pre name="c444" id="c444" class="graf graf--pre graf-after--p">---<br>Server certificate<br>-----BEGIN CERTIFICATE-----<br>MIIHJTCCBg2gAwIBAgISA/c80WOrBS1B0YKU1WnbOIwuMA0GCSqGSIb3DQEBCwUA<br>MEoxCzAJBgNVBAYTAlVTMRYwFAYDVQQKEw1MZXQncyBFbmNyeXB0MSMwIQYDVQQD<br>ExpMZXQncyBFbmNyeXB0IEF1dGhvcml0eSBYMzAeFw0yMDEwMDUxMzAyNDRaFw0y<br>MTAxMDMxMzAyNDRaMB4xHDAaBgNVBAMMEyouc3RhY2tleGNoYW5nZS5jb20wggEi<br>MA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDgvEf4788HVB81wIAnFbY556Qb<br>7BOB5IhjozLwLS9OsOAn2Dmr+P/456nysCXQAFw/Y98R+INfjTScScZa+WfKM9tk<br>TSLrrHuPyFQ0IEwpy59+cdnPoJQWrAu6Y0RGRv27yOOVRyeAqge2pArDiYqrc0sE<br>...</pre><p name="4b4e" id="4b4e" class="graf graf--p graf-after--pre">This is the RSA certificate of the server that is used to prove the information is reliable. Then we type in,</p><pre name="0932" id="0932" class="graf graf--pre graf-after--p">GET / HTTP/1.1<br>Host: stackoverflow.com<br><br></pre><p name="4a55" id="4a55" class="graf graf--p graf-after--pre">This is going to give us the webpage code for the <code class="markup--code markup--p-code">stackoverflow.com</code> page.</p><p name="b923" id="b923" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">(4) Use Python to Get a Web Page</strong></p><p name="f6b8" id="f6b8" class="graf graf--p graf-after--p">Recall what we have used for Beautifulsoup,</p><pre name="388a" id="388a" class="graf graf--pre graf-after--p">import requests<br>cnn = requests.get(&#39;http://www.cnn.com&#39;)<br>print(cnn.text)</pre><p name="5ac9" id="5ac9" class="graf graf--p graf-after--pre"><strong class="markup--strong markup--p-strong">(5) Use curl and get to Get a Web Page</strong></p><p name="e211" id="e211" class="graf graf--p graf-after--p">Similarly, we can download a webpage by,</p><pre name="e8ff" id="e8ff" class="graf graf--pre graf-after--p">$ curl https://www.cnn.com &gt; cnn.html</pre><p name="d319" id="d319" class="graf graf--p graf-after--pre">or,</p><pre name="cb13" id="cb13" class="graf graf--pre graf-after--p">$ wget -O cnn.html https://www.cnn.com</pre><p name="6ca9" id="6ca9" class="graf graf--p graf-after--pre"><strong class="markup--strong markup--p-strong">(6) Common HTTP Status Codes</strong></p><p name="43f1" id="43f1" class="graf graf--p graf-after--p">In the previous discussion, we have encountered different HTTP status codes (i.e. 400, 301, 200). Here’s a meme for us to understand the common HTTP status codes,</p><figure name="203a" id="203a" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*JQa_2fiFIL23s5KkkFjeXw.png" data-width="1520" data-height="826" src="https://cdn-images-1.medium.com/max/800/1*JQa_2fiFIL23s5KkkFjeXw.png"><figcaption class="imageCaption"><a href="https://www.monkeyuser.com/2017/http-status-codes/" data-href="https://www.monkeyuser.com/2017/http-status-codes/" class="markup--anchor markup--figure-anchor" rel="nofollow noopener" target="_blank">https://www.monkeyuser.com/2017/http-status-codes/</a></figcaption></figure><p name="62db" id="62db" class="graf graf--p graf-after--figure"><strong class="markup--strong markup--p-strong">4. Python Based Websites with Flask</strong></p><p name="a95e" id="a95e" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">(1) What’s the Flask?</strong></p><p name="ac94" id="ac94" class="graf graf--p graf-after--p">Flask provides <em class="markup--em markup--p-em">annotations</em> that map URL paths to Python function. Every URL for which you want the server to respond requires an annotation/function combination.</p><p name="a82e" id="a82e" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">(2) A Stater with Hello World</strong></p><p name="770b" id="770b" class="graf graf--p graf-after--p">Here is the easiest instance of the flask.</p><figure name="0862" id="0862" class="graf graf--figure graf--iframe graf-after--p"><script src="https://gist.github.com/Sadamingh/d2bb865792d6aba394c9d4625a95c852.js"></script></figure><p name="2303" id="2303" class="graf graf--p graf-after--figure">Note that we can’t name the file by flask.py because there will be a conflicting problem with the package we import. To set the server up, we can use,</p><pre name="9ab0" id="9ab0" class="graf graf--pre graf-after--p">$ python flaskpage.py</pre><p name="917d" id="917d" class="graf graf--p graf-after--pre">Then we can go to <a href="http://127.0.0.1:5000/" data-href="http://127.0.0.1:5000/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">http://127.0.0.1:5000/</a> and see the page of Hello World.</p><p name="5603" id="5603" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">(3) HTML for Flask</strong></p><p name="b091" id="b091" class="graf graf--p graf-after--p">We can also add Html code to the python script. For example,</p><figure name="963a" id="963a" class="graf graf--figure graf--iframe graf-after--p"><script src="https://gist.github.com/Sadamingh/380ec4bb1e777fd7542ce975ae7a4b4b.js"></script></figure><pre name="c69f" id="c69f" class="graf graf--pre graf-after--figure">$ python flaskpage.py</pre><p name="35bb" id="35bb" class="graf graf--p graf-after--pre">Then we can go to</p><pre name="1608" id="1608" class="graf graf--pre graf-after--p"><a href="http://127.0.0.1:5000/index" data-href="http://127.0.0.1:5000/index" class="markup--anchor markup--pre-anchor" rel="nofollow noopener" target="_blank">http://127.0.0.1:5000/index</a></pre><p name="08e3" id="08e3" class="graf graf--p graf-after--pre"><strong class="markup--strong markup--p-strong">(4) Use Part of URL as the Parameter</strong></p><figure name="157f" id="157f" class="graf graf--figure graf--iframe graf-after--p"><script src="https://gist.github.com/Sadamingh/d8de28e83df6a96020eabe863047cd18.js"></script></figure><pre name="a9f9" id="a9f9" class="graf graf--pre graf-after--figure">$ python flaskpage.py</pre><p name="a01c" id="a01c" class="graf graf--p graf-after--pre">Then we can go to</p><pre name="b90b" id="b90b" class="graf graf--pre graf-after--p"><a href="http://127.0.0.1:5000/index" data-href="http://127.0.0.1:5000/index" class="markup--anchor markup--pre-anchor" rel="nofollow noopener noopener" target="_blank">http://127.0.0.1:5000/index</a></pre><p name="55da" id="55da" class="graf graf--p graf-after--pre">to check the usage of the parameter.</p><p name="4622" id="4622" class="graf graf--p graf-after--p">We can also use,</p><pre name="ab0a" id="ab0a" class="graf graf--pre graf-after--p"><a href="http://127.0.0.1:5000/index/Adam" data-href="http://127.0.0.1:5000/index/Adam" class="markup--anchor markup--pre-anchor" rel="nofollow noopener" target="_blank">http://127.0.0.1:5000/index/Adam</a></pre><p name="73f5" id="73f5" class="graf graf--p graf-after--pre">to check the other names.</p><p name="768d" id="768d" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">(5) Return by Argument</strong></p><figure name="4c15" id="4c15" class="graf graf--figure graf--iframe graf-after--p"><script src="https://gist.github.com/Sadamingh/e1652ca9bd491c07ba4386b533b6386a.js"></script></figure><pre name="0dd1" id="0dd1" class="graf graf--pre graf-after--figure">$ python flaskpage.py</pre><p name="a555" id="a555" class="graf graf--p graf-after--pre">Then we can go to</p><pre name="5e96" id="5e96" class="graf graf--pre graf-after--p"><a href="http://127.0.0.1:5000/index" data-href="http://127.0.0.1:5000/index" class="markup--anchor markup--pre-anchor" rel="nofollow noopener noopener noopener" target="_blank">http://127.0.0.1:5000/index</a></pre><p name="e5c3" id="e5c3" class="graf graf--p graf-after--pre">to check the usage of the parameter.</p><p name="54f4" id="54f4" class="graf graf--p graf-after--p">We can also use,</p><pre name="9940" id="9940" class="graf graf--pre graf-after--p"><a href="http://127.0.0.1:5000/data?format=idontknow" data-href="http://127.0.0.1:5000/data?format=idontknow" class="markup--anchor markup--pre-anchor" rel="noopener" target="_blank">http://127.0.0.1:5000/data?format=idontknow</a></pre><p name="8d8f" id="8d8f" class="graf graf--p graf-after--pre">to check the data.</p><p name="9168" id="9168" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">7. AWS and Remote Communication</strong></p><p name="e63b" id="e63b" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">(1) Launch AWS Instance</strong></p><p name="7a71" id="7a71" class="graf graf--p graf-after--p">Firstly, let’s go to the AWS console and select EC2,</p><figure name="30e4" id="30e4" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*m1UOgkks_HwpONmY9c6AkQ.png" data-width="1588" data-height="1040" src="https://cdn-images-1.medium.com/max/800/1*m1UOgkks_HwpONmY9c6AkQ.png"></figure><p name="347e" id="347e" class="graf graf--p graf-after--figure">Then choose Launch instance,</p><figure name="ea2d" id="ea2d" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*-NV1_0WQSD5Ez9GXxyvHMw.png" data-width="1692" data-height="440" src="https://cdn-images-1.medium.com/max/800/1*-NV1_0WQSD5Ez9GXxyvHMw.png"></figure><p name="b891" id="b891" class="graf graf--p graf-after--figure">Find the Amazon Linux and click on Select,</p><figure name="5b9b" id="5b9b" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*27cQiyQINs2mDvQYiQblrg.png" data-width="2302" data-height="1002" src="https://cdn-images-1.medium.com/max/800/1*27cQiyQINs2mDvQYiQblrg.png"></figure><p name="440f" id="440f" class="graf graf--p graf-after--figure">Make sure you are choosing the free version, and then click on Review and Launch &gt; Launch,</p><figure name="5810" id="5810" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*8hI7W50hDJl9p6kmNBUJFQ.png" data-width="2780" data-height="1038" src="https://cdn-images-1.medium.com/max/800/1*8hI7W50hDJl9p6kmNBUJFQ.png"></figure><p name="ee5b" id="ee5b" class="graf graf--p graf-after--figure">Then in the popped-up window, select create a new key pair and enter the key pair name as ‘privatekey’. Click on the Download Key Pair Button and then download the certificate file privatekey.pem to our computer. Finally, click on the launch instances to launch our EC2 server.</p><figure name="4ade" id="4ade" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*LEaujkL7bVjaZR0AcZL2wg.png" data-width="2126" data-height="1082" src="https://cdn-images-1.medium.com/max/800/1*LEaujkL7bVjaZR0AcZL2wg.png"></figure><p name="c362" id="c362" class="graf graf--p graf-after--figure">Then we click on the View Instance button to see the configuration of the EC2 Server and then click on the instance id,</p><figure name="60eb" id="60eb" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*6LZIbNjdt2QiPQR_UAhDBQ.png" data-width="2148" data-height="810" src="https://cdn-images-1.medium.com/max/800/1*6LZIbNjdt2QiPQR_UAhDBQ.png"></figure><p name="f03d" id="f03d" class="graf graf--p graf-after--figure">In the instance information view, click on the connect button and then choose SSH client,</p><figure name="8494" id="8494" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*TgFSHLrXhR9zfNY1IK6nGA.png" data-width="1628" data-height="1174" src="https://cdn-images-1.medium.com/max/800/1*TgFSHLrXhR9zfNY1IK6nGA.png"></figure><p name="6a22" id="6a22" class="graf graf--p graf-after--figure">Then let’s go to the path that we saved our privatekey and change the mode of the .pem file to 400,</p><pre name="2ff5" id="2ff5" class="graf graf--pre graf-after--p">$ chmod 400 privatekey.pem</pre><p name="2bec" id="2bec" class="graf graf--p graf-after--pre">then we use the ssh command to connect to our remote host,</p><pre name="b1d9" id="b1d9" class="graf graf--pre graf-after--p">$ ssh -i &quot;privatekey.pem&quot; ec2-user@ec2-52-90-222-139.compute-1.amazonaws.com</pre><p name="3b7b" id="3b7b" class="graf graf--p graf-after--pre">Note that this can be different on your computer and you have to change this command based on the Connection to Instance page you got.</p><p name="c460" id="c460" class="graf graf--p graf-after--p">Then it is going to ask you whether or not to connect, please type in</p><pre name="fcb0" id="fcb0" class="graf graf--pre graf-after--p">yes</pre><p name="fdc8" id="fdc8" class="graf graf--p graf-after--pre">and then we are successfully connected to our remote host device if you can see something like,</p><pre name="390e" id="390e" class="graf graf--pre graf-after--p">[ec2-user@ip-172-31-30-231 ~]$</pre><p name="a661" id="a661" class="graf graf--p graf-after--pre"><strong class="markup--strong markup--p-strong">(2) Firewall and Remote Communication</strong></p><p name="05f8" id="05f8" class="graf graf--p graf-after--p">Remember what we have to do to set up communication on the localhost. We used the nc command and we listen a specific port on our localhost. Then we used another terminal as a client and then connected to the server with nc command and the IP address.</p><p name="78d0" id="78d0" class="graf graf--p graf-after--p">But actually, we are actually communicating on the same device in the previous experiment of communication. Now, we would like to do the same thing on two different devices thanks to the help of AWS.</p><p name="5eb5" id="5eb5" class="graf graf--p graf-after--p">After we launched the instance and use an SSH to connect, we are then going to quit the SSH connection and start to configure a little bit on the firewall in order to make other PCs connect. Let’s go to the instance page of the AWS console, and click on the Security tag.</p><figure name="b518" id="b518" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*EVsM-lMY7SYwS5wg3mYUxA.png" data-width="1450" data-height="930" src="https://cdn-images-1.medium.com/max/800/1*EVsM-lMY7SYwS5wg3mYUxA.png"></figure><p name="1336" id="1336" class="graf graf--p graf-after--figure">Here we can find that only port 22 is open for connection. Because we want to send messages by TCP on port 11211, so we have to open this port. We click on the Security groups and then choose edit inbound rules,</p><figure name="1c2d" id="1c2d" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*yogrOqmX6Q2ahT6LWmYygw.png" data-width="2208" data-height="1080" src="https://cdn-images-1.medium.com/max/800/1*yogrOqmX6Q2ahT6LWmYygw.png"></figure><p name="eb5a" id="eb5a" class="graf graf--p graf-after--figure">Click on Add rule and add a new inbound rule like the following image. After that, we click on the Save rules button to save all the stuff.</p><figure name="145a" id="145a" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*9crWKL7c3yITPov76eHBAQ.png" data-width="2608" data-height="1298" src="https://cdn-images-1.medium.com/max/800/1*9crWKL7c3yITPov76eHBAQ.png"></figure><p name="4673" id="4673" class="graf graf--p graf-after--figure">Then we redo the ssh connection part and connect to our remote host. In this host, we should install netcat by yum,</p><pre name="1956" id="1956" class="graf graf--pre graf-after--p">[ec2-user@ip-172-31-30-231 ~]$ sudo yum install -y nc</pre><p name="bdb6" id="bdb6" class="graf graf--p graf-after--pre">then we make this host listen to the port 11211,</p><pre name="f617" id="f617" class="graf graf--pre graf-after--p">[ec2-user@ip-172-31-30-231 ~]$ nc -l 11211</pre><p name="36aa" id="36aa" class="graf graf--p graf-after--pre">In our localhost, we can connect our AWS server by its public IP address, which can be found on the page of instance or the page of connection. Then we write in the local terminal,</p><pre name="6201" id="6201" class="graf graf--pre graf-after--p">$ nc &lt;public ip&gt; 11211</pre><p name="e005" id="e005" class="graf graf--p graf-after--pre graf--trailing">Congratulations! Now we can communicate with the remote host. Always keep it in mind that you must terminate the AWS serves after you use it or it will cost you a lot.</p></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@adamedelweiss" class="p-author h-card">Adam Edelweiss</a> on <a href="https://medium.com/p/12f0bc5c7586"><time class="dt-published" datetime="2020-11-12T14:09:03.918Z">November 12, 2020</time></a>.</p><p><a href="https://medium.com/@adamedelweiss/data-acquisition-6-an-introduction-to-the-computer-network-12f0bc5c7586" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on December 15, 2021.</p></footer></article></body></html>