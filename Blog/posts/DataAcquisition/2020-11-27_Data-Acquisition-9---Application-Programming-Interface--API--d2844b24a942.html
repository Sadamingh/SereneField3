<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>Data Acquisition 9 | Application Programming Interface (API)</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">Data Acquisition 9 | Application Programming Interface (API)</h1>
</header>
<section data-field="subtitle" class="p-summary">
Series: Data Acquisition
</section>
<section data-field="body" class="e-content">
<section name="f1fe" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="ad09" id="ad09" class="graf graf--h3 graf--leading graf--title">Data Acquisition 9 | Application Programming Interface (API)</h3><figure name="f2bb" id="f2bb" class="graf graf--figure graf-after--h3"><img class="graf-image" data-image-id="1*mp_1pEkH2aF8NocXC8jlBQ.png" data-width="1712" data-height="874" data-is-featured="true" src="https://cdn-images-1.medium.com/max/800/1*mp_1pEkH2aF8NocXC8jlBQ.png"></figure><ol class="postList"><li name="6108" id="6108" class="graf graf--li graf-after--figure"><strong class="markup--strong markup--li-strong">REST API</strong></li></ol><p name="3463" id="3463" class="graf graf--p graf-after--li">The API is a computer interface that we can transfer data through different software. The REST API is a series of rules about API that makes the API easy to understand by its URL, method, and response. A simple way to understand REST is that REST is for giving data instead of the HTML web page.</p><p name="34f8" id="34f8" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">2. The Dog API</strong></p><p name="edd4" id="edd4" class="graf graf--p graf-after--p">The dog API is a free API that we can use to understand APIs. First of all, let’s go to the page,</p><pre name="9daf" id="9daf" class="graf graf--pre graf-after--p"><a href="https://api.thedogapi.com/v1/images/search" data-href="https://api.thedogapi.com/v1/images/search" class="markup--anchor markup--pre-anchor" rel="nofollow noopener noopener" target="_blank">https://api.thedogapi.com/v1/images/search</a></pre><p name="464b" id="464b" class="graf graf--p graf-after--pre">Then, it will randomly send back a record of the dog’s image data to us,</p><pre name="f87e" id="f87e" class="graf graf--pre graf-after--p">[{&quot;breeds&quot;:[],&quot;id&quot;:&quot;IYnbVDoBJ&quot;,&quot;url&quot;:&quot;https://cdn2.thedogapi.com/images/IYnbVDoBJ.jpg&quot;,&quot;width&quot;:1080,&quot;height&quot;:1350}]</pre><p name="0f85" id="0f85" class="graf graf--p graf-after--pre">If we go to the URL of this record, then we are going to have a dog’s image! For example,</p><figure name="c8d7" id="c8d7" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*1ie49QqZYz5XMxjXfqn-ZQ.png" data-width="1712" data-height="658" src="https://cdn-images-1.medium.com/max/800/1*1ie49QqZYz5XMxjXfqn-ZQ.png"><figcaption class="imageCaption"><a href="https://cdn2.thedogapi.com/images/IYnbVDoBJ.jpg" data-href="https://cdn2.thedogapi.com/images/IYnbVDoBJ.jpg" class="markup--anchor markup--figure-anchor" rel="nofollow noopener" target="_blank">https://cdn2.thedogapi.com/images/IYnbVDoBJ.jpg</a></figcaption></figure><p name="bf17" id="bf17" class="graf graf--p graf-after--figure">Because every time we send a request to this API, we will have a dog image. Then we can write a python code to get this image for us</p><figure name="5c7d" id="5c7d" class="graf graf--figure graf--iframe graf-after--p"><script src="https://gist.github.com/Sadamingh/8c8f9b2782c2cc8ef98b1ff039e423f2.js"></script></figure><figure name="9f31" id="9f31" class="graf graf--figure graf-after--figure"><img class="graf-image" data-image-id="1*9VtR4bfG_pQr_9PU-l9GEQ.png" data-width="1002" data-height="398" src="https://cdn-images-1.medium.com/max/800/1*9VtR4bfG_pQr_9PU-l9GEQ.png"></figure><p name="2428" id="2428" class="graf graf--p graf-after--figure">Also, we can grab 10 (or more) dog images at a time from this API.</p><figure name="8f91" id="8f91" class="graf graf--figure graf--iframe graf-after--p"><script src="https://gist.github.com/Sadamingh/5466e4d61143d638eed384d102d7c6ca.js"></script></figure><figure name="a7b6" id="a7b6" class="graf graf--figure graf-after--figure"><img class="graf-image" data-image-id="1*lUzMlL4Kqa9DsCy5YtW4pg.png" data-width="1630" data-height="1038" src="https://cdn-images-1.medium.com/max/800/1*lUzMlL4Kqa9DsCy5YtW4pg.png"></figure><p name="8d0f" id="8d0f" class="graf graf--p graf-after--figure">Suppose now we want to get 10 different pictures of the Akbash Dog and we know that the id of this dog is 5. Then, the following URL will search only the Akbash Dog for us,</p><pre name="9bf3" id="9bf3" class="graf graf--pre graf-after--p"><a href="https://api.thedogapi.com/v1/images/search?breed_ids=5" data-href="https://api.thedogapi.com/v1/images/search?breed_ids=5" class="markup--anchor markup--pre-anchor" rel="nofollow noopener" target="_blank">https://api.thedogapi.com/v1/images/search?breed_ids=5</a></pre><p name="609f" id="609f" class="graf graf--p graf-after--pre">Thus, the python code is,</p><figure name="e07a" id="e07a" class="graf graf--figure graf--iframe graf-after--p"><script src="https://gist.github.com/Sadamingh/f767e6df4819a20363b8ff6522807c3b.js"></script></figure><figure name="2173" id="2173" class="graf graf--figure graf-after--figure"><img class="graf-image" data-image-id="1*7XS7DhjtHJ8T-0WK2KRlKw.png" data-width="1630" data-height="714" src="https://cdn-images-1.medium.com/max/800/1*7XS7DhjtHJ8T-0WK2KRlKw.png"></figure><p name="343e" id="343e" class="graf graf--p graf-after--figure">The following URL is going to give us the breeding information of the Akbash Dog (note that %20 means space),</p><pre name="d954" id="d954" class="graf graf--pre graf-after--p"><a href="https://api.thedogapi.com/v1/breeds/search?name=Akbash%20Dog" data-href="https://api.thedogapi.com/v1/breeds/search?name=Akbash%20Dog" class="markup--anchor markup--pre-anchor" rel="nofollow noopener" target="_blank">https://api.thedogapi.com/v1/breeds/search?name=Akbash%20Dog</a></pre><p name="f28b" id="f28b" class="graf graf--p graf-after--pre">The information should be,</p><pre name="658d" id="658d" class="graf graf--pre graf-after--p">[{&quot;weight&quot;:{&quot;imperial&quot;:&quot;90 - 120&quot;,&quot;metric&quot;:&quot;41 - 54&quot;},&quot;height&quot;:{&quot;imperial&quot;:&quot;28 - 34&quot;,&quot;metric&quot;:&quot;71 - 86&quot;},&quot;id&quot;:5,&quot;name&quot;:&quot;Akbash Dog&quot;,&quot;bred_for&quot;:&quot;Sheep guarding&quot;,&quot;breed_group&quot;:&quot;Working&quot;,&quot;life_span&quot;:&quot;10 - 12 years&quot;,&quot;temperament&quot;:&quot;Loyal, Independent, Intelligent, Brave&quot;,&quot;origin&quot;:&quot;&quot;}]</pre><p name="9bbb" id="9bbb" class="graf graf--p graf-after--pre">We can also use a python script to grab this information,</p><figure name="de04" id="de04" class="graf graf--figure graf--iframe graf-after--p"><script src="https://gist.github.com/Sadamingh/077f43c91ae64755d7c084570bc521a2.js"></script></figure><p name="4766" id="4766" class="graf graf--p graf-after--figure">Note that the <code class="markup--code markup--p-code">from requests.utils import quote</code> module is used to convert <code class="markup--code markup--p-code">Akbash Dog</code> to <code class="markup--code markup--p-code">Akbash%20Dog</code>.</p><p name="2fd6" id="2fd6" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">3. The Youtube API</strong></p><p name="c3ab" id="c3ab" class="graf graf--p graf-after--p">The Youtube API is an interface that we can pull data from Youtube in a quick way.</p><ul class="postList"><li name="f42a" id="f42a" class="graf graf--li graf-after--p">First of all, we have to <a href="https://www.google.com/accounts" data-href="https://www.google.com/accounts" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">create a google account</a> (Skip this step if you have one).</li><li name="c556" id="c556" class="graf graf--li graf-after--li">Secondly, we go to <a href="https://console.developers.google.com/" data-href="https://console.developers.google.com/" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">Google’s API console</a>. From the console, let’s create a new project with any name you want,</li></ul><figure name="b707" id="b707" class="graf graf--figure graf-after--li"><img class="graf-image" data-image-id="1*9MjCryt9CN2zozYhayc-bg.png" data-width="1588" data-height="522" src="https://cdn-images-1.medium.com/max/800/1*9MjCryt9CN2zozYhayc-bg.png"></figure><ul class="postList"><li name="3a29" id="3a29" class="graf graf--li graf-after--figure">Thirdly, from the API Library of Google,</li></ul><figure name="d586" id="d586" class="graf graf--figure graf-after--li"><img class="graf-image" data-image-id="1*cacwbwLa653VyTneeDYYzw.png" data-width="2624" data-height="1240" src="https://cdn-images-1.medium.com/max/800/1*cacwbwLa653VyTneeDYYzw.png"></figure><p name="6cc2" id="6cc2" class="graf graf--p graf-after--figure">Let’s search for,</p><pre name="be1f" id="be1f" class="graf graf--pre graf-after--p">YouTube Data API v3</pre><figure name="9342" id="9342" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*-5_qZMekSoRLX_wSRGaXYg.png" data-width="2624" data-height="534" src="https://cdn-images-1.medium.com/max/800/1*-5_qZMekSoRLX_wSRGaXYg.png"></figure><p name="8a62" id="8a62" class="graf graf--p graf-after--figure">Then enable this API for our project.</p><ul class="postList"><li name="8418" id="8418" class="graf graf--li graf-after--p">Fourthly, from the dashboard page of the project, select Credentials, and then choose the CREATE CREDENTIALS. Then select the API key tag to create a new API key.</li></ul><figure name="d9a8" id="d9a8" class="graf graf--figure graf-after--li"><img class="graf-image" data-image-id="1*-YKf__BBeccQmGkjOh6Fmw.png" data-width="1870" data-height="604" src="https://cdn-images-1.medium.com/max/800/1*-YKf__BBeccQmGkjOh6Fmw.png"></figure><figure name="94e4" id="94e4" class="graf graf--figure graf-after--figure"><img class="graf-image" data-image-id="1*O97eske8HUuWXKepTl-JPQ.png" data-width="1566" data-height="650" src="https://cdn-images-1.medium.com/max/800/1*O97eske8HUuWXKepTl-JPQ.png"></figure><p name="84c2" id="84c2" class="graf graf--p graf-after--figure">Then we copy this API key and store it in our python script.</p><pre name="477d" id="477d" class="graf graf--pre graf-after--p">key = &#39;.............&#39;</pre><p name="1ee8" id="1ee8" class="graf graf--p graf-after--pre">Note that you should never store your API key in your code because it can be <a href="https://www.zdnet.com/article/over-100000-github-repos-have-leaked-api-or-cryptographic-keys/" data-href="https://www.zdnet.com/article/over-100000-github-repos-have-leaked-api-or-cryptographic-keys/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">leaked</a> and troubles you.</p><ul class="postList"><li name="8dd8" id="8dd8" class="graf graf--li graf-after--p">Fifthly, refer to the <a href="https://developers.google.com/youtube/v3/" data-href="https://developers.google.com/youtube/v3/" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">API documentation</a> of Youtube to familiarize yourself with the basic settings of the Youtube API.</li></ul><pre name="1210" id="1210" class="graf graf--pre graf-after--li">! pip install --ignore-installed --upgrade google-api-python-client</pre><ul class="postList"><li name="edad" id="edad" class="graf graf--li graf-after--pre">Finally, use the following script to get a list of search results of the keyword ‘cats’.</li></ul><figure name="16c0" id="16c0" class="graf graf--figure graf--iframe graf-after--li"><script src="https://gist.github.com/Sadamingh/4e51ca1ce746fbe41e2f2b7b78e11e3e.js"></script></figure><p name="076f" id="076f" class="graf graf--p graf-after--figure">Remember to replace the variable key with your API key. Run the script above, we are going to have a list of searching results (with 20 records). For example,</p><figure name="ff69" id="ff69" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*DZlhYurBMlUREJYboexOBw.png" data-width="1476" data-height="434" src="https://cdn-images-1.medium.com/max/800/1*DZlhYurBMlUREJYboexOBw.png"></figure><p name="ea81" id="ea81" class="graf graf--p graf-after--figure">Also, we can use the following script to pull the comments of a video given its videoId (i.e. we use the videoId gU_gYzwTbYQ).</p><figure name="0a6c" id="0a6c" class="graf graf--figure graf--iframe graf-after--p"><script src="https://gist.github.com/Sadamingh/3c0f64788bbd237e89b42ec99d5ff2af.js"></script></figure><p name="28a1" id="28a1" class="graf graf--p graf-after--figure">The output should be,</p><figure name="3431" id="3431" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*R8uhQiB0RXFMKOiBa8d74A.png" data-width="1476" data-height="264" src="https://cdn-images-1.medium.com/max/800/1*R8uhQiB0RXFMKOiBa8d74A.png"></figure><p name="ec20" id="ec20" class="graf graf--p graf-after--figure">We can use the following script to get a bunch of videos and their comments.</p><figure name="ff55" id="ff55" class="graf graf--figure graf--iframe graf-after--p"><script src="https://gist.github.com/Sadamingh/c0fd388c4965ea44610d81ff953d3262.js"></script></figure><p name="7767" id="7767" class="graf graf--p graf-after--figure">The output should be,</p><figure name="2b6e" id="2b6e" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*XyW9PXNFi09Flzo51-qghQ.png" data-width="1574" data-height="1216" src="https://cdn-images-1.medium.com/max/800/1*XyW9PXNFi09Flzo51-qghQ.png"></figure><p name="5f18" id="5f18" class="graf graf--p graf-after--figure"><strong class="markup--strong markup--p-strong">4. The Tweeter API</strong></p><ul class="postList"><li name="92d5" id="92d5" class="graf graf--li graf-after--p">First of all, let’s create a new tweeter account (if you have one, feel free to use your account). Then tweet some posts to your timeline.</li></ul><figure name="ab85" id="ab85" class="graf graf--figure graf-after--li"><img class="graf-image" data-image-id="1*VGlhVAu0IQp8oLIWnPVKTQ.png" data-width="1324" data-height="656" src="https://cdn-images-1.medium.com/max/800/1*VGlhVAu0IQp8oLIWnPVKTQ.png"></figure><ul class="postList"><li name="d573" id="d573" class="graf graf--li graf-after--figure">Secondly, go to the <a href="https://developer.twitter.com/en" data-href="https://developer.twitter.com/en" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">developer page</a> of the tweeter. Click on “Create New App” and then click on that new app when it appears. Then click on the “Keys and tokens” button.</li></ul><figure name="9437" id="9437" class="graf graf--figure graf-after--li"><img class="graf-image" data-image-id="1*TREgHJysNg5vreLUKqMR6w.png" data-width="2768" data-height="1436" src="https://cdn-images-1.medium.com/max/800/1*TREgHJysNg5vreLUKqMR6w.png"></figure><ul class="postList"><li name="cdf3" id="cdf3" class="graf graf--li graf-after--figure">Thirdly, click on the “View Keys” to grab the customer API key and the customer API secret key,</li></ul><figure name="76c4" id="76c4" class="graf graf--figure graf-after--li"><img class="graf-image" data-image-id="1*49SWAbUJ2iirvcJfwC1-sQ.png" data-width="2768" data-height="1276" src="https://cdn-images-1.medium.com/max/800/1*49SWAbUJ2iirvcJfwC1-sQ.png"></figure><figure name="6e2a" id="6e2a" class="graf graf--figure graf-after--figure"><img class="graf-image" data-image-id="1*5VUyu1gOxzExKHYqu8LNNw.png" data-width="1880" data-height="664" src="https://cdn-images-1.medium.com/max/800/1*5VUyu1gOxzExKHYqu8LNNw.png"></figure><p name="2788" id="2788" class="graf graf--p graf-after--figure">Then we record these two keys in the script,</p><pre name="6657" id="6657" class="graf graf--pre graf-after--p">consumer_key = &#39;.............&#39;<br>consumer_secret = &#39;.............&#39;</pre><ul class="postList"><li name="3a76" id="3a76" class="graf graf--li graf-after--pre">Fourthly, click on the “Generate” to grab the customer API key and the customer API secret key,</li></ul><figure name="251a" id="251a" class="graf graf--figure graf-after--li"><img class="graf-image" data-image-id="1*ssuDM0yrc7cxbb37x21jFA.png" data-width="2748" data-height="1288" src="https://cdn-images-1.medium.com/max/800/1*ssuDM0yrc7cxbb37x21jFA.png"></figure><figure name="3fdb" id="3fdb" class="graf graf--figure graf-after--figure"><img class="graf-image" data-image-id="1*UzkIFAnzJZLdV6-68RPHyQ.png" data-width="1666" data-height="700" src="https://cdn-images-1.medium.com/max/800/1*UzkIFAnzJZLdV6-68RPHyQ.png"></figure><p name="662a" id="662a" class="graf graf--p graf-after--figure">Then we record these two keys in the script,</p><pre name="e92d" id="e92d" class="graf graf--pre graf-after--p">access_token = &#39;.............&#39;<br>access_token_secret = &#39;.............&#39;</pre><ul class="postList"><li name="345a" id="345a" class="graf graf--li graf-after--pre">Fifthly, install tweepy to your environment.</li></ul><pre name="1834" id="1834" class="graf graf--pre graf-after--li">$ pip install tweepy</pre><ul class="postList"><li name="48d6" id="48d6" class="graf graf--li graf-after--pre">Finally, run the following script to get a summary of our timeline information,</li></ul><figure name="6eb8" id="6eb8" class="graf graf--figure graf--iframe graf-after--li"><script src="https://gist.github.com/Sadamingh/db6e211e265f000fead148334a24e4ae.js"></script></figure><p name="b1cf" id="b1cf" class="graf graf--p graf-after--figure">The output will be (for me). This is the same as what I have on my timeline.</p><figure name="c35f" id="c35f" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*Hfp23CDlKHj8wA2yb5F5tg.png" data-width="1028" data-height="142" src="https://cdn-images-1.medium.com/max/800/1*Hfp23CDlKHj8wA2yb5F5tg.png"></figure><p name="a013" id="a013" class="graf graf--p graf-after--figure">For a given user, for example, Joe Biden, we can get a brief summary of his information with the script,</p><figure name="2764" id="2764" class="graf graf--figure graf--iframe graf-after--p"><script src="https://gist.github.com/Sadamingh/ff9e893ab52285196150ed994fde5dce.js"></script></figure><p name="4290" id="4290" class="graf graf--p graf-after--figure">The output will be,</p><figure name="2017" id="2017" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*imElDZiGy9iY_6u3Ey1eUw.png" data-width="1604" data-height="242" src="https://cdn-images-1.medium.com/max/800/1*imElDZiGy9iY_6u3Ey1eUw.png"></figure><p name="8299" id="8299" class="graf graf--p graf-after--figure">Again, we can use the following script to get the timeline of a given user (i.e. JoeBiden),</p><figure name="4b5f" id="4b5f" class="graf graf--figure graf--iframe graf-after--p"><script src="https://gist.github.com/Sadamingh/635121137b10bdbefd9b4fb03e0deb8d.js"></script></figure><p name="4115" id="4115" class="graf graf--p graf-after--figure">The output is,</p><figure name="de69" id="de69" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*vaDuqOVNt7DMgSrT2XYyVQ.png" data-width="1628" data-height="806" src="https://cdn-images-1.medium.com/max/800/1*vaDuqOVNt7DMgSrT2XYyVQ.png"></figure><p name="bd2c" id="bd2c" class="graf graf--p graf-after--figure">However, there are only 20 records displayed. This is because the first page of the tweeter can only contain 20 records. So what if we want to get 100 records from the timeline? The <code class="markup--code markup--p-code">Cursor</code> is a method that we can use to display more records. We can use the following script to get more records,</p><figure name="11fd" id="11fd" class="graf graf--figure graf--iframe graf-after--p"><script src="https://gist.github.com/Sadamingh/e87d7f950314d3d8080501cdb148c881.js"></script></figure><p name="e503" id="e503" class="graf graf--p graf-after--figure">Here are our last 10 records of the output,</p><figure name="f632" id="f632" class="graf graf--figure graf-after--p graf--trailing"><img class="graf-image" data-image-id="1*2vec5QlmDfW0U5U_caqKvw.png" data-width="1628" data-height="434" src="https://cdn-images-1.medium.com/max/800/1*2vec5QlmDfW0U5U_caqKvw.png"></figure></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@adamedelweiss" class="p-author h-card">Adam Edelweiss</a> on <a href="https://medium.com/p/d2844b24a942"><time class="dt-published" datetime="2020-11-27T14:12:59.775Z">November 27, 2020</time></a>.</p><p><a href="https://medium.com/@adamedelweiss/data-acquisition-9-application-programming-interface-api-d2844b24a942" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on December 15, 2021.</p></footer></article></body></html>