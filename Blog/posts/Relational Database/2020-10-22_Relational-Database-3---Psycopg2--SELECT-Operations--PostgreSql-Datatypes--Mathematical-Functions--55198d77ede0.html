<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>Relational Database 3 | Psycopg2, SELECT Operations, PostgreSql Datatypes, Mathematical Functions…</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">Relational Database 3 | Psycopg2, SELECT Operations, PostgreSql Datatypes, Mathematical Functions…</h1>
</header>
<section data-field="subtitle" class="p-summary">
Series: Relational Database
</section>
<section data-field="body" class="e-content">
<section name="183d" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="1008" id="1008" class="graf graf--h3 graf--leading graf--title">Relational Database 3 | <strong class="markup--strong markup--h3-strong">Psycopg2, SELECT Operations, PostgreSql Datatypes, Mathematical Functions, and String Functions</strong></h3><figure name="8877" id="8877" class="graf graf--figure graf-after--h3"><img class="graf-image" data-image-id="1*3IaCF_vbefdstmWFpZxCRw.png" data-width="1600" data-height="1200" data-is-featured="true" src="https://cdn-images-1.medium.com/max/800/1*3IaCF_vbefdstmWFpZxCRw.png"></figure><ol class="postList"><li name="d2d7" id="d2d7" class="graf graf--li graf-after--figure"><strong class="markup--strong markup--li-strong">Connect To the Database With Python Package Psycopg2</strong></li></ol><p name="9fcf" id="9fcf" class="graf graf--p graf-after--li"><strong class="markup--strong markup--p-strong">(1) Install Psycopg2</strong></p><p name="3402" id="3402" class="graf graf--p graf-after--p">Psycopg2 is a package for connecting to the PostgreSQL database through a python script. To use this package, we have to install it first.</p><pre name="4f9d" id="4f9d" class="graf graf--pre graf-after--p">$ pip install psycopg2</pre><p name="5993" id="5993" class="graf graf--p graf-after--pre"><strong class="markup--strong markup--p-strong">(2) Import Psycopg2</strong></p><p name="2506" id="2506" class="graf graf--p graf-after--p">Before we use this package, we have to import it in the first place.</p><pre name="55f9" id="55f9" class="graf graf--pre graf-after--p">import psycopg2</pre><p name="141d" id="141d" class="graf graf--p graf-after--pre"><strong class="markup--strong markup--p-strong">(3) Set the Login Variables</strong></p><p name="4c9d" id="4c9d" class="graf graf--p graf-after--p">In order to connect with the server, we have to set the variables of login information. Because we are connected to a server on the localhost, so we are going to use the address 127.0.0.1:5432 here.</p><pre name="ccf9" id="ccf9" class="graf graf--pre graf-after--p">host = &quot;127.0.0.1&quot;<br>port = &quot;5432&quot;<br>database = &lt;databasename&gt;<br>user = &quot;postgres&quot;<br>password = &lt;password&gt;</pre><p name="e7d5" id="e7d5" class="graf graf--p graf-after--pre"><strong class="markup--strong markup--p-strong">(4) Connect to the Server</strong></p><p name="bcda" id="bcda" class="graf graf--p graf-after--p">We use the connect method to connect to a server.</p><pre name="775e" id="775e" class="graf graf--pre graf-after--p">conn = psycopg2.connect(host = host, <br>                        port = port,<br>                        database=database, <br>                        user = user, <br>                        password = password)</pre><p name="da69" id="da69" class="graf graf--p graf-after--pre">After we connected to the server, we can check out the status of the connection by,</p><pre name="3c7d" id="3c7d" class="graf graf--pre graf-after--p">conn.closed</pre><p name="28b7" id="28b7" class="graf graf--p graf-after--pre">If it returns 0 for us, that means the server is open and the connection is set up.</p><p name="c42c" id="c42c" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">(4) Close a Connection</strong></p><p name="caeb" id="caeb" class="graf graf--p graf-after--p">To close a connection to the server, we can use the close method.</p><pre name="492e" id="492e" class="graf graf--pre graf-after--p">conn.close()</pre><p name="2624" id="2624" class="graf graf--p graf-after--pre">After we closed the connection to the server, we can check out the status of the connection by,</p><pre name="497b" id="497b" class="graf graf--pre graf-after--p">conn.closed</pre><p name="94c7" id="94c7" class="graf graf--p graf-after--pre">If it resurns 1 for us, that means the connection is closed.</p><p name="7032" id="7032" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">(5) Open a Cursor</strong></p><p name="ff91" id="ff91" class="graf graf--p graf-after--p">Before we open a cursor for a connection, we have to make sure the status of the connection is open, we can check this by,</p><pre name="5409" id="5409" class="graf graf--pre graf-after--p">conn.closed</pre><p name="5dc9" id="5dc9" class="graf graf--p graf-after--pre">When it returns a 0, we can then choose to open a cursor by the cursor() method,</p><pre name="3c88" id="3c88" class="graf graf--pre graf-after--p">cur = conn.cursor()</pre><p name="ef34" id="ef34" class="graf graf--p graf-after--pre">The cursor can be used to execute a SQL query and also get the output.</p><p name="d96e" id="d96e" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">(6) Run a SQL Query by Cursor</strong></p><p name="3496" id="3496" class="graf graf--p graf-after--p">If we want to execute a SQL query, we can use the execute() method, for example,</p><pre name="bcb1" id="bcb1" class="graf graf--pre graf-after--p">cur.execute(&quot;SELECT * FROM works_in&quot;)</pre><p name="70ef" id="70ef" class="graf graf--p graf-after--pre">After running this code, the result of the SELECT operation will not be output to the standard out, but it is going to be stored in the cursor itself.</p><p name="51f0" id="51f0" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">(7) Get the Data in a Cursor</strong></p><p name="89d4" id="89d4" class="graf graf--p graf-after--p">To get the data out of a cursor, we can use the fetchall() method,</p><pre name="234a" id="234a" class="graf graf--pre graf-after--p">cur.fetchall()</pre><p name="385a" id="385a" class="graf graf--p graf-after--pre">After running this method, the data inside this cursor will be cleared and we will get nothing if we run this code for one more time.</p><p name="5bbf" id="5bbf" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">(8) Reset the Data in the Database</strong></p><p name="693e" id="693e" class="graf graf--p graf-after--p">Suppose we use the UPDATE/INSERT/DELETE queries with the curser and we want to eliminate all the changes, what we can do is to use the rollback() method,</p><pre name="7410" id="7410" class="graf graf--pre graf-after--p">conn.rollback()</pre><p name="2ec9" id="2ec9" class="graf graf--p graf-after--pre"><strong class="markup--strong markup--p-strong">(9) Change the Database Permanently</strong></p><p name="d210" id="d210" class="graf graf--p graf-after--p">Suppose we use the UPDATE/INSERT/DELETE queries with the curser and we want to make those changes work for the database permanently, what we can do is to use the commit() method,</p><pre name="9edf" id="9edf" class="graf graf--pre graf-after--p">conn.commit()</pre><p name="7d40" id="7d40" class="graf graf--p graf-after--pre"><strong class="markup--strong markup--p-strong">2. SELECT Operations</strong></p><p name="9508" id="9508" class="graf graf--p graf-after--p">In the previous section, we ran a lot of SELECT queries and now we would like to structure all the things.</p><ul class="postList"><li name="d1a9" id="d1a9" class="graf graf--li graf-after--p">Read only the unique values</li></ul><pre name="b3e6" id="b3e6" class="graf graf--pre graf-after--li">SELECT DISTINCT &lt;colname&gt;<br>FROM &lt;tablename&gt;;</pre><ul class="postList"><li name="be9c" id="be9c" class="graf graf--li graf-after--pre">Read with a constraint</li></ul><pre name="8d2a" id="8d2a" class="graf graf--pre graf-after--li">SELECT &lt;colname&gt;<br>FROM &lt;tablename&gt;<br>WHERE &lt;constraint&gt;;</pre><ul class="postList"><li name="64aa" id="64aa" class="graf graf--li graf-after--pre">Read not null values</li></ul><pre name="1a1a" id="1a1a" class="graf graf--pre graf-after--li">SELECT &lt;colname&gt;<br>FROM &lt;tablename&gt;<br>WHERE &lt;colname&gt; IS NOT NULL;</pre><ul class="postList"><li name="4dd6" id="4dd6" class="graf graf--li graf-after--pre">Read with two constraints</li></ul><pre name="daa7" id="daa7" class="graf graf--pre graf-after--li">SELECT &lt;colname&gt;<br>FROM &lt;tablename&gt;<br>WHERE &lt;constraint_1&gt;<br>AND &lt;constraint_2&gt;;</pre><ul class="postList"><li name="639f" id="639f" class="graf graf--li graf-after--pre">Read with either one of the two constraints</li></ul><pre name="6143" id="6143" class="graf graf--pre graf-after--li">SELECT &lt;colname&gt;<br>FROM &lt;tablename&gt;<br>WHERE &lt;constraint_1&gt;<br>OR &lt;constraint_2&gt;;</pre><ul class="postList"><li name="04d2" id="04d2" class="graf graf--li graf-after--pre">Read an ordered result (ascending)</li></ul><pre name="8804" id="8804" class="graf graf--pre graf-after--li">SELECT &lt;colname&gt;<br>FROM &lt;tablename&gt;<br>ORDER BY &lt;colname&gt; ASC;</pre><ul class="postList"><li name="a98f" id="a98f" class="graf graf--li graf-after--pre">Read an ordered result (descending)</li></ul><pre name="a852" id="a852" class="graf graf--pre graf-after--li">SELECT &lt;colname&gt;<br>FROM &lt;tablename&gt;<br>ORDER BY &lt;colname&gt; DESC;</pre><ul class="postList"><li name="7057" id="7057" class="graf graf--li graf-after--pre">Read an ordered result with two columns (all descending)</li></ul><pre name="d718" id="d718" class="graf graf--pre graf-after--li">SELECT &lt;colname1&gt;, &lt;colname2&gt;<br>FROM &lt;tablename&gt;<br>ORDER BY 1 DESC, 2 DESC;</pre><ul class="postList"><li name="c452" id="c452" class="graf graf--li graf-after--pre">Read only the first N lines of the result (N must be positive)</li></ul><pre name="a1e7" id="a1e7" class="graf graf--pre graf-after--li">SELECT &lt;colname&gt;<br>FROM &lt;tablename&gt;<br>LIMIT &lt;N&gt;;</pre><p name="0b17" id="0b17" class="graf graf--p graf-after--pre"><strong class="markup--strong markup--p-strong">3. PostgreSql Datatypes</strong></p><p name="873d" id="873d" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">(1) Data Types</strong></p><p name="fb69" id="fb69" class="graf graf--p graf-after--p">The data types for PostgreSql is as follows,</p><pre name="0d9b" id="0d9b" class="graf graf--pre graf-after--p">BOOLEAN<br>CHARACTER(n)<br>VARCHAR(n)<br>TEXT<br>INTEGER<br>REAL<br>SERIAL<br>DATE<br>TIME(p)<br>TIMESTAMP(p)<br>INTERVAL<br>JSON</pre><p name="a13e" id="a13e" class="graf graf--p graf-after--pre"><strong class="markup--strong markup--p-strong">(2) Convert Datatypes</strong></p><ul class="postList"><li name="be4c" id="be4c" class="graf graf--li graf-after--p"><strong class="markup--strong markup--li-strong">Method #1</strong>. CAST() function</li></ul><pre name="1eaa" id="1eaa" class="graf graf--pre graf-after--li">CAST(&lt;expression&gt; AS &lt;TargetType&gt;)</pre><ul class="postList"><li name="36c8" id="36c8" class="graf graf--li graf-after--pre"><strong class="markup--strong markup--li-strong">Method #2.</strong> :: operator</li></ul><pre name="9705" id="9705" class="graf graf--pre graf-after--li">&lt;expression&gt;::&lt;TargetType&gt;</pre><p name="0b79" id="0b79" class="graf graf--p graf-after--pre"><strong class="markup--strong markup--p-strong">(3) An Introduction of the TIMESTAMP</strong></p><p name="8acd" id="8acd" class="graf graf--p graf-after--p">TIMESTAMP can be treated as a string with the format of ‘YYYY-MM-DD HH:MI:SS’. We can use CAST to change a string in this form to a timestamp.</p><pre name="518b" id="518b" class="graf graf--pre graf-after--p">CAST(&#39;2020-10-10 23:30:46&#39; AS TIMESTAMP)</pre><p name="5234" id="5234" class="graf graf--p graf-after--pre">Or,</p><pre name="1775" id="1775" class="graf graf--pre graf-after--p">&#39;2020-10-10 23:30:46&#39;::TIMESTAMP</pre><p name="69af" id="69af" class="graf graf--p graf-after--pre"><strong class="markup--strong markup--p-strong">(4) Converting Functions</strong></p><ul class="postList"><li name="1bc9" id="1bc9" class="graf graf--li graf-after--p">NUMBER to STRING</li></ul><pre name="a81f" id="a81f" class="graf graf--pre graf-after--li">TO_CHAR(&lt;number&gt;, &lt;format&gt;)</pre><p name="b0ee" id="b0ee" class="graf graf--p graf-after--pre">The format is,</p><pre name="581d" id="581d" class="graf graf--pre graf-after--p">S -&gt; Sign<br>D -&gt; Dot<br>G -&gt; Separator ,<br>9 -&gt; A Digit</pre><p name="db26" id="db26" class="graf graf--p graf-after--pre">For example,</p><pre name="2e25" id="2e25" class="graf graf--pre graf-after--p">TO_CHAR(-1125.8, &#39;99G999D99S&#39;)  -- 01,125.80-</pre><ul class="postList"><li name="13cf" id="13cf" class="graf graf--li graf-after--pre">STRING to NUMBER</li></ul><pre name="d912" id="d912" class="graf graf--pre graf-after--li">TO_NUMBER(&lt;text&gt;, &lt;format&gt;)</pre><p name="440c" id="440c" class="graf graf--p graf-after--pre">The format is,</p><pre name="c4ff" id="c4ff" class="graf graf--pre graf-after--p">S -&gt; Sign<br>D -&gt; Dot<br>G -&gt; ,<br>9 -&gt; A Digit</pre><p name="5902" id="5902" class="graf graf--p graf-after--pre">For example,</p><pre name="1bcf" id="1bcf" class="graf graf--pre graf-after--p">TO_NUMBER<code class="markup--code markup--pre-code">(&#39;12,454.8-&#39;, &#39;99G999D9S&#39;) </code> -- <code class="markup--code markup--pre-code">-12454.8</code></pre><ul class="postList"><li name="f22f" id="f22f" class="graf graf--li graf-after--pre">TIMESTAMP to STRING</li></ul><pre name="546b" id="546b" class="graf graf--pre graf-after--li">TO_CHAR(&lt;timestamp&gt;, &lt;format&gt;)</pre><p name="2937" id="2937" class="graf graf--p graf-after--pre">The format of the timestamp can be found from <a href="https://www.postgresql.org/docs/current/functions-formatting.html" data-href="https://www.postgresql.org/docs/current/functions-formatting.html" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">the documentation</a>.</p><p name="0a3e" id="0a3e" class="graf graf--p graf-after--p">For example,</p><pre name="6e7d" id="6e7d" class="graf graf--pre graf-after--p">TO_CHAR(timestamp &#39;2002-04-20 17:31:12.66&#39;, &#39;HH12:MI:SS&#39;)</pre><ul class="postList"><li name="3812" id="3812" class="graf graf--li graf-after--pre">STRING to TIMESTAMP</li></ul><pre name="8fa7" id="8fa7" class="graf graf--pre graf-after--li">TO_TIMESTAMP(&lt;text&gt;, &lt;format&gt;)</pre><p name="0a82" id="0a82" class="graf graf--p graf-after--pre">The format of the timestamp can be found from <a href="https://www.postgresql.org/docs/current/functions-formatting.html" data-href="https://www.postgresql.org/docs/current/functions-formatting.html" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">the documentation</a>.</p><p name="7c26" id="7c26" class="graf graf--p graf-after--p">For example,</p><pre name="5066" id="5066" class="graf graf--pre graf-after--p">TO_TIMESTAMP(&#39;05 Dec 2020&#39;, &#39;DD Mon YYYY&#39;)</pre><ul class="postList"><li name="f769" id="f769" class="graf graf--li graf-after--pre">STRING to DATE</li></ul><pre name="241b" id="241b" class="graf graf--pre graf-after--li">TO_DATE(&lt;text&gt;, &lt;format&gt;)</pre><p name="c558" id="c558" class="graf graf--p graf-after--pre">The format of the timestamp can be found from <a href="https://www.postgresql.org/docs/current/functions-formatting.html" data-href="https://www.postgresql.org/docs/current/functions-formatting.html" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">the documentation</a>.</p><p name="6b26" id="6b26" class="graf graf--p graf-after--p">For example,</p><pre name="1b7e" id="1b7e" class="graf graf--pre graf-after--p">TO_DATE(&#39;05 Dec 2020&#39;, &#39;DD Mon YYYY&#39;)</pre><p name="b375" id="b375" class="graf graf--p graf-after--pre"><strong class="markup--strong markup--p-strong">4. Alias</strong></p><p name="7f40" id="7f40" class="graf graf--p graf-after--p">The alias is used temporally as names for columns or tables using the keyword AS.</p><pre name="346d" id="346d" class="graf graf--pre graf-after--p">SELECT &lt;expression&gt; AS &lt;alias&gt;<br>FROM &lt;tablename&gt;;</pre><p name="73a2" id="73a2" class="graf graf--p graf-after--pre"><strong class="markup--strong markup--p-strong">5. Mathematical Functions</strong></p><p name="a647" id="a647" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">(1) NULL Type</strong></p><p name="3607" id="3607" class="graf graf--p graf-after--p">NULL is a datatype implicates the unknown values. It can work with the following operators, but it will at most of the times get a result of NULL,</p><pre name="616c" id="616c" class="graf graf--pre graf-after--p">&lt; &gt; = != AND OR ...</pre><p name="90b5" id="90b5" class="graf graf--p graf-after--pre">But there are some expectations and these expectations are listed here,</p><pre name="52cf" id="52cf" class="graf graf--pre graf-after--p">NULL OR TRUE      -&gt;     TRUE<br>NULL AND FALSE    -&gt;     FALSE</pre><p name="30ec" id="30ec" class="graf graf--p graf-after--pre">Note that all the NULLs are identical so they are equal to each other,</p><pre name="1e40" id="1e40" class="graf graf--pre graf-after--p">NULL IS NULL     -&gt;     TRUE</pre><p name="dac6" id="dac6" class="graf graf--p graf-after--pre">It can also work with mathematical functions and those functions will ignore the values of all NULLs</p><pre name="d5be" id="d5be" class="graf graf--pre graf-after--p">COUNT SUM AVG MAX MIN ...</pre><p name="8bf3" id="8bf3" class="graf graf--p graf-after--pre"><strong class="markup--strong markup--p-strong">(2) Mathematical Functions</strong></p><ul class="postList"><li name="f1f1" id="f1f1" class="graf graf--li graf-after--p">get the absolute value of a number</li></ul><pre name="1260" id="1260" class="graf graf--pre graf-after--li">ABS(&lt;num&gt;)</pre><ul class="postList"><li name="deab" id="deab" class="graf graf--li graf-after--pre">round the float to integer</li></ul><pre name="553e" id="553e" class="graf graf--pre graf-after--li">ROUND(&lt;num&gt;)</pre><ul class="postList"><li name="cfde" id="cfde" class="graf graf--li graf-after--pre">round the float to n decimal digits</li></ul><pre name="01cf" id="01cf" class="graf graf--pre graf-after--li">ROUND(&lt;num&gt;, &lt;n&gt;)</pre><ul class="postList"><li name="811e" id="811e" class="graf graf--li graf-after--pre">round the float to its ceiling integer</li></ul><pre name="d8ba" id="d8ba" class="graf graf--pre graf-after--li">CEIL(&lt;num&gt;)</pre><ul class="postList"><li name="c680" id="c680" class="graf graf--li graf-after--pre">round the float to its floor integer</li></ul><pre name="8c93" id="8c93" class="graf graf--pre graf-after--li">FLOOR(&lt;num&gt;)</pre><ul class="postList"><li name="8326" id="8326" class="graf graf--li graf-after--pre">power the num1 with num2</li></ul><pre name="78d3" id="78d3" class="graf graf--pre graf-after--li">POWER(&lt;num1&gt;, &lt;num2&gt;)</pre><ul class="postList"><li name="b4ef" id="b4ef" class="graf graf--li graf-after--pre">log num2 with a base of num1</li></ul><pre name="11a5" id="11a5" class="graf graf--pre graf-after--li">LOG(&lt;num1&gt;, &lt;num2&gt;)</pre><ul class="postList"><li name="8a59" id="8a59" class="graf graf--li graf-after--pre">find the greatest value in a list of numbers</li></ul><pre name="3553" id="3553" class="graf graf--pre graf-after--li">GREATEST(&lt;num1&gt;, &lt;num2&gt;, ...)</pre><ul class="postList"><li name="cebc" id="cebc" class="graf graf--li graf-after--pre">find the smallest value in a list of numbers</li></ul><pre name="e197" id="e197" class="graf graf--pre graf-after--li">LEAST(&lt;num1&gt;, &lt;num2&gt;, ...)</pre><p name="afa7" id="afa7" class="graf graf--p graf-after--pre"><strong class="markup--strong markup--p-strong">6. String Functions</strong></p><ul class="postList"><li name="61b9" id="61b9" class="graf graf--li graf-after--p">Get the number of the characters in a string</li></ul><pre name="4bfa" id="4bfa" class="graf graf--pre graf-after--li">LENGTH(&lt;string&gt;)</pre><ul class="postList"><li name="6354" id="6354" class="graf graf--li graf-after--pre">String Concatenation</li></ul><pre name="d066" id="d066" class="graf graf--pre graf-after--li">&lt;str1&gt; || &lt;str2&gt; || ...</pre><ul class="postList"><li name="95fe" id="95fe" class="graf graf--li graf-after--pre">change to lower case</li></ul><pre name="1684" id="1684" class="graf graf--pre graf-after--li">LOWER(&lt;string&gt;)</pre><ul class="postList"><li name="9034" id="9034" class="graf graf--li graf-after--pre">change to upper case</li></ul><pre name="70a2" id="70a2" class="graf graf--pre graf-after--li">UPPER(&lt;string&gt;)</pre><ul class="postList"><li name="b05f" id="b05f" class="graf graf--li graf-after--pre">return the first n characters in a string</li></ul><pre name="6f94" id="6f94" class="graf graf--pre graf-after--li">LEFT(&lt;string&gt;, &lt;n&gt;)</pre><ul class="postList"><li name="04f8" id="04f8" class="graf graf--li graf-after--pre">return the last n characters in a string</li></ul><pre name="7518" id="7518" class="graf graf--pre graf-after--li">RIGHT(&lt;string&gt;, &lt;n&gt;)</pre><ul class="postList"><li name="1d6e" id="1d6e" class="graf graf--li graf-after--pre">get the substring in a string begin with &lt;start&gt; with length &lt;n&gt;</li></ul><pre name="e032" id="e032" class="graf graf--pre graf-after--li">SUBSTR(&lt;string&gt;, &lt;start&gt;, &lt;n&gt;)</pre><ul class="postList"><li name="2487" id="2487" class="graf graf--li graf-after--pre">replace substring from &lt;ori&gt; to &lt;crt&gt;</li></ul><pre name="56b4" id="56b4" class="graf graf--pre graf-after--li">REPLACE(&lt;string&gt;, &lt;ori&gt;, &lt;crt&gt;)</pre><ul class="postList"><li name="3e29" id="3e29" class="graf graf--li graf-after--pre">remove the spaces at the start and end of a string (like str.strip())</li></ul><pre name="eb37" id="eb37" class="graf graf--pre graf-after--li">TRIM(&lt;string&gt;)</pre><ul class="postList"><li name="bdcd" id="bdcd" class="graf graf--li graf-after--pre">remove the longest string containing only the characters from &lt;characters&gt; for the start and end of a string</li></ul><pre name="9bf7" id="9bf7" class="graf graf--pre graf-after--li">TRIM(&lt;characters&gt; FROM &lt;string&gt;)</pre><p name="bcff" id="bcff" class="graf graf--p graf-after--pre">Or,</p><pre name="5600" id="5600" class="graf graf--pre graf-after--p">TRIM(both &lt;characters&gt; FROM &lt;string&gt;)</pre><ul class="postList"><li name="4ca5" id="4ca5" class="graf graf--li graf-after--pre">remove the longest string containing only the characters from &lt;characters&gt; for the start of a string</li></ul><pre name="4418" id="4418" class="graf graf--pre graf-after--li">TRIM(leading &lt;characters&gt; FROM &lt;string&gt;)</pre><ul class="postList"><li name="b9b2" id="b9b2" class="graf graf--li graf-after--pre">remove the longest string containing only the characters from &lt;characters&gt; for the end of a string</li></ul><pre name="4b7f" id="4b7f" class="graf graf--pre graf-after--li">TRIM(trailing &lt;characters&gt; FROM &lt;string&gt;)</pre><ul class="postList"><li name="f8ca" id="f8ca" class="graf graf--li graf-after--pre">get the strings matching a specific pattern</li></ul><pre name="bda7" id="bda7" class="graf graf--pre graf-after--li">&lt;string&gt; LIKE &lt;pattern&gt;</pre><p name="47ef" id="47ef" class="graf graf--p graf-after--pre">For the pattern, % means zero or more characters, and _ means a single character. For example,</p><pre name="0a18" id="0a18" class="graf graf--pre graf-after--p">&#39;abc&#39; LIKE &#39;a%&#39;<br>&#39;abc&#39; LIKE &#39;_b_&#39;</pre><ul class="postList"><li name="8da9" id="8da9" class="graf graf--li graf-after--pre">get the strings matching a regular expression</li></ul><pre name="a70b" id="a70b" class="graf graf--pre graf-after--li">&lt;string&gt; SIMILAR TO &lt;regex&gt;</pre><p name="4cf9" id="4cf9" class="graf graf--p graf-after--pre">A reference of the regular expression is,</p><div name="1ccc" id="1ccc" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://medium.com/adamedelwiess/understanding-the-rules-of-the-regular-expressions-e8fc30d887f" data-href="https://medium.com/adamedelwiess/understanding-the-rules-of-the-regular-expressions-e8fc30d887f" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://medium.com/adamedelwiess/understanding-the-rules-of-the-regular-expressions-e8fc30d887f"><strong class="markup--strong markup--mixtapeEmbed-strong">Understanding the Rules of the Regular Expressions</strong><br><em class="markup--em markup--mixtapeEmbed-em">Series: Regular Expression</em>medium.com</a><a href="https://medium.com/adamedelwiess/understanding-the-rules-of-the-regular-expressions-e8fc30d887f" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="02bd7f24fb7afaba0b134aa5858ae0ce" data-thumbnail-img-id="0*sxAHEC0orF3e3QDE.png" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/0*sxAHEC0orF3e3QDE.png);"></a></div><p name="acfc" id="acfc" class="graf graf--p graf-after--mixtapeEmbed graf--trailing">Note that patterns for SQL can also be used in the regex for the argument.</p></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@adamedelweiss" class="p-author h-card">Adam Edelweiss</a> on <a href="https://medium.com/p/55198d77ede0"><time class="dt-published" datetime="2020-10-22T11:52:16.652Z">October 22, 2020</time></a>.</p><p><a href="https://medium.com/@adamedelweiss/relational-database-3-psycopg2-select-operations-postgresql-datatypes-mathematical-functions-55198d77ede0" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on December 15, 2021.</p></footer></article></body></html>