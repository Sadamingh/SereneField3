<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>Advanced Python 7 | OS/SYS Module, File I/O, and pathlib</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">Advanced Python 7 | OS/SYS Module, File I/O, and pathlib</h1>
</header>
<section data-field="subtitle" class="p-summary">
Series: Advanced Python
</section>
<section data-field="body" class="e-content">
<section name="809c" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="7fa3" id="7fa3" class="graf graf--h3 graf--leading graf--title">Advanced Python 7 | OS/SYS Module, File I/O, and pathlib Module</h3><figure name="77d1" id="77d1" class="graf graf--figure graf-after--h3"><img class="graf-image" data-image-id="1*Gy1VRT0yCmnZn-xpH_hVIw.png" data-width="1590" data-height="1018" data-is-featured="true" src="https://cdn-images-1.medium.com/max/800/1*Gy1VRT0yCmnZn-xpH_hVIw.png"></figure><ol class="postList"><li name="cb6f" id="cb6f" class="graf graf--li graf-after--figure"><strong class="markup--strong markup--li-strong">OS Module</strong></li></ol><p name="8582" id="8582" class="graf graf--p graf-after--li">Before we use the OS Module, first of all, we have to use import this module,</p><pre name="11d0" id="11d0" class="graf graf--pre graf-after--p">import os</pre><ul class="postList"><li name="302e" id="302e" class="graf graf--li graf-after--pre">get the os name (usually ‘POSIX’)</li></ul><pre name="ad0a" id="ad0a" class="graf graf--pre graf-after--li">os.name</pre><ul class="postList"><li name="c336" id="c336" class="graf graf--li graf-after--pre">get the current path</li></ul><pre name="4a86" id="4a86" class="graf graf--pre graf-after--li">os.getcwd()</pre><ul class="postList"><li name="f53c" id="f53c" class="graf graf--li graf-after--pre">make a new folder</li></ul><pre name="95c7" id="95c7" class="graf graf--pre graf-after--li">os.mkdir(&#39;newDir&#39;)</pre><ul class="postList"><li name="23e7" id="23e7" class="graf graf--li graf-after--pre">rename a folder</li></ul><pre name="5ccb" id="5ccb" class="graf graf--pre graf-after--li">os.rename(&#39;newDir&#39;,&#39;newDir2&#39;)</pre><ul class="postList"><li name="d6ef" id="d6ef" class="graf graf--li graf-after--pre">delete a folder</li></ul><pre name="5734" id="5734" class="graf graf--pre graf-after--li">os.rmdir(&#39;newDir2&#39;)</pre><p name="1514" id="1514" class="graf graf--p graf-after--pre"><strong class="markup--strong markup--p-strong">2. SYS Module</strong></p><p name="8dda" id="8dda" class="graf graf--p graf-after--p">Before we use the SYS Module, first of all, we have to use import this module,</p><pre name="b72c" id="b72c" class="graf graf--pre graf-after--p">import sys</pre><ul class="postList"><li name="8cff" id="8cff" class="graf graf--li graf-after--pre">see the environment paths, return a list of paths</li></ul><pre name="2fab" id="2fab" class="graf graf--pre graf-after--li">sys.path</pre><ul class="postList"><li name="f134" id="f134" class="graf graf--li graf-after--pre">see the platform of the system</li></ul><pre name="7e75" id="7e75" class="graf graf--pre graf-after--li">sys.platform</pre><ul class="postList"><li name="f648" id="f648" class="graf graf--li graf-after--pre">see the path of the python interpreter</li></ul><pre name="009d" id="009d" class="graf graf--pre graf-after--li">sys.executable</pre><ul class="postList"><li name="9fb8" id="9fb8" class="graf graf--li graf-after--pre">get a tuple of all the build-in modules</li></ul><pre name="8eae" id="8eae" class="graf graf--pre graf-after--li">sys.builtin_module_names</pre><p name="400c" id="400c" class="graf graf--p graf-after--pre">we will have,</p><pre name="2d29" id="2d29" class="graf graf--pre graf-after--p"><code class="markup--code markup--pre-code">(&#39;_abc&#39;,<br> &#39;_ast&#39;,<br> &#39;_codecs&#39;,<br> &#39;_collections&#39;,<br> &#39;_functools&#39;,<br> &#39;_imp&#39;,<br> &#39;_io&#39;,<br> &#39;_locale&#39;,<br> &#39;_operator&#39;,<br> &#39;_signal&#39;,<br> &#39;_sre&#39;,<br> &#39;_stat&#39;,<br> &#39;_string&#39;,<br> &#39;_symtable&#39;,<br> &#39;_thread&#39;,<br> &#39;_tracemalloc&#39;,<br> &#39;_warnings&#39;,<br> &#39;_weakref&#39;,<br> &#39;atexit&#39;,<br> &#39;builtins&#39;,<br> &#39;errno&#39;,<br> &#39;faulthandler&#39;,<br> &#39;gc&#39;,<br> &#39;itertools&#39;,<br> &#39;marshal&#39;,<br> &#39;posix&#39;,<br> &#39;pwd&#39;,<br> &#39;sys&#39;,<br> &#39;time&#39;,<br> &#39;xxsubtype&#39;,<br> &#39;zipimport&#39;)</code></pre><ul class="postList"><li name="af2c" id="af2c" class="graf graf--li graf-after--pre">get a set of all the modules (i.e. pandas, NumPy, etc…)</li></ul><pre name="4183" id="4183" class="graf graf--pre graf-after--li">sys.modules</pre><ul class="postList"><li name="4212" id="4212" class="graf graf--li graf-after--pre">input by standard input</li></ul><pre name="0708" id="0708" class="graf graf--pre graf-after--li">sys.stdin.readline()</pre><p name="1231" id="1231" class="graf graf--p graf-after--pre">Actually, we can rebuild the inbuilt input() function with stdin and stdout.</p><figure name="6ce7" id="6ce7" class="graf graf--figure graf--iframe graf-after--p"><script src="https://gist.github.com/Sadamingh/4c3b3f7772b421b64cc3e1e8f34eecab.js"></script></figure><p name="1740" id="1740" class="graf graf--p graf-after--figure">To test this, we can input anything we want, for example, we can input,</p><pre name="b627" id="b627" class="graf graf--pre graf-after--p">12</pre><p name="958c" id="958c" class="graf graf--p graf-after--pre">then,</p><pre name="b3c7" id="b3c7" class="graf graf--pre graf-after--p">Please input: 12<br>the output is: 12<br>Please input: 12<br>the output is: 12</pre><ul class="postList"><li name="71c7" id="71c7" class="graf graf--li graf-after--pre">print by standard output</li></ul><pre name="f0e8" id="f0e8" class="graf graf--pre graf-after--li">sys.stdout.write()</pre><p name="a3aa" id="a3aa" class="graf graf--p graf-after--pre">We can also rebuild the inbuilt print() function with stdout.</p><figure name="67fd" id="67fd" class="graf graf--figure graf--iframe graf-after--p"><script src="https://gist.github.com/Sadamingh/36fb7a26f6bbf3229c750e1c8a5cc396.js"></script></figure><p name="f45c" id="f45c" class="graf graf--p graf-after--figure">Run this code, we will then have,</p><pre name="338b" id="338b" class="graf graf--pre graf-after--p">hello, world!<br>hello, world!</pre><ul class="postList"><li name="3768" id="3768" class="graf graf--li graf-after--pre">get the recursion limit</li></ul><p name="155f" id="155f" class="graf graf--p graf-after--li">Recall what we have talked about of the recursion. In python, there is a recursion limit and we can get this limit by,</p><pre name="66b4" id="66b4" class="graf graf--pre graf-after--p">sys.getrecursionlimit()</pre><ul class="postList"><li name="7d5a" id="7d5a" class="graf graf--li graf-after--pre">set the recursion limit</li></ul><p name="c4d3" id="c4d3" class="graf graf--p graf-after--li">We can also reset this limit, i.e. we can change this to 100.</p><pre name="3449" id="3449" class="graf graf--pre graf-after--p">sys.setrecursionlimit(100)</pre><ul class="postList"><li name="a3b5" id="a3b5" class="graf graf--li graf-after--pre">get the reference count of an object</li></ul><pre name="ab81" id="ab81" class="graf graf--pre graf-after--li">sys.getrefcount(object)</pre><p name="93f4" id="93f4" class="graf graf--p graf-after--pre">Click this <a href="https://groverlab.org/hnbfpr/2017-06-22-fun-with-sys-getrefcount.html" data-href="https://groverlab.org/hnbfpr/2017-06-22-fun-with-sys-getrefcount.html" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank"><strong class="markup--strong markup--p-strong">link</strong></a> to get more information about the reference count.</p><ul class="postList"><li name="1627" id="1627" class="graf graf--li graf-after--p">get the bytes of an object</li></ul><pre name="4a7a" id="4a7a" class="graf graf--pre graf-after--li">sys.getsizeof(object)</pre><p name="721f" id="721f" class="graf graf--p graf-after--pre"><strong class="markup--strong markup--p-strong">3. File I/O</strong></p><ul class="postList"><li name="cd8f" id="cd8f" class="graf graf--li graf-after--p">Get the hexadecimal of a file in macOS terminal (show 96 bytes)</li></ul><pre name="d72f" id="d72f" class="graf graf--pre graf-after--li">$ hexdump -n 96 one_fish.txt<br>$ hexdump -n 96 i_am_not_text.jpg</pre><ul class="postList"><li name="0891" id="0891" class="graf graf--li graf-after--pre">Get the hexadecimal of a file in Linus CLI (show 96 bytes)</li></ul><pre name="9a2e" id="9a2e" class="graf graf--pre graf-after--li">$ xxd -l 96 one_fish.txt<br>$ xxd -l 96 i_am_not_text.jpg</pre><ul class="postList"><li name="8893" id="8893" class="graf graf--li graf-after--pre">open a file and then close a file (Remember to <strong class="markup--strong markup--li-strong">CLOSE</strong> it)</li></ul><pre name="c999" id="c999" class="graf graf--pre graf-after--li">f = open(&quot;students.txt&quot;)<br>f.close()</pre><p name="7d90" id="7d90" class="graf graf--p graf-after--pre">Note that two file objects will not be the same before and after closing.</p><ul class="postList"><li name="d2f1" id="d2f1" class="graf graf--li graf-after--p">open a file by <code class="markup--code markup--li-code">with</code> statement (automatically closed)</li></ul><pre name="c402" id="c402" class="graf graf--pre graf-after--li">with open(&quot;students.txt&quot;) as f:<br>    print(f)</pre><p name="26e9" id="26e9" class="graf graf--p graf-after--pre">This will give us the information about this file object.</p><ul class="postList"><li name="a3a2" id="a3a2" class="graf graf--li graf-after--p">read a line of a file object, return a string, with \n at the end</li></ul><pre name="28a3" id="28a3" class="graf graf--pre graf-after--li">f.readline()</pre><ul class="postList"><li name="87f7" id="87f7" class="graf graf--li graf-after--pre">read all of a file object, return a string</li></ul><pre name="137f" id="137f" class="graf graf--pre graf-after--li">f.read()</pre><ul class="postList"><li name="df9d" id="df9d" class="graf graf--li graf-after--pre">read all of a file object, return a list with each element is a line</li></ul><pre name="c43a" id="c43a" class="graf graf--pre graf-after--li">f.readlines()</pre><ul class="postList"><li name="00f7" id="00f7" class="graf graf--li graf-after--pre">write to files</li></ul><p name="f397" id="f397" class="graf graf--p graf-after--li">First of all, the file should be open by ‘w’ mode</p><pre name="a9fe" id="a9fe" class="graf graf--pre graf-after--p">f = open(filename, &#39;w&#39;)    # or we can use the with statement</pre><p name="fc54" id="fc54" class="graf graf--p graf-after--pre">Then write ‘hi’ to this file,</p><pre name="adb0" id="adb0" class="graf graf--pre graf-after--p">f.write(&#39;hi&#39;)</pre><p name="c337" id="c337" class="graf graf--p graf-after--pre">Remember to close the file,</p><pre name="f4da" id="f4da" class="graf graf--pre graf-after--p">f.close()</pre><p name="af25" id="af25" class="graf graf--p graf-after--pre"><strong class="markup--strong markup--p-strong">4. pathlib Module</strong></p><p name="984f" id="984f" class="graf graf--p graf-after--p">Before we use the Path Module, first of all, we have to use import this module,</p><pre name="770f" id="770f" class="graf graf--pre graf-after--p">from pathlib import Path</pre><ul class="postList"><li name="58b1" id="58b1" class="graf graf--li graf-after--pre">read all of a file object by Path</li></ul><pre name="36e9" id="36e9" class="graf graf--pre graf-after--li">Path(&quot;students.txt&quot;).read_text()</pre><ul class="postList"><li name="d231" id="d231" class="graf graf--li graf-after--pre">define a path with Path object</li></ul><pre name="92ed" id="92ed" class="graf graf--pre graf-after--li">path = Path(&#39;../data/&#39;)</pre><ul class="postList"><li name="245e" id="245e" class="graf graf--li graf-after--pre">get the current path</li></ul><pre name="0439" id="0439" class="graf graf--pre graf-after--li">pwd = Path.cwd()</pre><ul class="postList"><li name="e2e3" id="e2e3" class="graf graf--li graf-after--pre">get the home path</li></ul><pre name="a17f" id="a17f" class="graf graf--pre graf-after--li">home = Path.home()</pre><p name="b76d" id="b76d" class="graf graf--p graf-after--pre">Note that the path object is not a string, but a <code class="markup--code markup--p-code">pathlib.PosixPath</code> . It is kind of a special string.</p><ul class="postList"><li name="a1dc" id="a1dc" class="graf graf--li graf-after--p">create a new path by a path object</li></ul><pre name="d58a" id="d58a" class="graf graf--pre graf-after--li">new = Path.cwd() / &#39;data&#39;</pre><p name="b6c1" id="b6c1" class="graf graf--p graf-after--pre">this will add /data after our current path.</p><ul class="postList"><li name="24fc" id="24fc" class="graf graf--li graf-after--p">write files by Path</li></ul><pre name="af88" id="af88" class="graf graf--pre graf-after--li">Path(&quot;students.txt&quot;).write_text(&#39;hi&#39;)</pre><ul class="postList"><li name="36d3" id="36d3" class="graf graf--li graf-after--pre">return the whole path by filename</li></ul><pre name="3185" id="3185" class="graf graf--pre graf-after--li">Path(&quot;students.txt&quot;).resolve()</pre><ul class="postList"><li name="b411" id="b411" class="graf graf--li graf-after--pre">return the only the suffix of a file</li></ul><pre name="ac02" id="ac02" class="graf graf--pre graf-after--li">Path(&quot;students.txt&quot;).resolve().suffix</pre><ul class="postList"><li name="d3d7" id="d3d7" class="graf graf--li graf-after--pre">return the filename without the suffix</li></ul><pre name="910c" id="910c" class="graf graf--pre graf-after--li">Path(&quot;students.txt&quot;).resolve().stem</pre><ul class="postList"><li name="6242" id="6242" class="graf graf--li graf-after--pre">return the filename with the suffix</li></ul><pre name="c674" id="c674" class="graf graf--pre graf-after--li">Path(&quot;students.txt&quot;).resolve().name()</pre><ul class="postList"><li name="f217" id="f217" class="graf graf--li graf-after--pre">return the path of the folder where the file located</li></ul><pre name="8a4b" id="8a4b" class="graf graf--pre graf-after--li">Path(&quot;students.txt&quot;).resolve().parent()</pre><ul class="postList"><li name="ac5d" id="ac5d" class="graf graf--li graf-after--pre">return an iterator of all the file paths and file paths in the folders in the given path (recursion)</li></ul><pre name="4a02" id="4a02" class="graf graf--pre graf-after--li">path = Path.cwd()<br>path.rglob(&#39;*.*&#39;)</pre><ul class="postList"><li name="7d98" id="7d98" class="graf graf--li graf-after--pre">return an iterator of all the .txt file paths and .txt file paths in the folders in the given path (recursion)</li></ul><pre name="999a" id="999a" class="graf graf--pre graf-after--li">path = Path.cwd()<br>path.rglob(&#39;*.txt&#39;)</pre><ul class="postList"><li name="982e" id="982e" class="graf graf--li graf-after--pre">return an iterator of all the file paths in the current path</li></ul><pre name="ef6c" id="ef6c" class="graf graf--pre graf-after--li">path = Path.cwd()<br>path.glob(&#39;*.*&#39;)</pre><ul class="postList"><li name="99eb" id="99eb" class="graf graf--li graf-after--pre">return an iterator of all the .txt file paths in the current path</li></ul><pre name="fd86" id="fd86" class="graf graf--pre graf-after--li">path = Path.cwd()<br>path.glob(&#39;*.txt&#39;)</pre><ul class="postList"><li name="1869" id="1869" class="graf graf--li graf-after--pre">return an iterator of all the file paths in the current path and the level one folders</li></ul><pre name="6907" id="6907" class="graf graf--pre graf-after--li">path = Path.cwd()<br>path.glob(&#39;*/*.*&#39;)</pre><ul class="postList"><li name="ebbb" id="ebbb" class="graf graf--li graf-after--pre">return an iterator of all the file paths in the current path and recurse all the folders inside</li></ul><pre name="4277" id="4277" class="graf graf--pre graf-after--li">path = Path.cwd()<br>path.glob(&#39;**/*.*&#39;)</pre><p name="5237" id="5237" class="graf graf--p graf-after--pre"><strong class="markup--strong markup--p-strong">5. Practices</strong></p><p name="6bbf" id="6bbf" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">(1) Example #1. What will be the content of the hello.txt?</strong></p><figure name="fdf6" id="fdf6" class="graf graf--figure graf--iframe graf-after--p"><script src="https://gist.github.com/Sadamingh/73ee12b6b275466b6b208218cc8d23b4.js"></script></figure><p name="13e9" id="13e9" class="graf graf--p graf-after--figure">Answer:</p><pre name="9958" id="9958" class="graf graf--pre graf-after--p">yes <br> nono <br> yes</pre><p name="a67e" id="a67e" class="graf graf--p graf-after--pre"><strong class="markup--strong markup--p-strong">(2) Example #2. What will be the output of this program?</strong></p><figure name="9052" id="9052" class="graf graf--figure graf--iframe graf-after--p"><script src="https://gist.github.com/Sadamingh/ddf2d21efd3bc0b2656fbf751a5c9d2c.js"></script></figure><p name="522d" id="522d" class="graf graf--p graf-after--figure">Answer:</p><pre name="4fd0" id="4fd0" class="graf graf--pre graf-after--p">&lt;_io.TextIOWrapper name=&#39;exec.txt&#39; mode=&#39;a&#39; encoding=&#39;UTF-8&#39;&gt;</pre><p name="34c4" id="34c4" class="graf graf--p graf-after--pre">A closed file is still a file object.</p><p name="099f" id="099f" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">(3) Example #3. What will be the output of this program?</strong></p><figure name="ba2d" id="ba2d" class="graf graf--figure graf--iframe graf-after--p"><script src="https://gist.github.com/Sadamingh/6b5ceeb2ce968aab206726367ce95ec2.js"></script></figure><p name="494f" id="494f" class="graf graf--p graf-after--figure">Answer:</p><pre name="e068" id="e068" class="graf graf--pre graf-after--p">False</pre><p name="bd34" id="bd34" class="graf graf--p graf-after--pre">Even if two file objects are properly closed, they are not the same.</p><p name="6234" id="6234" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">(4) Example #4. What will be the output of this program?</strong></p><figure name="25c3" id="25c3" class="graf graf--figure graf--iframe graf-after--p"><script src="https://gist.github.com/Sadamingh/e47d59d9413c1b97fa85c5f33464e93c.js"></script></figure><p name="0e23" id="0e23" class="graf graf--p graf-after--figure">Answer:</p><pre name="d018" id="d018" class="graf graf--pre graf-after--p">False</pre><p name="cf06" id="cf06" class="graf graf--p graf-after--pre">Same.</p><p name="2b8d" id="2b8d" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">(5) Example #5. What will be the output of this program?</strong></p><figure name="462c" id="462c" class="graf graf--figure graf--iframe graf-after--p"><script src="https://gist.github.com/Sadamingh/91c956c42edeb5b68f84be9582bcbbaa.js"></script></figure><p name="81db" id="81db" class="graf graf--p graf-after--figure">Answer:</p><pre name="1bab" id="1bab" class="graf graf--pre graf-after--p">True</pre><p name="8b53" id="8b53" class="graf graf--p graf-after--pre graf--trailing">This is a simple assigning statement.</p></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@adamedelweiss" class="p-author h-card">Adam Edelweiss</a> on <a href="https://medium.com/p/c2967dfb547c"><time class="dt-published" datetime="2020-10-06T14:01:39.852Z">October 6, 2020</time></a>.</p><p><a href="https://medium.com/@adamedelweiss/advanced-python-7-os-sys-module-file-i-o-and-pathlib-c2967dfb547c" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on December 15, 2021.</p></footer></article></body></html>