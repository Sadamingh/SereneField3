<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>Advanced Python 8 | OOP, Namedtuple,  and Dataclass</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">Advanced Python 8 | OOP, Namedtuple,  and Dataclass</h1>
</header>
<section data-field="subtitle" class="p-summary">
Series: Advanced Python
</section>
<section data-field="body" class="e-content">
<section name="1e40" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="87ec" id="87ec" class="graf graf--h3 graf--leading graf--title">Advanced Python 8 | OOP, <strong class="markup--strong markup--h3-strong">Namedtuple, and Dataclass</strong></h3><figure name="5fbb" id="5fbb" class="graf graf--figure graf-after--h3"><img class="graf-image" data-image-id="1*Gy1VRT0yCmnZn-xpH_hVIw.png" data-width="1590" data-height="1018" data-is-featured="true" src="https://cdn-images-1.medium.com/max/800/1*Gy1VRT0yCmnZn-xpH_hVIw.png"></figure><ol class="postList"><li name="e693" id="e693" class="graf graf--li graf-after--figure"><strong class="markup--strong markup--li-strong">Class and Objects</strong></li></ol><ul class="postList"><li name="697c" id="697c" class="graf graf--li graf-after--li">Class name rules</li></ul><p name="9010" id="9010" class="graf graf--p graf-after--li">We use the camel rules for Python classes. You can also see the snake case that we commonly used to name variables in Python.</p><ul class="postList"><li name="8773" id="8773" class="graf graf--li graf-after--p">build a class</li></ul><pre name="0430" id="0430" class="graf graf--pre graf-after--li">class Dog:<br>    pass</pre><ul class="postList"><li name="4bc1" id="4bc1" class="graf graf--li graf-after--pre">create an object</li></ul><pre name="66a3" id="66a3" class="graf graf--pre graf-after--li">class Dog:<br>    pass</pre><pre name="3c66" id="3c66" class="graf graf--pre graf-after--pre">dog = Dog()</pre><ul class="postList"><li name="f8f5" id="f8f5" class="graf graf--li graf-after--pre">run the constructor when creating the object: __init__</li></ul><figure name="019a" id="019a" class="graf graf--figure graf--iframe graf-after--li"><script src="https://gist.github.com/Sadamingh/36fa1eaea0356820dc793a066e3f8686.js"></script></figure><ul class="postList"><li name="d585" id="d585" class="graf graf--li graf-after--figure">run the destructor when deleting the object: __del__</li></ul><figure name="8cc9" id="8cc9" class="graf graf--figure graf--iframe graf-after--li"><script src="https://gist.github.com/Sadamingh/b9301ed0e78cc3c1fdf63fce81d2f1a8.js"></script></figure><p name="f9f3" id="f9f3" class="graf graf--p graf-after--figure">Output:</p><pre name="c3cc" id="c3cc" class="graf graf--pre graf-after--p">Bay is dead.</pre><ul class="postList"><li name="7ab3" id="7ab3" class="graf graf--li graf-after--pre">create an <strong class="markup--strong markup--li-strong">instance method</strong>: we must have an object (instance), then we can use this method</li></ul><figure name="4db7" id="4db7" class="graf graf--figure graf--iframe graf-after--li"><script src="https://gist.github.com/Sadamingh/a64a494bb2a2e360ca9af1712c737763.js"></script></figure><p name="97b2" id="97b2" class="graf graf--p graf-after--figure">Output:</p><pre name="818f" id="818f" class="graf graf--pre graf-after--p">Bay is white. <br>Bay is dead.</pre><p name="bae2" id="bae2" class="graf graf--p graf-after--pre">If we haven’t got an instance, we can not directly use this method. Thus, if we try,</p><pre name="cf5f" id="cf5f" class="graf graf--pre graf-after--p">Dog.get_color()</pre><p name="06ca" id="06ca" class="graf graf--p graf-after--pre">Then, we will have an error,</p><pre name="094a" id="094a" class="graf graf--pre graf-after--p">TypeError: get_color() missing 1 required positional argument: &#39;self&#39;</pre><ul class="postList"><li name="e51f" id="e51f" class="graf graf--li graf-after--pre">create a <strong class="markup--strong markup--li-strong">class method</strong>: the class method can not use the self attributes, however, it can use the class attributes.</li></ul><figure name="d54a" id="d54a" class="graf graf--figure graf--iframe graf-after--li"><script src="https://gist.github.com/Sadamingh/ddf54956498f6294c91b7cd491ba47af.js"></script></figure><p name="5765" id="5765" class="graf graf--p graf-after--figure">Output:</p><pre name="ce64" id="ce64" class="graf graf--pre graf-after--p"><code class="markup--code markup--pre-code">The dog barks Wloof! <br>Bay is white. <br>The dog barks Wloof! <br>Bay is dead.</code></pre><ul class="postList"><li name="e858" id="e858" class="graf graf--li graf-after--pre">create a <strong class="markup--strong markup--li-strong">static method</strong>: a static method don’t need anything to run (neither cls or self). You can call a static method whenever you want.</li></ul><figure name="e826" id="e826" class="graf graf--figure graf--iframe graf-after--li"><script src="https://gist.github.com/Sadamingh/2431ddb2a5e5d8398cef3d9b9f2da926.js"></script></figure><p name="edd9" id="edd9" class="graf graf--p graf-after--figure">Output:</p><pre name="26c6" id="26c6" class="graf graf--pre graf-after--p"><code class="markup--code markup--pre-code">class method ------------------ <br>The dog barks Wloof!  </code></pre><pre name="e4de" id="e4de" class="graf graf--pre graf-after--pre"><code class="markup--code markup--pre-code">static method ------------------ <br>Sit!  </code></pre><pre name="5bdf" id="5bdf" class="graf graf--pre graf-after--pre"><code class="markup--code markup--pre-code">instance method ---------------- <br>Bay is white. <br>The dog barks Wloof! <br>Stand! <br>Bay is dead.</code></pre><ul class="postList"><li name="1093" id="1093" class="graf graf--li graf-after--pre">inheritance from the Dog class, we can create a Cat class</li></ul><figure name="62b7" id="62b7" class="graf graf--figure graf--iframe graf-after--li"><script src="https://gist.github.com/Sadamingh/f874bc434e5ce18f4854f28fe505da29.js"></script></figure><p name="b3a6" id="b3a6" class="graf graf--p graf-after--figure">Output:</p><pre name="5b1a" id="5b1a" class="graf graf--pre graf-after--p">class method ------------------<br>The cats are meowing!<br><br>static method ------------------<br>Roll over!<br><br>instance method ----------------<br>Tom is white.<br>The cats can&#39;t bark!<br>The cats are meowing!<br>Stand!<br>Tom is dead.</pre><p name="070e" id="070e" class="graf graf--p graf-after--pre">Note that a class can have multiple inheritances (actually, as many parents as you like, but this may cause some conflicts in the constructor __init__).</p><p name="ac58" id="ac58" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">2. Name Tuples and Data Class</strong></p><p name="d458" id="d458" class="graf graf--p graf-after--p">To use the namedtuple, we have to import it from collections,</p><pre name="3a09" id="3a09" class="graf graf--pre graf-after--p">from collections import namedtuple</pre><p name="9f73" id="9f73" class="graf graf--p graf-after--pre">To use dataclasses, we have to import it from dataclass</p><pre name="3842" id="3842" class="graf graf--pre graf-after--p">from dataclasses import dataclass</pre><ul class="postList"><li name="0c52" id="0c52" class="graf graf--li graf-after--pre">Create a point namedtuple class with x and y named Point</li></ul><pre name="fa31" id="fa31" class="graf graf--pre graf-after--li">Point = namedtuple(&#39;Point&#39;, [&#39;x&#39;, &#39;y&#39;])</pre><ul class="postList"><li name="df2b" id="df2b" class="graf graf--li graf-after--pre">Create an instance of this Point namedtuple</li></ul><pre name="5a3e" id="5a3e" class="graf graf--pre graf-after--li">p = Point(11, 22)</pre><ul class="postList"><li name="128e" id="128e" class="graf graf--li graf-after--pre">get the x from p</li></ul><pre name="4bed" id="4bed" class="graf graf--pre graf-after--li">p.x</pre><ul class="postList"><li name="0337" id="0337" class="graf graf--li graf-after--pre">get the y from p</li></ul><pre name="4fb6" id="4fb6" class="graf graf--pre graf-after--li">p.y</pre><ul class="postList"><li name="3a47" id="3a47" class="graf graf--li graf-after--pre">replace x in this namedtuple p with 100</li></ul><pre name="9828" id="9828" class="graf graf--pre graf-after--li">p._replace(x=100)</pre><ul class="postList"><li name="e5c4" id="e5c4" class="graf graf--li graf-after--pre">change this namedtuple to a dictionary</li></ul><pre name="54b1" id="54b1" class="graf graf--pre graf-after--li">dict(p._asdict())</pre><ul class="postList"><li name="9790" id="9790" class="graf graf--li graf-after--pre">change a dictionary to a namedtuple</li></ul><pre name="f863" id="f863" class="graf graf--pre graf-after--li">Point(**dict(p._asdict()))</pre><ul class="postList"><li name="f41f" id="f41f" class="graf graf--li graf-after--pre">Example: create a PS5 namedtuple from a dictionary</li></ul><pre name="c514" id="c514" class="graf graf--pre graf-after--li">PS5 = namedtuple(&#39;PS5&#39;, [&#39;name&#39;, &#39;price&#39;, &#39;currency&#39;, &#39;quantity&#39;])<br>item_dict = dict(name=&quot;PlayStation 5&quot;,<br>                 price=499.99,<br>                 currency=&quot;US dollars&quot;,<br>                 quantity=None)<br>PS5(**item_dict)</pre><p name="3037" id="3037" class="graf graf--p graf-after--pre">Output:</p><pre name="06a0" id="06a0" class="graf graf--pre graf-after--p"><code class="markup--code markup--pre-code">PS5(name=&#39;PlayStation 5&#39;, price=499.99, currency=&#39;US dollars&#39;, quantity=None)</code></pre><ul class="postList"><li name="2ec9" id="2ec9" class="graf graf--li graf-after--pre">create a PS5 class</li></ul><pre name="c9ee" id="c9ee" class="graf graf--pre graf-after--li">class PS5:<br>    name: str<br>    price: float<br>    currency: str=&quot;US dollars&quot;<br>    quantity: int=0</pre><p name="0915" id="0915" class="graf graf--p graf-after--pre">We can build this class, however, we can not initialize the name and other stuff by a simple class like this. For example, if we write,</p><pre name="7ab5" id="7ab5" class="graf graf--pre graf-after--p">item = PS5(name=&quot;PlayStation 5&quot;,<br>           price=499.99,<br>           currency=&quot;US dollars&quot;,<br>           quantity=0)</pre><p name="0dac" id="0dac" class="graf graf--p graf-after--pre">We will have an error because PS5 class takes no arguments for construction. That’s why we use dataclass.</p><ul class="postList"><li name="4fd6" id="4fd6" class="graf graf--li graf-after--p">create a PS5 dataclass</li></ul><pre name="4520" id="4520" class="graf graf--pre graf-after--li">@ dataclass<br>class PS5:<br>    name: str<br>    price: float<br>    currency: str=&quot;US dollars&quot;<br>    quantity: int=0</pre><p name="3ebe" id="3ebe" class="graf graf--p graf-after--pre">We use dataclass because it saves our time by not building a constructor for a class, which is useful in data analysis process. Then it is okay for us to use,</p><pre name="1d8c" id="1d8c" class="graf graf--pre graf-after--p graf--trailing">item = PS5(name=&quot;PlayStation 5&quot;,<br>           price=499.99,<br>           currency=&quot;US dollars&quot;,<br>           quantity=0)</pre></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@adamedelweiss" class="p-author h-card">Adam Edelweiss</a> on <a href="https://medium.com/p/4c6ffbe8eda5"><time class="dt-published" datetime="2020-10-06T16:31:50.884Z">October 6, 2020</time></a>.</p><p><a href="https://medium.com/@adamedelweiss/advanced-python-8-oop-namedtuple-and-dataclass-4c6ffbe8eda5" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on December 15, 2021.</p></footer></article></body></html>