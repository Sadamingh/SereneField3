<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>计算机网络1 TCP/IP协议栈</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">计算机网络1 TCP/IP协议栈</h1>
</header>
<section data-field="subtitle" class="p-summary">
系列：计算机网络
</section>
<section data-field="body" class="e-content">
<section name="afa7" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="ecf9" id="ecf9" class="graf graf--h3 graf--leading graf--title">计算机网络1 <strong class="markup--strong markup--h3-strong">TCP/IP协议栈</strong></h3><figure name="1c6e" id="1c6e" class="graf graf--figure graf-after--h3"><img class="graf-image" data-image-id="1*cjJgSgroJtgtXMVPTmt2WA.jpeg" data-width="2689" data-height="1513" data-is-featured="true" src="https://cdn-images-1.medium.com/max/800/1*cjJgSgroJtgtXMVPTmt2WA.jpeg"></figure><p name="be1b" id="be1b" class="graf graf--p graf-after--figure"><strong class="markup--strong markup--p-strong">一、OSI分层协议，一部分处于用户态，一部分处于内核态</strong></p><ol class="postList"><li name="afb3" id="afb3" class="graf graf--li graf-after--p">开放系统互连OSI分为几层？如何画？每层的作用是什么？</li></ol><ul class="postList"><li name="3322" id="3322" class="graf graf--li graf-after--li">应用层(数据): 确定进程之间通信的性质以满足用户需要以及提供网络与用户应用</li><li name="1dda" id="1dda" class="graf graf--li graf-after--li">表示层(数据): 主要解决用户信息的语法表示问题，如加密解密</li><li name="ab1a" id="ab1a" class="graf graf--li graf-after--li">会话层(数据): 提供包括访问验证和会话管理在内的建立和维护应用之间通信的机制，如服务器验证用户登录便是由会话层完成的</li><li name="e588" id="e588" class="graf graf--li graf-after--li">传输层(段): 实现网络不同主机上用户进程之间的数据通信，可靠与不可靠的传输，传输层的错误检测，流量控制等</li><li name="5072" id="5072" class="graf graf--li graf-after--li">网络层(包): 提供逻辑地址(IP)、选路，数据从源端到目的端的传输</li><li name="9f41" id="9f41" class="graf graf--li graf-after--li">数据链路层(帧): 将上层数据封装成帧，用 MAC 地址访问媒介，错误检测与修正</li><li name="908e" id="908e" class="graf graf--li graf-after--li">物理层(比特流): 设备之间比特流的传输，物理接口，电气特性等</li></ul><p name="93e0" id="93e0" class="graf graf--p graf-after--li"><strong class="markup--strong markup--p-strong">二、大部分储存于操作系统内核空间</strong></p><ul class="postList"><li name="a416" id="a416" class="graf graf--li graf-after--p">链路层</li><li name="f073" id="f073" class="graf graf--li graf-after--li">网络层IP</li><li name="591c" id="591c" class="graf graf--li graf-after--li">传输层TCP(UDP)</li></ul><p name="f52e" id="f52e" class="graf graf--p graf-after--li"><strong class="markup--strong markup--p-strong">三、用户空间（</strong>应用层）</p><ul class="postList"><li name="a311" id="a311" class="graf graf--li graf-after--p">DNS协议</li><li name="0559" id="0559" class="graf graf--li graf-after--li">FTP协议</li><li name="d540" id="d540" class="graf graf--li graf-after--li">HTTP协议</li><li name="ecd0" id="ecd0" class="graf graf--li graf-after--li">HTTPS协议</li></ul><p name="e691" id="e691" class="graf graf--p graf-after--li"><strong class="markup--strong markup--p-strong">四、OSI分层特性</strong></p><ul class="postList"><li name="4922" id="4922" class="graf graf--li graf-after--p">透明性：下一层对上一层是透明，这里的方向是数据传输的方向</li><li name="242b" id="242b" class="graf graf--li graf-after--li">对等性：传输在每一层是对等的</li></ul><p name="a49d" id="a49d" class="graf graf--p graf-after--li">五、不同层次间的数据交换设备</p><ol class="postList"><li name="212c" id="212c" class="graf graf--li graf-after--p">网关</li></ol><ul class="postList"><li name="37d2" id="37d2" class="graf graf--li graf-after--li">传输层 to 应用层</li><li name="002b" id="002b" class="graf graf--li graf-after--li">网关在传输层上以实现网络互连，是最复杂的网络互连设备，仅用于两个高层协议不同的网络互连。</li><li name="0688" id="0688" class="graf graf--li graf-after--li">网关的结构也和路由器类似，不同的是互连层。</li><li name="93bf" id="93bf" class="graf graf--li graf-after--li">网关既可以用于广域网互连，也可以用于局域网互连</li></ul><p name="6b43" id="6b43" class="graf graf--p graf-after--li">2. 路由器</p><ul class="postList"><li name="e255" id="e255" class="graf graf--li graf-after--p">网络层 to 网络层</li><li name="2048" id="2048" class="graf graf--li graf-after--li">路由选择:</li><li name="21dd" id="21dd" class="graf graf--li graf-after--li">a. 路由表：路由前缀 = ip+掩码长度</li><li name="d337" id="d337" class="graf graf--li graf-after--li">b. 协议:</li><li name="03b2" id="03b2" class="graf graf--li graf-after--li">(1) 直连路由：直接插入网线，在同一网段的路由，自动添加条目</li><li name="381b" id="381b" class="graf graf--li graf-after--li">(2) 静态路由：工程师手工添加的条目</li><li name="aa87" id="aa87" class="graf graf--li graf-after--li">(3) 动态路由：激活动态路由协议会自动填充的条目</li><li name="c8ad" id="c8ad" class="graf graf--li graf-after--li">优先级</li><li name="1362" id="1362" class="graf graf--li graf-after--li">a. 越小越优先</li><li name="b45e" id="b45e" class="graf graf--li graf-after--li">b. direct协议是0</li><li name="41de" id="41de" class="graf graf--li graf-after--li">开销</li><li name="bf5c" id="bf5c" class="graf graf--li graf-after--li">a. 本地去目标网络的代价</li><li name="81cf" id="81cf" class="graf graf--li graf-after--li">标志/下一跳/出接口</li></ul><p name="f41b" id="f41b" class="graf graf--p graf-after--li">3. 交换机</p><ul class="postList"><li name="4d1d" id="4d1d" class="graf graf--li graf-after--p">数据链路层 to 网络层</li><li name="bd6e" id="bd6e" class="graf graf--li graf-after--li">识别数据包中的 MAC 地址信息，根据 MAC 地址进行转发。</li><li name="7112" id="7112" class="graf graf--li graf-after--li">将这些 MAC 地址与对应的端口记录在自己内部的一个地址表中</li><li name="13ee" id="13ee" class="graf graf--li graf-after--li">存储转发:</li><li name="4ae5" id="4ae5" class="graf graf--li graf-after--li">a. 封装数据包格式：目的地址+原地址+数据+CRC</li><li name="06b4" id="06b4" class="graf graf--li graf-after--li">b. 交换机在缓冲区储存整个接收到的封装数据包</li><li name="4146" id="4146" class="graf graf--li graf-after--li">c. CRC检测法检测数据包是否正确</li><li name="ab6a" id="ab6a" class="graf graf--li graf-after--li">d. 如果正确，交换机从地址表找目的端口地址</li><li name="af33" id="af33" class="graf graf--li graf-after--li">e. 找到目的端口地址后，两个端口建立连接传递数据</li><li name="c7cc" id="c7cc" class="graf graf--li graf-after--li">f. 如果不正确，表明该数据包涵一个及一个以上的错误，丢弃</li><li name="f7bb" id="f7bb" class="graf graf--li graf-after--li">g. 优点是减少错误，残帧，提高传输效率；缺点是高延迟，大内存</li><li name="60c6" id="60c6" class="graf graf--li graf-after--li">直通转发: 储存转发的精简版本</li></ul><p name="2490" id="2490" class="graf graf--p graf-after--li">4. 网桥</p><ul class="postList"><li name="a1c4" id="a1c4" class="graf graf--li graf-after--p">数据链路层 to 数据链路层</li><li name="61dd" id="61dd" class="graf graf--li graf-after--li">将两个LAN连接起来，根据MAC地址来转发帧</li></ul><p name="269c" id="269c" class="graf graf--p graf-after--li">5. 集线器hub</p><ul class="postList"><li name="78c9" id="78c9" class="graf graf--li graf-after--p">物理层 to 物理层</li><li name="b04e" id="b04e" class="graf graf--li graf-after--li">纯硬件设备</li><li name="2e6c" id="2e6c" class="graf graf--li graf-after--li">用来连接计算机等网络终端</li></ul><p name="81a2" id="81a2" class="graf graf--p graf-after--li">6. 中继器</p><ul class="postList"><li name="b4a5" id="b4a5" class="graf graf--li graf-after--p">物理层 to 物理层</li><li name="82af" id="82af" class="graf graf--li graf-after--li">在bit的级别对网络信号进行放大，再生，重定</li><li name="cfef" id="cfef" class="graf graf--li graf-after--li graf--trailing">目的是使网络信号在物理层面传递更远的距离</li></ul></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@adamedelweiss" class="p-author h-card">Adam Edelweiss</a> on <a href="https://medium.com/p/5f0cc87e89f6"><time class="dt-published" datetime="2020-04-24T18:03:14.458Z">April 24, 2020</time></a>.</p><p><a href="https://medium.com/@adamedelweiss/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C1-tcp-ip%E5%8D%8F%E8%AE%AE%E6%A0%88-5f0cc87e89f6" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on December 15, 2021.</p></footer></article></body></html>