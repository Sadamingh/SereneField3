<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>Linux操作系统实践3 Emacs编辑器和Vim编辑器</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">Linux操作系统实践3 Emacs编辑器和Vim编辑器</h1>
</header>
<section data-field="subtitle" class="p-summary">
系列：Linux操作系统实践
</section>
<section data-field="body" class="e-content">
<section name="a778" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="8fff" id="8fff" class="graf graf--h3 graf--leading graf--title">Linux操作系统实践3 Emacs编辑器和Vim编辑器</h3><figure name="40a5" id="40a5" class="graf graf--figure graf-after--h3"><img class="graf-image" data-image-id="1*beSHA3cQNnPOOKl4ypDgfw.jpeg" data-width="2689" data-height="1513" data-is-featured="true" src="https://cdn-images-1.medium.com/max/800/1*beSHA3cQNnPOOKl4ypDgfw.jpeg"></figure><p name="ee74" id="ee74" class="graf graf--p graf-after--figure"><strong class="markup--strong markup--p-strong">一、Emacs编辑器</strong></p><p name="6987" id="6987" class="graf graf--p graf-after--p">Emacs开源编辑器是GNU计划的一部分，由GNU计划的发起人Richard Stallman发行。</p><p name="458f" id="458f" class="graf graf--p graf-after--p">中文的最出色的Emacs指南是Emacs的原生参考文档，我们在这里不会重复复述原生文档中的内容，而是对原生参考文档进行总结和提炼。</p><p name="660f" id="660f" class="graf graf--p graf-after--p">在Emacs编辑器的标记中，我们有两种最重要的标记方法，分别是C -和M -。其中，C -表示的是按住control键（注意不是command键）；M -表示的是按住Meta键（现在很多电脑都没有Meta键，这个键等同于按住Alt键或者按一次Esc键）。</p><p name="a25d" id="a25d" class="graf graf--p graf-after--p">Emacs又一个自带的教程，它将会比我在这里叙述来得更加有帮助，我们下面来打开这个教程。首先，我们打开终端并输入命令：</p><pre name="3bcc" id="3bcc" class="graf graf--pre graf-after--p">emacs</pre><p name="2b3c" id="2b3c" class="graf graf--p graf-after--pre">我们可以看到屏幕上输出了一些文字：</p><figure name="bc28" id="bc28" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*ozTiprULABIfbe4vWREQCQ.png" data-width="1126" data-height="598" src="https://cdn-images-1.medium.com/max/800/1*ozTiprULABIfbe4vWREQCQ.png"></figure><p name="8c0e" id="8c0e" class="graf graf--p graf-after--figure">我们按住Control和字母h键后松手，之后我们看到屏幕上变为如下内容：</p><figure name="4a9d" id="4a9d" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*Ievs-n9pwNWguk6iytQmJg.png" data-width="1126" data-height="678" src="https://cdn-images-1.medium.com/max/800/1*Ievs-n9pwNWguk6iytQmJg.png"></figure><p name="c58f" id="c58f" class="graf graf--p graf-after--figure">之后我们单击字母t键进入教程，跟着教程一步一步地完成即可较为熟练得掌握Emacs的用法。</p><p name="6e3a" id="6e3a" class="graf graf--p graf-after--p">这里我们简短地总结一下：</p><h3 name="cea2" id="cea2" class="graf graf--h3 graf-after--p">开启Emacs</h3><p name="4a9e" id="4a9e" class="graf graf--p graf-after--h3"><code class="markup--code markup--p-code">emacs myprogram.c</code> 如果当前目录中存在该文件，则打开文件myprogram.c；如果当前目录中不存在myprogram.c，则将其创建。</p><p name="d81d" id="d81d" class="graf graf--p graf-after--p"><code class="markup--code markup--p-code">emacs -nw myprogram.c</code> 在同一窗口中打开emacs（否则将在单独的窗口中打开）</p><p name="3f9f" id="3f9f" class="graf graf--p graf-after--p"><code class="markup--code markup--p-code">C-x C-f</code> 如果您已经在emacs中，打开一个新文件</p><p name="2906" id="2906" class="graf graf--p graf-after--p"><code class="markup--code markup--p-code">C-u &lt;chr&gt; C-</code> 可以用于某一指令的重复操作</p><h3 name="dbbc" id="dbbc" class="graf graf--h3 graf-after--p">保存</h3><p name="923c" id="923c" class="graf graf--p graf-after--h3"><code class="markup--code markup--p-code">C-x C-s</code> 保存当前文件</p><p name="42e1" id="42e1" class="graf graf--p graf-after--p"><code class="markup--code markup--p-code">C-x C-w</code> 保存到其他文件（“另存为”）</p><h3 name="9579" id="9579" class="graf graf--h3 graf-after--p">退出</h3><p name="d896" id="d896" class="graf graf--p graf-after--h3"><code class="markup--code markup--p-code">C-x C-c</code> 退出emacs</p><h3 name="0261" id="0261" class="graf graf--h3 graf-after--p">移动光标</h3><p name="4973" id="4973" class="graf graf--p graf-after--h3"><code class="markup--code markup--p-code">C-p </code>将光标向上移动一行</p><p name="d2c5" id="d2c5" class="graf graf--p graf-after--p"><code class="markup--code markup--p-code">C-n </code>将光标向下移动一行</p><p name="fb01" id="fb01" class="graf graf--p graf-after--p"><code class="markup--code markup--p-code">C-b</code>将光标向左移动一个字符</p><p name="0715" id="0715" class="graf graf--p graf-after--p"><code class="markup--code markup--p-code">C-f</code>将光标向右移动一个字符</p><p name="37a8" id="37a8" class="graf graf--p graf-after--p"><code class="markup--code markup--p-code">C-a</code> 将光标移到行首</p><p name="d7d9" id="d7d9" class="graf graf--p graf-after--p"><code class="markup--code markup--p-code">C-e</code> 将光标移到行尾</p><p name="4efb" id="4efb" class="graf graf--p graf-after--p"><code class="markup--code markup--p-code">C-v</code> 向下翻页</p><p name="39a4" id="39a4" class="graf graf--p graf-after--p"><code class="markup--code markup--p-code">M-v</code> 向上翻页</p><p name="2fb8" id="2fb8" class="graf graf--p graf-after--p"><code class="markup--code markup--p-code">M-f</code>或<code class="markup--code markup--p-code">M-right arrow</code>向右移动一个单词</p><p name="4d50" id="4d50" class="graf graf--p graf-after--p"><code class="markup--code markup--p-code">M-b</code>或<code class="markup--code markup--p-code">M-left arrow</code>向左移动一个单词</p><p name="4a15" id="4a15" class="graf graf--p graf-after--p"><code class="markup--code markup--p-code">M-&lt;</code> 文件开始</p><p name="d7fc" id="d7fc" class="graf graf--p graf-after--p"><code class="markup--code markup--p-code">M-&gt;</code> 文件结尾</p><p name="5359" id="5359" class="graf graf--p graf-after--p"><code class="markup--code markup--p-code">M-g g &lt;chr&gt;</code>转到第chr行</p><h3 name="b277" id="b277" class="graf graf--h3 graf-after--p">搜索</h3><p name="118d" id="118d" class="graf graf--p graf-after--h3"><code class="markup--code markup--p-code">C-s</code>搜索文件。重复按一下可跳至下一个事件</p><p name="325e" id="325e" class="graf graf--p graf-after--p"><code class="markup--code markup--p-code">M-%</code> 查找和替换</p><h3 name="175b" id="175b" class="graf graf--h3 graf-after--p">剪切/复制/粘贴</h3><p name="cd3e" id="cd3e" class="graf graf--p graf-after--h3"><code class="markup--code markup--p-code">C-k</code> 剪切整行</p><p name="435f" id="435f" class="graf graf--p graf-after--p"><code class="markup--code markup--p-code">C-y</code> 粘贴kill缓冲区中的所有内容</p><p name="58fe" id="58fe" class="graf graf--p graf-after--p">如果您连续击中<code class="markup--code markup--p-code">C-k</code>多次（之间没有其他命令），则粘贴时，所有行都会被选入<code class="markup--code markup--p-code">C-y</code>。</p><h3 name="33d0" id="33d0" class="graf graf--h3 graf-after--p">其他有用的命令</h3><p name="4a95" id="4a95" class="graf graf--p graf-after--h3"><code class="markup--code markup--p-code">C-x u</code> 撤消</p><p name="8f0d" id="8f0d" class="graf graf--p graf-after--p"><code class="markup--code markup--p-code">C-g</code> 取消（如果您陷于命令或提示中，则多次按下此键可以使您离开）</p><p name="9887" id="9887" class="graf graf--p graf-after--p">另外，我们也可以参考下面一份Ref Card来快速参考Emacs的快捷键：</p><figure name="2212" id="2212" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*y7vsg3VD_6JRZLsngGIIwA.png" data-width="2234" data-height="1572" src="https://cdn-images-1.medium.com/max/800/1*y7vsg3VD_6JRZLsngGIIwA.png"><figcaption class="imageCaption"><a href="https://web.stanford.edu/class/archive/cs/cs107/cs107.1186/resources/emacs_refcard.pdf" data-href="https://web.stanford.edu/class/archive/cs/cs107/cs107.1186/resources/emacs_refcard.pdf" class="markup--anchor markup--figure-anchor" rel="noopener" target="_blank">https://web.stanford.edu/class/archive/cs/cs107/cs107.1186/resources/emacs_refcard.pdf</a></figcaption></figure><figure name="6b01" id="6b01" class="graf graf--figure graf-after--figure"><img class="graf-image" data-image-id="1*8bV5BunOJu3TV5VQYvHgUA.png" data-width="2234" data-height="1572" src="https://cdn-images-1.medium.com/max/800/1*8bV5BunOJu3TV5VQYvHgUA.png"><figcaption class="imageCaption"><a href="https://web.stanford.edu/class/archive/cs/cs107/cs107.1186/resources/emacs_refcard.pdf" data-href="https://web.stanford.edu/class/archive/cs/cs107/cs107.1186/resources/emacs_refcard.pdf" class="markup--anchor markup--figure-anchor" rel="noopener" target="_blank">https://web.stanford.edu/class/archive/cs/cs107/cs107.1186/resources/emacs_refcard.pdf</a></figcaption></figure><p name="a3dd" id="a3dd" class="graf graf--p graf-after--figure"><strong class="markup--strong markup--p-strong">二、Vim编辑器</strong></p><p name="66a0" id="66a0" class="graf graf--p graf-after--p">在Mac系统上，原始的vim编辑器是比较难看的。例如，我们打开一个最简单的C语言程序hello.c，我们可以看到，字体的颜色还有各方面都非常单调，不利于代码的阅读和使用。</p><figure name="23b1" id="23b1" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*dRiGABONJPDYc7xgcmOLWg.png" data-width="563" data-height="339" src="https://cdn-images-1.medium.com/max/800/1*dRiGABONJPDYc7xgcmOLWg.png"><figcaption class="imageCaption">原始的vim页面</figcaption></figure><p name="7ca6" id="7ca6" class="graf graf--p graf-after--figure">我们希望将这个页面变得更好看一点，比如我们让它拥有合适的缩进、高亮的语法、以及行数。我们在这里使用stanford大学给出的.vimrc文件来提供这种解决。</p><p name="3a32" id="3a32" class="graf graf--p graf-after--p">https://web.stanford.edu/class/archive/cs/cs107/cs107.1186/resources/sample_vimrc</p><pre name="bc83" id="bc83" class="graf graf--pre graf-after--p">&quot;&quot;&quot;&quot; 1. Vim Behaviour.<br>&quot; Use filetype-based syntax hilighting, ftplugins, and indentation.<br>syntax on<br>filetype plugin indent on<br>&quot; Use numbering. Don&#39;t use relative numbering as this is slow (especially in<br>&quot; .tex files).<br>set number<br>&quot; Enables mouse support. Note that on Mac OS X this doesn&#39;t work well on the<br>&quot; default terminal.<br>set mouse=a<br><br>&quot;&quot;&quot;&quot; 2. Key Bindings.<br>&quot; More convenient movement when lines are wrapped.<br>nmap j gj<br>nmap k gk<br><br>&quot;&quot;&quot;&quot; 3. Vim Appearance.<br>&quot; Search settings<br>set hlsearch &quot; hilight<br>set incsearch &quot; jump to best fit<br> &quot; Turn off seach hilighting with &lt;CR&gt;.<br>nnoremap &lt;CR&gt; :nohlsearch&lt;CR&gt;&lt;CR&gt;<br>&quot; Tab settings<br>set autoindent<br>set smartindent<br>set tabstop=4<br>set shiftwidth=4<br>set expandtab<br>&quot; Make statusline appear even with only single window.<br>set laststatus=2<br><br>&quot; vim: set ft=vim foldmethod=marker ts=4 sw=4 tw=80 et :</pre><p name="f2c9" id="f2c9" class="graf graf--p graf-after--pre">我们使用刚才学会的Emacs编辑器来设置这个文件。首先我们进入home目录，然后在home中通过Emacs创建（或者打开）一个名字为.vimrc的文件。</p><pre name="5b29" id="5b29" class="graf graf--pre graf-after--p">emacs .vimrc</pre><p name="ee8a" id="ee8a" class="graf graf--p graf-after--pre">我们将上面的内容贴进去，然后保存文件。</p><pre name="9d0c" id="9d0c" class="graf graf--pre graf-after--p">C-x C-s<br>C-x C-c</pre><p name="4e2c" id="4e2c" class="graf graf--p graf-after--pre">之后我们再通过vim打开hello.c程序，我们发现格式变得可读性更高了。</p><figure name="a190" id="a190" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*sk4YrU90SCXMe0P5HxEYZw.png" data-width="1126" data-height="678" src="https://cdn-images-1.medium.com/max/800/1*sk4YrU90SCXMe0P5HxEYZw.png"><figcaption class="imageCaption">使用了Sample的vim</figcaption></figure><p name="4f78" id="4f78" class="graf graf--p graf-after--figure">Vim分为两种模式：Command模式和Insert模式。在Command模式下，我们可以输入一些指令对文件进行操作，但是在Insert模式之下，我们输入的所有内容都会变成字符输入到文件的内容之中去。</p><p name="1c9a" id="1c9a" class="graf graf--p graf-after--p">一个经验丰富的用户会将大部分时间花费在Command模式之下，除非他们正在积极地编写内容。在Command模式下，我们可以通过键盘上的字母i键进入到Insert模式下。在Insert模式下，我们可以通过键盘上的ESC键返回到Command模式之中。</p><p name="a4cf" id="a4cf" class="graf graf--p graf-after--p">在Command模式之下，我们还需要知道vim的一些指令：</p><h3 name="89e7" id="89e7" class="graf graf--h3 graf-after--p">保存和退出文件</h3><p name="e73a" id="e73a" class="graf graf--p graf-after--h3">—————————————————————————————————</p><p name="0636" id="0636" class="graf graf--p graf-after--p"><code class="markup--code markup--p-code">:q </code>这表示退出编辑器</p><p name="a777" id="a777" class="graf graf--p graf-after--p"><code class="markup--code markup--p-code">:w </code>这表示将编辑的内容写入文件，即保存</p><p name="3fee" id="3fee" class="graf graf--p graf-after--p"><code class="markup--code markup--p-code">:wq </code>这表示保存并退出文件</p><p name="afba" id="afba" class="graf graf--p graf-after--p"><code class="markup--code markup--p-code">:x </code>这表示保存并退出文件</p><p name="78cd" id="78cd" class="graf graf--p graf-after--p"><code class="markup--code markup--p-code">:q! </code>这表示退出编辑器</p><h3 name="08ab" id="08ab" class="graf graf--h3 graf-after--p">移动光标</h3><p name="cf80" id="cf80" class="graf graf--p graf-after--h3">___________________________________________________________________</p><p name="b35a" id="b35a" class="graf graf--p graf-after--p"><code class="markup--code markup--p-code">k </code>向上移动</p><p name="c518" id="c518" class="graf graf--p graf-after--p"><code class="markup--code markup--p-code">h </code>向左移动</p><p name="67d8" id="67d8" class="graf graf--p graf-after--p"><code class="markup--code markup--p-code">l </code>向右移动</p><p name="3805" id="3805" class="graf graf--p graf-after--p"><code class="markup--code markup--p-code">j </code>向下移动</p><p name="9e58" id="9e58" class="graf graf--p graf-after--p"><code class="markup--code markup--p-code">w </code>向右移动一个单词</p><p name="f992" id="f992" class="graf graf--p graf-after--p"><code class="markup--code markup--p-code">b </code>向左移动一个单词</p><p name="8eab" id="8eab" class="graf graf--p graf-after--p"><code class="markup--code markup--p-code">Control-f </code>向后翻一页</p><p name="e3bf" id="e3bf" class="graf graf--p graf-after--p"><code class="markup--code markup--p-code">Control-b </code>向前翻一页</p><p name="67aa" id="67aa" class="graf graf--p graf-after--p"><code class="markup--code markup--p-code">:&lt;chr&gt; </code>跳转到第&lt;chr&gt;行</p><p name="f789" id="f789" class="graf graf--p graf-after--p"><code class="markup--code markup--p-code">gg </code>移动到文档开头</p><p name="1ddc" id="1ddc" class="graf graf--p graf-after--p"><code class="markup--code markup--p-code">G </code>移动到文档结尾</p><h3 name="add3" id="add3" class="graf graf--h3 graf-after--p">搜索</h3><p name="cd0b" id="cd0b" class="graf graf--p graf-after--h3">___________________________________________________________________</p><p name="ca22" id="ca22" class="graf graf--p graf-after--p"><code class="markup--code markup--p-code">/&lt;chr&gt; </code>在文档中搜索&lt;chr&gt;内容</p><p name="56a4" id="56a4" class="graf graf--p graf-after--p"><code class="markup--code markup--p-code">n </code>下一个搜索结果</p><p name="3bcf" id="3bcf" class="graf graf--p graf-after--p graf--trailing"><code class="markup--code markup--p-code">N </code>上一个搜索结果</p></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@adamedelweiss" class="p-author h-card">Adam Edelweiss</a> on <a href="https://medium.com/p/d78a571a007c"><time class="dt-published" datetime="2020-05-01T14:03:29.197Z">May 1, 2020</time></a>.</p><p><a href="https://medium.com/@adamedelweiss/linux%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AE%9E%E8%B7%B53-emacs%E7%BC%96%E8%BE%91%E5%99%A8%E5%92%8Cvim%E7%BC%96%E8%BE%91%E5%99%A8-d78a571a007c" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on December 15, 2021.</p></footer></article></body></html>